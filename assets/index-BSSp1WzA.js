function a6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function $n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Iv={exports:{}},Cc={};var mk;function i6(){if(mk)return Cc;mk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var d in i)d!=="key"&&(s[d]=i[d])}else s=i;return i=s.ref,{$$typeof:e,type:n,key:l,ref:i!==void 0?i:null,props:s}}return Cc.Fragment=t,Cc.jsx=r,Cc.jsxs=r,Cc}var pk;function s6(){return pk||(pk=1,Iv.exports=i6()),Iv.exports}var c=s6(),Lv={exports:{}},Te={};var gk;function o6(){if(gk)return Te;gk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,j={};function _(D,H,Q){this.props=D,this.context=H,this.refs=j,this.updater=Q||S}_.prototype.isReactComponent={},_.prototype.setState=function(D,H){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,H,"setState")},_.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function E(){}E.prototype=_.prototype;function A(D,H,Q){this.props=D,this.context=H,this.refs=j,this.updater=Q||S}var T=A.prototype=new E;T.constructor=A,k(T,_.prototype),T.isPureReactComponent=!0;var C=Array.isArray;function O(){}var M={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function I(D,H,Q){var ie=Q.ref;return{$$typeof:e,type:D,key:H,ref:ie!==void 0?ie:null,props:Q}}function q(D,H){return I(D.type,H,D.props)}function Z(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function U(D){var H={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Q){return H[Q]})}var ce=/\/+/g;function $(D,H){return typeof D=="object"&&D!==null&&D.key!=null?U(""+D.key):H.toString(36)}function te(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(O,O):(D.status="pending",D.then(function(H){D.status==="pending"&&(D.status="fulfilled",D.value=H)},function(H){D.status==="pending"&&(D.status="rejected",D.reason=H)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function L(D,H,Q,ie,me){var le=typeof D;(le==="undefined"||le==="boolean")&&(D=null);var he=!1;if(D===null)he=!0;else switch(le){case"bigint":case"string":case"number":he=!0;break;case"object":switch(D.$$typeof){case e:case t:he=!0;break;case p:return he=D._init,L(he(D._payload),H,Q,ie,me)}}if(he)return me=me(D),he=ie===""?"."+$(D,0):ie,C(me)?(Q="",he!=null&&(Q=he.replace(ce,"$&/")+"/"),L(me,H,Q,"",function(Ce){return Ce})):me!=null&&(Z(me)&&(me=q(me,Q+(me.key==null||D&&D.key===me.key?"":(""+me.key).replace(ce,"$&/")+"/")+he)),H.push(me)),1;he=0;var ot=ie===""?".":ie+":";if(C(D))for(var re=0;re<D.length;re++)ie=D[re],le=ot+$(ie,re),he+=L(ie,H,Q,le,me);else if(re=x(D),typeof re=="function")for(D=re.call(D),re=0;!(ie=D.next()).done;)ie=ie.value,le=ot+$(ie,re++),he+=L(ie,H,Q,le,me);else if(le==="object"){if(typeof D.then=="function")return L(te(D),H,Q,ie,me);throw H=String(D),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return he}function F(D,H,Q){if(D==null)return D;var ie=[],me=0;return L(D,ie,"","",function(le){return H.call(Q,le,me++)}),ie}function ae(D){if(D._status===-1){var H=D._result;H=H(),H.then(function(Q){(D._status===0||D._status===-1)&&(D._status=1,D._result=Q)},function(Q){(D._status===0||D._status===-1)&&(D._status=2,D._result=Q)}),D._status===-1&&(D._status=0,D._result=H)}if(D._status===1)return D._result.default;throw D._result}var ue=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}},ee={map:F,forEach:function(D,H,Q){F(D,function(){H.apply(this,arguments)},Q)},count:function(D){var H=0;return F(D,function(){H++}),H},toArray:function(D){return F(D,function(H){return H})||[]},only:function(D){if(!Z(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Te.Activity=g,Te.Children=ee,Te.Component=_,Te.Fragment=r,Te.Profiler=i,Te.PureComponent=A,Te.StrictMode=n,Te.Suspense=f,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Te.__COMPILER_RUNTIME={__proto__:null,c:function(D){return M.H.useMemoCache(D)}},Te.cache=function(D){return function(){return D.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(D,H,Q){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ie=k({},D.props),me=D.key;if(H!=null)for(le in H.key!==void 0&&(me=""+H.key),H)!P.call(H,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&H.ref===void 0||(ie[le]=H[le]);var le=arguments.length-2;if(le===1)ie.children=Q;else if(1<le){for(var he=Array(le),ot=0;ot<le;ot++)he[ot]=arguments[ot+2];ie.children=he}return I(D.type,me,ie)},Te.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:s,_context:D},D},Te.createElement=function(D,H,Q){var ie,me={},le=null;if(H!=null)for(ie in H.key!==void 0&&(le=""+H.key),H)P.call(H,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(me[ie]=H[ie]);var he=arguments.length-2;if(he===1)me.children=Q;else if(1<he){for(var ot=Array(he),re=0;re<he;re++)ot[re]=arguments[re+2];me.children=ot}if(D&&D.defaultProps)for(ie in he=D.defaultProps,he)me[ie]===void 0&&(me[ie]=he[ie]);return I(D,le,me)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(D){return{$$typeof:d,render:D}},Te.isValidElement=Z,Te.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:ae}},Te.memo=function(D,H){return{$$typeof:h,type:D,compare:H===void 0?null:H}},Te.startTransition=function(D){var H=M.T,Q={};M.T=Q;try{var ie=D(),me=M.S;me!==null&&me(Q,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(O,ue)}catch(le){ue(le)}finally{H!==null&&Q.types!==null&&(H.types=Q.types),M.T=H}},Te.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Te.use=function(D){return M.H.use(D)},Te.useActionState=function(D,H,Q){return M.H.useActionState(D,H,Q)},Te.useCallback=function(D,H){return M.H.useCallback(D,H)},Te.useContext=function(D){return M.H.useContext(D)},Te.useDebugValue=function(){},Te.useDeferredValue=function(D,H){return M.H.useDeferredValue(D,H)},Te.useEffect=function(D,H){return M.H.useEffect(D,H)},Te.useEffectEvent=function(D){return M.H.useEffectEvent(D)},Te.useId=function(){return M.H.useId()},Te.useImperativeHandle=function(D,H,Q){return M.H.useImperativeHandle(D,H,Q)},Te.useInsertionEffect=function(D,H){return M.H.useInsertionEffect(D,H)},Te.useLayoutEffect=function(D,H){return M.H.useLayoutEffect(D,H)},Te.useMemo=function(D,H){return M.H.useMemo(D,H)},Te.useOptimistic=function(D,H){return M.H.useOptimistic(D,H)},Te.useReducer=function(D,H,Q){return M.H.useReducer(D,H,Q)},Te.useRef=function(D){return M.H.useRef(D)},Te.useState=function(D){return M.H.useState(D)},Te.useSyncExternalStore=function(D,H,Q){return M.H.useSyncExternalStore(D,H,Q)},Te.useTransition=function(){return M.H.useTransition()},Te.version="19.2.4",Te}var vk;function hl(){return vk||(vk=1,Lv.exports=o6()),Lv.exports}var b=hl();const Fc=$n(b),l6=a6({__proto__:null,default:Fc},[b]);var Bv={exports:{}},Tc={},zv={exports:{}},qv={};var yk;function c6(){return yk||(yk=1,(function(e){function t(L,F){var ae=L.length;L.push(F);e:for(;0<ae;){var ue=ae-1>>>1,ee=L[ue];if(0<i(ee,F))L[ue]=F,L[ae]=ee,ae=ue;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var F=L[0],ae=L.pop();if(ae!==F){L[0]=ae;e:for(var ue=0,ee=L.length,D=ee>>>1;ue<D;){var H=2*(ue+1)-1,Q=L[H],ie=H+1,me=L[ie];if(0>i(Q,ae))ie<ee&&0>i(me,Q)?(L[ue]=me,L[ie]=ae,ue=ie):(L[ue]=Q,L[H]=ae,ue=H);else if(ie<ee&&0>i(me,ae))L[ue]=me,L[ie]=ae,ue=ie;else break e}}return F}function i(L,F){var ae=L.sortIndex-F.sortIndex;return ae!==0?ae:L.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,g=null,v=3,x=!1,S=!1,k=!1,j=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function T(L){for(var F=r(h);F!==null;){if(F.callback===null)n(h);else if(F.startTime<=L)n(h),F.sortIndex=F.expirationTime,t(f,F);else break;F=r(h)}}function C(L){if(k=!1,T(L),!S)if(r(f)!==null)S=!0,O||(O=!0,U());else{var F=r(h);F!==null&&te(C,F.startTime-L)}}var O=!1,M=-1,P=5,I=-1;function q(){return j?!0:!(e.unstable_now()-I<P)}function Z(){if(j=!1,O){var L=e.unstable_now();I=L;var F=!0;try{e:{S=!1,k&&(k=!1,E(M),M=-1),x=!0;var ae=v;try{t:{for(T(L),g=r(f);g!==null&&!(g.expirationTime>L&&q());){var ue=g.callback;if(typeof ue=="function"){g.callback=null,v=g.priorityLevel;var ee=ue(g.expirationTime<=L);if(L=e.unstable_now(),typeof ee=="function"){g.callback=ee,T(L),F=!0;break t}g===r(f)&&n(f),T(L)}else n(f);g=r(f)}if(g!==null)F=!0;else{var D=r(h);D!==null&&te(C,D.startTime-L),F=!1}}break e}finally{g=null,v=ae,x=!1}F=void 0}}finally{F?U():O=!1}}}var U;if(typeof A=="function")U=function(){A(Z)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,$=ce.port2;ce.port1.onmessage=Z,U=function(){$.postMessage(null)}}else U=function(){_(Z,0)};function te(L,F){M=_(function(){L(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L||(P=0<L?Math.floor(1e3/L):5)},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(L){switch(v){case 1:case 2:case 3:var F=3;break;default:F=v}var ae=v;v=F;try{return L()}finally{v=ae}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ae=v;v=L;try{return F()}finally{v=ae}},e.unstable_scheduleCallback=function(L,F,ae){var ue=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ue+ae:ue):ae=ue,L){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ae+ee,L={id:p++,callback:F,priorityLevel:L,startTime:ae,expirationTime:ee,sortIndex:-1},ae>ue?(L.sortIndex=ae,t(h,L),r(f)===null&&L===r(h)&&(k?(E(M),M=-1):k=!0,te(C,ae-ue))):(L.sortIndex=ee,t(f,L),S||x||(S=!0,O||(O=!0,U()))),L},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(L){var F=v;return function(){var ae=v;v=F;try{return L.apply(this,arguments)}finally{v=ae}}}})(qv)),qv}var bk;function u6(){return bk||(bk=1,zv.exports=c6()),zv.exports}var $v={exports:{}},pr={};var xk;function d6(){if(xk)return pr;xk=1;var e=hl();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return pr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,pr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,p)},pr.flushSync=function(f){var h=l.T,p=n.p;try{if(l.T=null,n.p=2,f)return f()}finally{l.T=h,n.p=p,n.d.f()}},pr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},pr.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},pr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:x}):p==="script"&&n.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},pr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},pr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);n.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},pr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},pr.requestFormReset=function(f){n.d.r(f)},pr.unstable_batchedUpdates=function(f,h){return f(h)},pr.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},pr.useFormStatus=function(){return l.H.useHostTransitionStatus()},pr.version="19.2.4",pr}var wk;function NC(){if(wk)return $v.exports;wk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch{}}return e(),$v.exports=d6(),$v.exports}var jk;function f6(){if(jk)return Tc;jk=1;var e=u6(),t=hl(),r=NC();function n(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(n(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(n(188));return o!==a?null:a}for(var u=a,m=o;;){var y=u.return;if(y===null)break;var w=y.alternate;if(w===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===u)return f(y),a;if(w===m)return f(y),o;w=w.sibling}throw Error(n(188))}if(u.return!==m.return)u=y,m=w;else{for(var N=!1,R=y.child;R;){if(R===u){N=!0,u=y,m=w;break}if(R===m){N=!0,m=y,u=w;break}R=R.sibling}if(!N){for(R=w.child;R;){if(R===u){N=!0,u=w,m=y;break}if(R===m){N=!0,m=w,u=y;break}R=R.sibling}if(!N)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function U(a){return a===null||typeof a!="object"?null:(a=Z&&a[Z]||a["@@iterator"],typeof a=="function"?a:null)}var ce=Symbol.for("react.client.reference");function $(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ce?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case k:return"Fragment";case _:return"Profiler";case j:return"StrictMode";case C:return"Suspense";case O:return"SuspenseList";case I:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case A:return a.displayName||"Context";case E:return(a._context.displayName||"Context")+".Consumer";case T:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return o=a.displayName||null,o!==null?o:$(a.type)||"Memo";case P:o=a._payload,a=a._init;try{return $(a(o))}catch{}}return null}var te=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ue=[],ee=-1;function D(a){return{current:a}}function H(a){0>ee||(a.current=ue[ee],ue[ee]=null,ee--)}function Q(a,o){ee++,ue[ee]=a.current,a.current=o}var ie=D(null),me=D(null),le=D(null),he=D(null);function ot(a,o){switch(Q(le,o),Q(me,a),Q(ie,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?LS(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=LS(o),a=BS(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}H(ie),Q(ie,a)}function re(){H(ie),H(me),H(le)}function Ce(a){a.memoizedState!==null&&Q(he,a);var o=ie.current,u=BS(o,a.type);o!==u&&(Q(me,a),Q(ie,u))}function Ie(a){me.current===a&&(H(ie),H(me)),he.current===a&&(H(he),Ac._currentValue=ae)}var de,It;function Be(a){if(de===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);de=o&&o[1]||"",It=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+a+It}var _t=!1;function Lt(a,o){if(!a||_t)return"";_t=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(J){var X=J}Reflect.construct(a,[],oe)}else{try{oe.call()}catch(J){X=J}a.call(oe.prototype)}}else{try{throw Error()}catch(J){X=J}(oe=a())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),N=w[0],R=w[1];if(N&&R){var B=N.split(`
`),V=R.split(`
`);for(y=m=0;m<B.length&&!B[m].includes("DetermineComponentFrameRoot");)m++;for(;y<V.length&&!V[y].includes("DetermineComponentFrameRoot");)y++;if(m===B.length||y===V.length)for(m=B.length-1,y=V.length-1;1<=m&&0<=y&&B[m]!==V[y];)y--;for(;1<=m&&0<=y;m--,y--)if(B[m]!==V[y]){if(m!==1||y!==1)do if(m--,y--,0>y||B[m]!==V[y]){var ne=`
`+B[m].replace(" at new "," at ");return a.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",a.displayName)),ne}while(1<=m&&0<=y);break}}}finally{_t=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Be(u):""}function wn(a,o){switch(a.tag){case 26:case 27:case 5:return Be(a.type);case 16:return Be("Lazy");case 13:return a.child!==o&&o!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return Lt(a.type,!1);case 11:return Lt(a.type.render,!1);case 1:return Lt(a.type,!0);case 31:return Be("Activity");default:return""}}function ni(a){try{var o="",u=null;do o+=wn(a,u),u=a,a=a.return;while(a);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Ll=Object.prototype.hasOwnProperty,Bl=e.unstable_scheduleCallback,zl=e.unstable_cancelCallback,xp=e.unstable_shouldYield,wp=e.unstable_requestPaint,yr=e.unstable_now,ma=e.unstable_getCurrentPriorityLevel,Ki=e.unstable_ImmediatePriority,Wi=e.unstable_UserBlockingPriority,Fn=e.unstable_NormalPriority,dd=e.unstable_LowPriority,fd=e.unstable_IdlePriority,jp=e.log,Sp=e.unstable_setDisableYieldValue,Yi=null,Y=null;function pe(a){if(typeof jp=="function"&&Sp(a),Y&&typeof Y.setStrictMode=="function")try{Y.setStrictMode(Yi,a)}catch{}}var je=Math.clz32?Math.clz32:He,Pe=Math.log,Ae=Math.LN2;function He(a){return a>>>=0,a===0?32:31-(Pe(a)/Ae|0)|0}var Jr=256,ai=262144,Ws=4194304;function jn(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ii(a,o,u){var m=a.pendingLanes;if(m===0)return 0;var y=0,w=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var R=m&134217727;return R!==0?(m=R&~w,m!==0?y=jn(m):(N&=R,N!==0?y=jn(N):u||(u=R&~a,u!==0&&(y=jn(u))))):(R=m&~w,R!==0?y=jn(R):N!==0?y=jn(N):u||(u=m&~a,u!==0&&(y=jn(u)))),y===0?0:o!==0&&o!==y&&(o&w)===0&&(w=y&-y,u=o&-o,w>=u||w===32&&(u&4194048)!==0)?o:y}function Ys(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Vs(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hn(){var a=Ws;return Ws<<=1,(Ws&62914560)===0&&(Ws=4194304),a}function kp(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function ql(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function KR(a,o,u,m,y,w){var N=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var R=a.entanglements,B=a.expirationTimes,V=a.hiddenUpdates;for(u=N&~u;0<u;){var ne=31-je(u),oe=1<<ne;R[ne]=0,B[ne]=-1;var X=V[ne];if(X!==null)for(V[ne]=null,ne=0;ne<X.length;ne++){var J=X[ne];J!==null&&(J.lane&=-536870913)}u&=~oe}m!==0&&b1(a,m,0),w!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=w&~(N&~o))}function b1(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-je(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|u&261930}function x1(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var m=31-je(u),y=1<<m;y&o|a[m]&o&&(a[m]|=o),u&=~y}}function w1(a,o){var u=o&-o;return u=(u&42)!==0?1:_p(u),(u&(a.suspendedLanes|o))!==0?0:u}function _p(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ap(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function j1(){var a=F.p;return a!==0?a:(a=window.event,a===void 0?32:ok(a.type))}function S1(a,o){var u=F.p;try{return F.p=a,o()}finally{F.p=u}}var si=Math.random().toString(36).slice(2),ir="__reactFiber$"+si,kr="__reactProps$"+si,Xs="__reactContainer$"+si,Np="__reactEvents$"+si,WR="__reactListeners$"+si,YR="__reactHandles$"+si,k1="__reactResources$"+si,$l="__reactMarker$"+si;function Ep(a){delete a[ir],delete a[kr],delete a[Np],delete a[WR],delete a[YR]}function Zs(a){var o=a[ir];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Xs]||u[ir]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=GS(a);a!==null;){if(u=a[ir])return u;a=GS(a)}return o}a=u,u=a.parentNode}return null}function Qs(a){if(a=a[ir]||a[Xs]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Ul(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(n(33))}function Js(a){var o=a[k1];return o||(o=a[k1]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Xt(a){a[$l]=!0}var _1=new Set,A1={};function Vi(a,o){eo(a,o),eo(a+"Capture",o)}function eo(a,o){for(A1[a]=o,a=0;a<o.length;a++)_1.add(o[a])}var VR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),N1={},E1={};function XR(a){return Ll.call(E1,a)?!0:Ll.call(N1,a)?!1:VR.test(a)?E1[a]=!0:(N1[a]=!0,!1)}function hd(a,o,u){if(XR(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function md(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function pa(a,o,u,m){if(m===null)a.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+m)}}function en(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function O1(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ZR(a,o,u){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var y=m.get,w=m.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(N){u=""+N,w.call(this,N)}}),Object.defineProperty(a,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Op(a){if(!a._valueTracker){var o=O1(a)?"checked":"value";a._valueTracker=ZR(a,o,""+a[o])}}function C1(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return a&&(m=O1(a)?a.checked?"true":"false":a.value),a=m,a!==u?(o.setValue(a),!0):!1}function pd(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var QR=/[\n"\\]/g;function tn(a){return a.replace(QR,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Cp(a,o,u,m,y,w,N,R){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),o!=null?N==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+en(o)):a.value!==""+en(o)&&(a.value=""+en(o)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),o!=null?Tp(a,N,en(o)):u!=null?Tp(a,N,en(u)):m!=null&&a.removeAttribute("value"),y==null&&w!=null&&(a.defaultChecked=!!w),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.name=""+en(R):a.removeAttribute("name")}function T1(a,o,u,m,y,w,N,R){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),o!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){Op(a);return}u=u!=null?""+en(u):"",o=o!=null?""+en(o):u,R||o===a.value||(a.value=o),a.defaultValue=o}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=R?a.checked:!!m,a.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),Op(a)}function Tp(a,o,u){o==="number"&&pd(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function to(a,o,u,m){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&m&&(a[u].defaultSelected=!0)}else{for(u=""+en(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function P1(a,o,u){if(o!=null&&(o=""+en(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+en(u):""}function R1(a,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(n(92));if(te(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=en(o),a.defaultValue=u,m=a.textContent,m===u&&m!==""&&m!==null&&(a.value=m),Op(a)}function ro(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var JR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function M1(a,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,u):typeof u!="number"||u===0||JR.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function D1(a,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(a=a.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var y in o)m=o[y],o.hasOwnProperty(y)&&u[y]!==m&&M1(a,y,m)}else for(var w in o)o.hasOwnProperty(w)&&M1(a,w,o[w])}function Pp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gd(a){return tM.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ga(){}var Rp=null;function Mp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var no=null,ao=null;function I1(a){var o=Qs(a);if(o&&(a=o.stateNode)){var u=a[kr]||null;e:switch(a=o.stateNode,o.type){case"input":if(Cp(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+tn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==a&&m.form===a.form){var y=m[kr]||null;if(!y)throw Error(n(90));Cp(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===a.form&&C1(m)}break e;case"textarea":P1(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&to(a,!!u.multiple,o,!1)}}}var Dp=!1;function L1(a,o,u){if(Dp)return a(o,u);Dp=!0;try{var m=a(o);return m}finally{if(Dp=!1,(no!==null||ao!==null)&&(nf(),no&&(o=no,a=ao,ao=no=null,I1(o),a)))for(o=0;o<a.length;o++)I1(a[o])}}function Fl(a,o){var u=a.stateNode;if(u===null)return null;var m=u[kr]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ip=!1;if(va)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){Ip=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{Ip=!1}var oi=null,Lp=null,vd=null;function B1(){if(vd)return vd;var a,o=Lp,u=o.length,m,y="value"in oi?oi.value:oi.textContent,w=y.length;for(a=0;a<u&&o[a]===y[a];a++);var N=u-a;for(m=1;m<=N&&o[u-m]===y[w-m];m++);return vd=y.slice(a,1<m?1-m:void 0)}function yd(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function bd(){return!0}function z1(){return!1}function _r(a){function o(u,m,y,w,N){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var R in a)a.hasOwnProperty(R)&&(u=a[R],this[R]=u?u(w):w[R]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?bd:z1,this.isPropagationStopped=z1,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=bd)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=bd)},persist:function(){},isPersistent:bd}),o}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xd=_r(Xi),Gl=g({},Xi,{view:0,detail:0}),rM=_r(Gl),Bp,zp,Kl,wd=g({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$p,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Kl&&(Kl&&a.type==="mousemove"?(Bp=a.screenX-Kl.screenX,zp=a.screenY-Kl.screenY):zp=Bp=0,Kl=a),Bp)},movementY:function(a){return"movementY"in a?a.movementY:zp}}),q1=_r(wd),nM=g({},wd,{dataTransfer:0}),aM=_r(nM),iM=g({},Gl,{relatedTarget:0}),qp=_r(iM),sM=g({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),oM=_r(sM),lM=g({},Xi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),cM=_r(lM),uM=g({},Xi,{data:0}),$1=_r(uM),dM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mM(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=hM[a])?!!o[a]:!1}function $p(){return mM}var pM=g({},Gl,{key:function(a){if(a.key){var o=dM[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=yd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?fM[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$p,charCode:function(a){return a.type==="keypress"?yd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?yd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),gM=_r(pM),vM=g({},wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U1=_r(vM),yM=g({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$p}),bM=_r(yM),xM=g({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),wM=_r(xM),jM=g({},wd,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),SM=_r(jM),kM=g({},Xi,{newState:0,oldState:0}),_M=_r(kM),AM=[9,13,27,32],Up=va&&"CompositionEvent"in window,Wl=null;va&&"documentMode"in document&&(Wl=document.documentMode);var NM=va&&"TextEvent"in window&&!Wl,F1=va&&(!Up||Wl&&8<Wl&&11>=Wl),H1=" ",G1=!1;function K1(a,o){switch(a){case"keyup":return AM.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var io=!1;function EM(a,o){switch(a){case"compositionend":return W1(o);case"keypress":return o.which!==32?null:(G1=!0,H1);case"textInput":return a=o.data,a===H1&&G1?null:a;default:return null}}function OM(a,o){if(io)return a==="compositionend"||!Up&&K1(a,o)?(a=B1(),vd=Lp=oi=null,io=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return F1&&o.locale!=="ko"?null:o.data;default:return null}}var CM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y1(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!CM[a.type]:o==="textarea"}function V1(a,o,u,m){no?ao?ao.push(m):ao=[m]:no=m,o=df(o,"onChange"),0<o.length&&(u=new xd("onChange","change",null,u,m),a.push({event:u,listeners:o}))}var Yl=null,Vl=null;function TM(a){TS(a,0)}function jd(a){var o=Ul(a);if(C1(o))return a}function X1(a,o){if(a==="change")return o}var Z1=!1;if(va){var Fp;if(va){var Hp="oninput"in document;if(!Hp){var Q1=document.createElement("div");Q1.setAttribute("oninput","return;"),Hp=typeof Q1.oninput=="function"}Fp=Hp}else Fp=!1;Z1=Fp&&(!document.documentMode||9<document.documentMode)}function J1(){Yl&&(Yl.detachEvent("onpropertychange",ej),Vl=Yl=null)}function ej(a){if(a.propertyName==="value"&&jd(Vl)){var o=[];V1(o,Vl,a,Mp(a)),L1(TM,o)}}function PM(a,o,u){a==="focusin"?(J1(),Yl=o,Vl=u,Yl.attachEvent("onpropertychange",ej)):a==="focusout"&&J1()}function RM(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return jd(Vl)}function MM(a,o){if(a==="click")return jd(o)}function DM(a,o){if(a==="input"||a==="change")return jd(o)}function IM(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Lr=typeof Object.is=="function"?Object.is:IM;function Xl(a,o){if(Lr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!Ll.call(o,y)||!Lr(a[y],o[y]))return!1}return!0}function tj(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function rj(a,o){var u=tj(a);a=0;for(var m;u;){if(u.nodeType===3){if(m=a+u.textContent.length,a<=o&&m>=o)return{node:u,offset:o-a};a=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=tj(u)}}function nj(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?nj(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function aj(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=pd(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=pd(a.document)}return o}function Gp(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var LM=va&&"documentMode"in document&&11>=document.documentMode,so=null,Kp=null,Zl=null,Wp=!1;function ij(a,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Wp||so==null||so!==pd(m)||(m=so,"selectionStart"in m&&Gp(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Zl&&Xl(Zl,m)||(Zl=m,m=df(Kp,"onSelect"),0<m.length&&(o=new xd("onSelect","select",null,o,u),a.push({event:o,listeners:m}),o.target=so)))}function Zi(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var oo={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},Yp={},sj={};va&&(sj=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function Qi(a){if(Yp[a])return Yp[a];if(!oo[a])return a;var o=oo[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in sj)return Yp[a]=o[u];return a}var oj=Qi("animationend"),lj=Qi("animationiteration"),cj=Qi("animationstart"),BM=Qi("transitionrun"),zM=Qi("transitionstart"),qM=Qi("transitioncancel"),uj=Qi("transitionend"),dj=new Map,Vp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vp.push("scrollEnd");function Sn(a,o){dj.set(a,o),Vi(o,[a])}var Sd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}},rn=[],lo=0,Xp=0;function kd(){for(var a=lo,o=Xp=lo=0;o<a;){var u=rn[o];rn[o++]=null;var m=rn[o];rn[o++]=null;var y=rn[o];rn[o++]=null;var w=rn[o];if(rn[o++]=null,m!==null&&y!==null){var N=m.pending;N===null?y.next=y:(y.next=N.next,N.next=y),m.pending=y}w!==0&&fj(u,y,w)}}function _d(a,o,u,m){rn[lo++]=a,rn[lo++]=o,rn[lo++]=u,rn[lo++]=m,Xp|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Zp(a,o,u,m){return _d(a,o,u,m),Ad(a)}function Ji(a,o){return _d(a,null,null,o),Ad(a)}function fj(a,o,u){a.lanes|=u;var m=a.alternate;m!==null&&(m.lanes|=u);for(var y=!1,w=a.return;w!==null;)w.childLanes|=u,m=w.alternate,m!==null&&(m.childLanes|=u),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(y=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,y&&o!==null&&(y=31-je(u),a=w.hiddenUpdates,m=a[y],m===null?a[y]=[o]:m.push(o),o.lane=u|536870912),w):null}function Ad(a){if(50<bc)throw bc=0,sv=null,Error(n(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var co={};function $M(a,o,u,m){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(a,o,u,m){return new $M(a,o,u,m)}function Qp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ya(a,o){var u=a.alternate;return u===null?(u=Br(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function hj(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Nd(a,o,u,m,y,w){var N=0;if(m=a,typeof a=="function")Qp(a)&&(N=1);else if(typeof a=="string")N=KD(a,u,ie.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case I:return a=Br(31,u,o,y),a.elementType=I,a.lanes=w,a;case k:return es(u.children,y,w,o);case j:N=8,y|=24;break;case _:return a=Br(12,u,o,y|2),a.elementType=_,a.lanes=w,a;case C:return a=Br(13,u,o,y),a.elementType=C,a.lanes=w,a;case O:return a=Br(19,u,o,y),a.elementType=O,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:N=10;break e;case E:N=9;break e;case T:N=11;break e;case M:N=14;break e;case P:N=16,m=null;break e}N=29,u=Error(n(130,a===null?"null":typeof a,"")),m=null}return o=Br(N,u,o,y),o.elementType=a,o.type=m,o.lanes=w,o}function es(a,o,u,m){return a=Br(7,a,m,o),a.lanes=u,a}function Jp(a,o,u){return a=Br(6,a,null,o),a.lanes=u,a}function mj(a){var o=Br(18,null,null,0);return o.stateNode=a,o}function eg(a,o,u){return o=Br(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var pj=new WeakMap;function nn(a,o){if(typeof a=="object"&&a!==null){var u=pj.get(a);return u!==void 0?u:(o={value:a,source:o,stack:ni(o)},pj.set(a,o),o)}return{value:a,source:o,stack:ni(o)}}var uo=[],fo=0,Ed=null,Ql=0,an=[],sn=0,li=null,Gn=1,Kn="";function ba(a,o){uo[fo++]=Ql,uo[fo++]=Ed,Ed=a,Ql=o}function gj(a,o,u){an[sn++]=Gn,an[sn++]=Kn,an[sn++]=li,li=a;var m=Gn;a=Kn;var y=32-je(m)-1;m&=~(1<<y),u+=1;var w=32-je(o)+y;if(30<w){var N=y-y%5;w=(m&(1<<N)-1).toString(32),m>>=N,y-=N,Gn=1<<32-je(o)+y|u<<y|m,Kn=w+a}else Gn=1<<w|u<<y|m,Kn=a}function tg(a){a.return!==null&&(ba(a,1),gj(a,1,0))}function rg(a){for(;a===Ed;)Ed=uo[--fo],uo[fo]=null,Ql=uo[--fo],uo[fo]=null;for(;a===li;)li=an[--sn],an[sn]=null,Kn=an[--sn],an[sn]=null,Gn=an[--sn],an[sn]=null}function vj(a,o){an[sn++]=Gn,an[sn++]=Kn,an[sn++]=li,Gn=o.id,Kn=o.overflow,li=a}var sr=null,ft=null,Ge=!1,ci=null,on=!1,ng=Error(n(519));function ui(a){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(nn(o,a)),ng}function yj(a){var o=a.stateNode,u=a.type,m=a.memoizedProps;switch(o[ir]=a,o[kr]=m,u){case"dialog":qe("cancel",o),qe("close",o);break;case"iframe":case"object":case"embed":qe("load",o);break;case"video":case"audio":for(u=0;u<wc.length;u++)qe(wc[u],o);break;case"source":qe("error",o);break;case"img":case"image":case"link":qe("error",o),qe("load",o);break;case"details":qe("toggle",o);break;case"input":qe("invalid",o),T1(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":qe("invalid",o);break;case"textarea":qe("invalid",o),R1(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||DS(o.textContent,u)?(m.popover!=null&&(qe("beforetoggle",o),qe("toggle",o)),m.onScroll!=null&&qe("scroll",o),m.onScrollEnd!=null&&qe("scrollend",o),m.onClick!=null&&(o.onclick=ga),o=!0):o=!1,o||ui(a,!0)}function bj(a){for(sr=a.return;sr;)switch(sr.tag){case 5:case 31:case 13:on=!1;return;case 27:case 3:on=!0;return;default:sr=sr.return}}function ho(a){if(a!==sr)return!1;if(!Ge)return bj(a),Ge=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||wv(a.type,a.memoizedProps)),u=!u),u&&ft&&ui(a),bj(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));ft=HS(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));ft=HS(a)}else o===27?(o=ft,ki(a.type)?(a=Av,Av=null,ft=a):ft=o):ft=sr?cn(a.stateNode.nextSibling):null;return!0}function ts(){ft=sr=null,Ge=!1}function ag(){var a=ci;return a!==null&&(Or===null?Or=a:Or.push.apply(Or,a),ci=null),a}function Jl(a){ci===null?ci=[a]:ci.push(a)}var ig=D(null),rs=null,xa=null;function di(a,o,u){Q(ig,o._currentValue),o._currentValue=u}function wa(a){a._currentValue=ig.current,H(ig)}function sg(a,o,u){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===u)break;a=a.return}}function og(a,o,u,m){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var w=y.dependencies;if(w!==null){var N=y.child;w=w.firstContext;e:for(;w!==null;){var R=w;w=y;for(var B=0;B<o.length;B++)if(R.context===o[B]){w.lanes|=u,R=w.alternate,R!==null&&(R.lanes|=u),sg(w.return,u,a),m||(N=null);break e}w=R.next}}else if(y.tag===18){if(N=y.return,N===null)throw Error(n(341));N.lanes|=u,w=N.alternate,w!==null&&(w.lanes|=u),sg(N,u,a),N=null}else N=y.child;if(N!==null)N.return=y;else for(N=y;N!==null;){if(N===a){N=null;break}if(y=N.sibling,y!==null){y.return=N.return,N=y;break}N=N.return}y=N}}function mo(a,o,u,m){a=null;for(var y=o,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var N=y.alternate;if(N===null)throw Error(n(387));if(N=N.memoizedProps,N!==null){var R=y.type;Lr(y.pendingProps.value,N.value)||(a!==null?a.push(R):a=[R])}}else if(y===he.current){if(N=y.alternate,N===null)throw Error(n(387));N.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Ac):a=[Ac])}y=y.return}a!==null&&og(o,a,u,m),o.flags|=262144}function Od(a){for(a=a.firstContext;a!==null;){if(!Lr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ns(a){rs=a,xa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function or(a){return xj(rs,a)}function Cd(a,o){return rs===null&&ns(a),xj(a,o)}function xj(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},xa===null){if(a===null)throw Error(n(308));xa=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else xa=xa.next=o;return u}var UM=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},FM=e.unstable_scheduleCallback,HM=e.unstable_NormalPriority,Bt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lg(){return{controller:new UM,data:new Map,refCount:0}}function ec(a){a.refCount--,a.refCount===0&&FM(HM,function(){a.controller.abort()})}var tc=null,cg=0,po=0,go=null;function GM(a,o){if(tc===null){var u=tc=[];cg=0,po=fv(),go={status:"pending",value:void 0,then:function(m){u.push(m)}}}return cg++,o.then(wj,wj),o}function wj(){if(--cg===0&&tc!==null){go!==null&&(go.status="fulfilled");var a=tc;tc=null,po=0,go=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function KM(a,o){var u=[],m={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(m.status="rejected",m.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),m}var jj=L.S;L.S=function(a,o){iS=yr(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&GM(a,o),jj!==null&&jj(a,o)};var as=D(null);function ug(){var a=as.current;return a!==null?a:it.pooledCache}function Td(a,o){o===null?Q(as,as.current):Q(as,o.pool)}function Sj(){var a=ug();return a===null?null:{parent:Bt._currentValue,pool:a}}var vo=Error(n(460)),dg=Error(n(474)),Pd=Error(n(542)),Rd={then:function(){}};function kj(a){return a=a.status,a==="fulfilled"||a==="rejected"}function _j(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(ga,ga),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Nj(a),a;default:if(typeof o.status=="string")o.then(ga,ga);else{if(a=it,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=m}},function(m){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Nj(a),a}throw ss=o,vo}}function is(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(ss=u,vo):u}}var ss=null;function Aj(){if(ss===null)throw Error(n(459));var a=ss;return ss=null,a}function Nj(a){if(a===vo||a===Pd)throw Error(n(483))}var yo=null,rc=0;function Md(a){var o=rc;return rc+=1,yo===null&&(yo=[]),_j(yo,a,o)}function nc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Dd(a,o){throw o.$$typeof===v?Error(n(525)):(a=Object.prototype.toString.call(o),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function Ej(a){function o(G,z){if(a){var W=G.deletions;W===null?(G.deletions=[z],G.flags|=16):W.push(z)}}function u(G,z){if(!a)return null;for(;z!==null;)o(G,z),z=z.sibling;return null}function m(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function y(G,z){return G=ya(G,z),G.index=0,G.sibling=null,G}function w(G,z,W){return G.index=W,a?(W=G.alternate,W!==null?(W=W.index,W<z?(G.flags|=67108866,z):W):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function N(G){return a&&G.alternate===null&&(G.flags|=67108866),G}function R(G,z,W,se){return z===null||z.tag!==6?(z=Jp(W,G.mode,se),z.return=G,z):(z=y(z,W),z.return=G,z)}function B(G,z,W,se){var Se=W.type;return Se===k?ne(G,z,W.props.children,se,W.key):z!==null&&(z.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===P&&is(Se)===z.type)?(z=y(z,W.props),nc(z,W),z.return=G,z):(z=Nd(W.type,W.key,W.props,null,G.mode,se),nc(z,W),z.return=G,z)}function V(G,z,W,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==W.containerInfo||z.stateNode.implementation!==W.implementation?(z=eg(W,G.mode,se),z.return=G,z):(z=y(z,W.children||[]),z.return=G,z)}function ne(G,z,W,se,Se){return z===null||z.tag!==7?(z=es(W,G.mode,se,Se),z.return=G,z):(z=y(z,W),z.return=G,z)}function oe(G,z,W){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Jp(""+z,G.mode,W),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return W=Nd(z.type,z.key,z.props,null,G.mode,W),nc(W,z),W.return=G,W;case S:return z=eg(z,G.mode,W),z.return=G,z;case P:return z=is(z),oe(G,z,W)}if(te(z)||U(z))return z=es(z,G.mode,W,null),z.return=G,z;if(typeof z.then=="function")return oe(G,Md(z),W);if(z.$$typeof===A)return oe(G,Cd(G,z),W);Dd(G,z)}return null}function X(G,z,W,se){var Se=z!==null?z.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Se!==null?null:R(G,z,""+W,se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return W.key===Se?B(G,z,W,se):null;case S:return W.key===Se?V(G,z,W,se):null;case P:return W=is(W),X(G,z,W,se)}if(te(W)||U(W))return Se!==null?null:ne(G,z,W,se,null);if(typeof W.then=="function")return X(G,z,Md(W),se);if(W.$$typeof===A)return X(G,z,Cd(G,W),se);Dd(G,W)}return null}function J(G,z,W,se,Se){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return G=G.get(W)||null,R(z,G,""+se,Se);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return G=G.get(se.key===null?W:se.key)||null,B(z,G,se,Se);case S:return G=G.get(se.key===null?W:se.key)||null,V(z,G,se,Se);case P:return se=is(se),J(G,z,W,se,Se)}if(te(se)||U(se))return G=G.get(W)||null,ne(z,G,se,Se,null);if(typeof se.then=="function")return J(G,z,W,Md(se),Se);if(se.$$typeof===A)return J(G,z,W,Cd(z,se),Se);Dd(z,se)}return null}function ve(G,z,W,se){for(var Se=null,Ke=null,xe=z,Me=z=0,Ue=null;xe!==null&&Me<W.length;Me++){xe.index>Me?(Ue=xe,xe=null):Ue=xe.sibling;var We=X(G,xe,W[Me],se);if(We===null){xe===null&&(xe=Ue);break}a&&xe&&We.alternate===null&&o(G,xe),z=w(We,z,Me),Ke===null?Se=We:Ke.sibling=We,Ke=We,xe=Ue}if(Me===W.length)return u(G,xe),Ge&&ba(G,Me),Se;if(xe===null){for(;Me<W.length;Me++)xe=oe(G,W[Me],se),xe!==null&&(z=w(xe,z,Me),Ke===null?Se=xe:Ke.sibling=xe,Ke=xe);return Ge&&ba(G,Me),Se}for(xe=m(xe);Me<W.length;Me++)Ue=J(xe,G,Me,W[Me],se),Ue!==null&&(a&&Ue.alternate!==null&&xe.delete(Ue.key===null?Me:Ue.key),z=w(Ue,z,Me),Ke===null?Se=Ue:Ke.sibling=Ue,Ke=Ue);return a&&xe.forEach(function(Oi){return o(G,Oi)}),Ge&&ba(G,Me),Se}function Ne(G,z,W,se){if(W==null)throw Error(n(151));for(var Se=null,Ke=null,xe=z,Me=z=0,Ue=null,We=W.next();xe!==null&&!We.done;Me++,We=W.next()){xe.index>Me?(Ue=xe,xe=null):Ue=xe.sibling;var Oi=X(G,xe,We.value,se);if(Oi===null){xe===null&&(xe=Ue);break}a&&xe&&Oi.alternate===null&&o(G,xe),z=w(Oi,z,Me),Ke===null?Se=Oi:Ke.sibling=Oi,Ke=Oi,xe=Ue}if(We.done)return u(G,xe),Ge&&ba(G,Me),Se;if(xe===null){for(;!We.done;Me++,We=W.next())We=oe(G,We.value,se),We!==null&&(z=w(We,z,Me),Ke===null?Se=We:Ke.sibling=We,Ke=We);return Ge&&ba(G,Me),Se}for(xe=m(xe);!We.done;Me++,We=W.next())We=J(xe,G,Me,We.value,se),We!==null&&(a&&We.alternate!==null&&xe.delete(We.key===null?Me:We.key),z=w(We,z,Me),Ke===null?Se=We:Ke.sibling=We,Ke=We);return a&&xe.forEach(function(n6){return o(G,n6)}),Ge&&ba(G,Me),Se}function rt(G,z,W,se){if(typeof W=="object"&&W!==null&&W.type===k&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case x:e:{for(var Se=W.key;z!==null;){if(z.key===Se){if(Se=W.type,Se===k){if(z.tag===7){u(G,z.sibling),se=y(z,W.props.children),se.return=G,G=se;break e}}else if(z.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===P&&is(Se)===z.type){u(G,z.sibling),se=y(z,W.props),nc(se,W),se.return=G,G=se;break e}u(G,z);break}else o(G,z);z=z.sibling}W.type===k?(se=es(W.props.children,G.mode,se,W.key),se.return=G,G=se):(se=Nd(W.type,W.key,W.props,null,G.mode,se),nc(se,W),se.return=G,G=se)}return N(G);case S:e:{for(Se=W.key;z!==null;){if(z.key===Se)if(z.tag===4&&z.stateNode.containerInfo===W.containerInfo&&z.stateNode.implementation===W.implementation){u(G,z.sibling),se=y(z,W.children||[]),se.return=G,G=se;break e}else{u(G,z);break}else o(G,z);z=z.sibling}se=eg(W,G.mode,se),se.return=G,G=se}return N(G);case P:return W=is(W),rt(G,z,W,se)}if(te(W))return ve(G,z,W,se);if(U(W)){if(Se=U(W),typeof Se!="function")throw Error(n(150));return W=Se.call(W),Ne(G,z,W,se)}if(typeof W.then=="function")return rt(G,z,Md(W),se);if(W.$$typeof===A)return rt(G,z,Cd(G,W),se);Dd(G,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,z!==null&&z.tag===6?(u(G,z.sibling),se=y(z,W),se.return=G,G=se):(u(G,z),se=Jp(W,G.mode,se),se.return=G,G=se),N(G)):u(G,z)}return function(G,z,W,se){try{rc=0;var Se=rt(G,z,W,se);return yo=null,Se}catch(xe){if(xe===vo||xe===Pd)throw xe;var Ke=Br(29,xe,null,G.mode);return Ke.lanes=se,Ke.return=G,Ke}}}var os=Ej(!0),Oj=Ej(!1),fi=!1;function fg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hg(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function hi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function mi(a,o,u){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Ve&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,o=Ad(a),fj(a,null,u),o}return _d(a,m,o,u),Ad(a)}function ac(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,u|=m,o.lanes=u,x1(a,u)}}function mg(a,o){var u=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?y=w=N:w=w.next=N,u=u.next}while(u!==null);w===null?y=w=o:w=w.next=o}else y=w=o;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var pg=!1;function ic(){if(pg){var a=go;if(a!==null)throw a}}function sc(a,o,u,m){pg=!1;var y=a.updateQueue;fi=!1;var w=y.firstBaseUpdate,N=y.lastBaseUpdate,R=y.shared.pending;if(R!==null){y.shared.pending=null;var B=R,V=B.next;B.next=null,N===null?w=V:N.next=V,N=B;var ne=a.alternate;ne!==null&&(ne=ne.updateQueue,R=ne.lastBaseUpdate,R!==N&&(R===null?ne.firstBaseUpdate=V:R.next=V,ne.lastBaseUpdate=B))}if(w!==null){var oe=y.baseState;N=0,ne=V=B=null,R=w;do{var X=R.lane&-536870913,J=X!==R.lane;if(J?($e&X)===X:(m&X)===X){X!==0&&X===po&&(pg=!0),ne!==null&&(ne=ne.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var ve=a,Ne=R;X=o;var rt=u;switch(Ne.tag){case 1:if(ve=Ne.payload,typeof ve=="function"){oe=ve.call(rt,oe,X);break e}oe=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ne.payload,X=typeof ve=="function"?ve.call(rt,oe,X):ve,X==null)break e;oe=g({},oe,X);break e;case 2:fi=!0}}X=R.callback,X!==null&&(a.flags|=64,J&&(a.flags|=8192),J=y.callbacks,J===null?y.callbacks=[X]:J.push(X))}else J={lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ne===null?(V=ne=J,B=oe):ne=ne.next=J,N|=X;if(R=R.next,R===null){if(R=y.shared.pending,R===null)break;J=R,R=J.next,J.next=null,y.lastBaseUpdate=J,y.shared.pending=null}}while(!0);ne===null&&(B=oe),y.baseState=B,y.firstBaseUpdate=V,y.lastBaseUpdate=ne,w===null&&(y.shared.lanes=0),bi|=N,a.lanes=N,a.memoizedState=oe}}function Cj(a,o){if(typeof a!="function")throw Error(n(191,a));a.call(o)}function Tj(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)Cj(u[a],o)}var bo=D(null),Id=D(0);function Pj(a,o){a=Ca,Q(Id,a),Q(bo,o),Ca=a|o.baseLanes}function gg(){Q(Id,Ca),Q(bo,bo.current)}function vg(){Ca=Id.current,H(bo),H(Id)}var zr=D(null),ln=null;function pi(a){var o=a.alternate;Q(Pt,Pt.current&1),Q(zr,a),ln===null&&(o===null||bo.current!==null||o.memoizedState!==null)&&(ln=a)}function yg(a){Q(Pt,Pt.current),Q(zr,a),ln===null&&(ln=a)}function Rj(a){a.tag===22?(Q(Pt,Pt.current),Q(zr,a),ln===null&&(ln=a)):gi()}function gi(){Q(Pt,Pt.current),Q(zr,zr.current)}function qr(a){H(zr),ln===a&&(ln=null),H(Pt)}var Pt=D(0);function Ld(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||kv(u)||_v(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ja=0,Re=null,et=null,zt=null,Bd=!1,xo=!1,ls=!1,zd=0,oc=0,wo=null,WM=0;function At(){throw Error(n(321))}function bg(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Lr(a[u],o[u]))return!1;return!0}function xg(a,o,u,m,y,w){return ja=w,Re=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,L.H=a===null||a.memoizedState===null?g2:Dg,ls=!1,w=u(m,y),ls=!1,xo&&(w=Dj(o,u,m,y)),Mj(a),w}function Mj(a){L.H=uc;var o=et!==null&&et.next!==null;if(ja=0,zt=et=Re=null,Bd=!1,oc=0,wo=null,o)throw Error(n(300));a===null||qt||(a=a.dependencies,a!==null&&Od(a)&&(qt=!0))}function Dj(a,o,u,m){Re=a;var y=0;do{if(xo&&(wo=null),oc=0,xo=!1,25<=y)throw Error(n(301));if(y+=1,zt=et=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}L.H=v2,w=o(u,m)}while(xo);return w}function YM(){var a=L.H,o=a.useState()[0];return o=typeof o.then=="function"?lc(o):o,a=a.useState()[0],(et!==null?et.memoizedState:null)!==a&&(Re.flags|=1024),o}function wg(){var a=zd!==0;return zd=0,a}function jg(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Sg(a){if(Bd){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Bd=!1}ja=0,zt=et=Re=null,xo=!1,oc=zd=0,wo=null}function br(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Re.memoizedState=zt=a:zt=zt.next=a,zt}function Rt(){if(et===null){var a=Re.alternate;a=a!==null?a.memoizedState:null}else a=et.next;var o=zt===null?Re.memoizedState:zt.next;if(o!==null)zt=o,et=a;else{if(a===null)throw Re.alternate===null?Error(n(467)):Error(n(310));et=a,a={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},zt===null?Re.memoizedState=zt=a:zt=zt.next=a}return zt}function qd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lc(a){var o=oc;return oc+=1,wo===null&&(wo=[]),a=_j(wo,a,o),o=Re,(zt===null?o.memoizedState:zt.next)===null&&(o=o.alternate,L.H=o===null||o.memoizedState===null?g2:Dg),a}function $d(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return lc(a);if(a.$$typeof===A)return or(a)}throw Error(n(438,String(a)))}function kg(a){var o=null,u=Re.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=Re.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=qd(),Re.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),m=0;m<a;m++)u[m]=q;return o.index++,u}function Sa(a,o){return typeof o=="function"?o(a):o}function Ud(a){var o=Rt();return _g(o,et,a)}function _g(a,o,u){var m=a.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var y=a.baseQueue,w=m.pending;if(w!==null){if(y!==null){var N=y.next;y.next=w.next,w.next=N}o.baseQueue=y=w,m.pending=null}if(w=a.baseState,y===null)a.memoizedState=w;else{o=y.next;var R=N=null,B=null,V=o,ne=!1;do{var oe=V.lane&-536870913;if(oe!==V.lane?($e&oe)===oe:(ja&oe)===oe){var X=V.revertLane;if(X===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),oe===po&&(ne=!0);else if((ja&X)===X){V=V.next,X===po&&(ne=!0);continue}else oe={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},B===null?(R=B=oe,N=w):B=B.next=oe,Re.lanes|=X,bi|=X;oe=V.action,ls&&u(w,oe),w=V.hasEagerState?V.eagerState:u(w,oe)}else X={lane:oe,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},B===null?(R=B=X,N=w):B=B.next=X,Re.lanes|=oe,bi|=oe;V=V.next}while(V!==null&&V!==o);if(B===null?N=w:B.next=R,!Lr(w,a.memoizedState)&&(qt=!0,ne&&(u=go,u!==null)))throw u;a.memoizedState=w,a.baseState=N,a.baseQueue=B,m.lastRenderedState=w}return y===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function Ag(a){var o=Rt(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var m=u.dispatch,y=u.pending,w=o.memoizedState;if(y!==null){u.pending=null;var N=y=y.next;do w=a(w,N.action),N=N.next;while(N!==y);Lr(w,o.memoizedState)||(qt=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,m]}function Ij(a,o,u){var m=Re,y=Rt(),w=Ge;if(w){if(u===void 0)throw Error(n(407));u=u()}else u=o();var N=!Lr((et||y).memoizedState,u);if(N&&(y.memoizedState=u,qt=!0),y=y.queue,Og(zj.bind(null,m,y,a),[a]),y.getSnapshot!==o||N||zt!==null&&zt.memoizedState.tag&1){if(m.flags|=2048,jo(9,{destroy:void 0},Bj.bind(null,m,y,u,o),null),it===null)throw Error(n(349));w||(ja&127)!==0||Lj(m,o,u)}return u}function Lj(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Re.updateQueue,o===null?(o=qd(),Re.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function Bj(a,o,u,m){o.value=u,o.getSnapshot=m,qj(o)&&$j(a)}function zj(a,o,u){return u(function(){qj(o)&&$j(a)})}function qj(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Lr(a,u)}catch{return!0}}function $j(a){var o=Ji(a,2);o!==null&&Cr(o,a,2)}function Ng(a){var o=br();if(typeof a=="function"){var u=a;if(a=u(),ls){pe(!0);try{u()}finally{pe(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:a},o}function Uj(a,o,u,m){return a.baseState=u,_g(a,et,typeof m=="function"?m:Sa)}function VM(a,o,u,m,y){if(Gd(a))throw Error(n(485));if(a=o.action,a!==null){var w={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){w.listeners.push(N)}};L.T!==null?u(!0):w.isTransition=!1,m(w),u=o.pending,u===null?(w.next=o.pending=w,Fj(o,w)):(w.next=u.next,o.pending=u.next=w)}}function Fj(a,o){var u=o.action,m=o.payload,y=a.state;if(o.isTransition){var w=L.T,N={};L.T=N;try{var R=u(y,m),B=L.S;B!==null&&B(N,R),Hj(a,o,R)}catch(V){Eg(a,o,V)}finally{w!==null&&N.types!==null&&(w.types=N.types),L.T=w}}else try{w=u(y,m),Hj(a,o,w)}catch(V){Eg(a,o,V)}}function Hj(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){Gj(a,o,m)},function(m){return Eg(a,o,m)}):Gj(a,o,u)}function Gj(a,o,u){o.status="fulfilled",o.value=u,Kj(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,Fj(a,u)))}function Eg(a,o,u){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,Kj(o),o=o.next;while(o!==m)}a.action=null}function Kj(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Wj(a,o){return o}function Yj(a,o){if(Ge){var u=it.formState;if(u!==null){e:{var m=Re;if(Ge){if(ft){t:{for(var y=ft,w=on;y.nodeType!==8;){if(!w){y=null;break t}if(y=cn(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){ft=cn(y.nextSibling),m=y.data==="F!";break e}}ui(m)}m=!1}m&&(o=u[0])}}return u=br(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wj,lastRenderedState:o},u.queue=m,u=h2.bind(null,Re,m),m.dispatch=u,m=Ng(!1),w=Mg.bind(null,Re,!1,m.queue),m=br(),y={state:o,dispatch:null,action:a,pending:null},m.queue=y,u=VM.bind(null,Re,y,w,u),y.dispatch=u,m.memoizedState=a,[o,u,!1]}function Vj(a){var o=Rt();return Xj(o,et,a)}function Xj(a,o,u){if(o=_g(a,o,Wj)[0],a=Ud(Sa)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=lc(o)}catch(N){throw N===vo?Pd:N}else m=o;o=Rt();var y=o.queue,w=y.dispatch;return u!==o.memoizedState&&(Re.flags|=2048,jo(9,{destroy:void 0},XM.bind(null,y,u),null)),[m,w,a]}function XM(a,o){a.action=o}function Zj(a){var o=Rt(),u=et;if(u!==null)return Xj(o,u,a);Rt(),o=o.memoizedState,u=Rt();var m=u.queue.dispatch;return u.memoizedState=a,[o,m,!1]}function jo(a,o,u,m){return a={tag:a,create:u,deps:m,inst:o,next:null},o=Re.updateQueue,o===null&&(o=qd(),Re.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(m=u.next,u.next=a,a.next=m,o.lastEffect=a),a}function Qj(){return Rt().memoizedState}function Fd(a,o,u,m){var y=br();Re.flags|=a,y.memoizedState=jo(1|o,{destroy:void 0},u,m===void 0?null:m)}function Hd(a,o,u,m){var y=Rt();m=m===void 0?null:m;var w=y.memoizedState.inst;et!==null&&m!==null&&bg(m,et.memoizedState.deps)?y.memoizedState=jo(o,w,u,m):(Re.flags|=a,y.memoizedState=jo(1|o,w,u,m))}function Jj(a,o){Fd(8390656,8,a,o)}function Og(a,o){Hd(2048,8,a,o)}function ZM(a){Re.flags|=4;var o=Re.updateQueue;if(o===null)o=qd(),Re.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function e2(a){var o=Rt().memoizedState;return ZM({ref:o,nextImpl:a}),function(){if((Ve&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function t2(a,o){return Hd(4,2,a,o)}function r2(a,o){return Hd(4,4,a,o)}function n2(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function a2(a,o,u){u=u!=null?u.concat([a]):null,Hd(4,4,n2.bind(null,o,a),u)}function Cg(){}function i2(a,o){var u=Rt();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&bg(o,m[1])?m[0]:(u.memoizedState=[a,o],a)}function s2(a,o){var u=Rt();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&bg(o,m[1]))return m[0];if(m=a(),ls){pe(!0);try{a()}finally{pe(!1)}}return u.memoizedState=[m,o],m}function Tg(a,o,u){return u===void 0||(ja&1073741824)!==0&&($e&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=oS(),Re.lanes|=a,bi|=a,u)}function o2(a,o,u,m){return Lr(u,o)?u:bo.current!==null?(a=Tg(a,u,m),Lr(a,o)||(qt=!0),a):(ja&42)===0||(ja&1073741824)!==0&&($e&261930)===0?(qt=!0,a.memoizedState=u):(a=oS(),Re.lanes|=a,bi|=a,o)}function l2(a,o,u,m,y){var w=F.p;F.p=w!==0&&8>w?w:8;var N=L.T,R={};L.T=R,Mg(a,!1,o,u);try{var B=y(),V=L.S;if(V!==null&&V(R,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ne=KM(B,m);cc(a,o,ne,Fr(a))}else cc(a,o,m,Fr(a))}catch(oe){cc(a,o,{then:function(){},status:"rejected",reason:oe},Fr())}finally{F.p=w,N!==null&&R.types!==null&&(N.types=R.types),L.T=N}}function QM(){}function Pg(a,o,u,m){if(a.tag!==5)throw Error(n(476));var y=c2(a).queue;l2(a,y,o,ae,u===null?QM:function(){return u2(a),u(m)})}function c2(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:ae},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function u2(a){var o=c2(a);o.next===null&&(o=a.alternate.memoizedState),cc(a,o.next.queue,{},Fr())}function Rg(){return or(Ac)}function d2(){return Rt().memoizedState}function f2(){return Rt().memoizedState}function JM(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=Fr();a=hi(u);var m=mi(o,a,u);m!==null&&(Cr(m,o,u),ac(m,o,u)),o={cache:lg()},a.payload=o;return}o=o.return}}function eD(a,o,u){var m=Fr();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Gd(a)?m2(o,u):(u=Zp(a,o,u,m),u!==null&&(Cr(u,a,m),p2(u,o,m)))}function h2(a,o,u){var m=Fr();cc(a,o,u,m)}function cc(a,o,u,m){var y={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Gd(a))m2(o,y);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var N=o.lastRenderedState,R=w(N,u);if(y.hasEagerState=!0,y.eagerState=R,Lr(R,N))return _d(a,o,y,0),it===null&&kd(),!1}catch{}if(u=Zp(a,o,y,m),u!==null)return Cr(u,a,m),p2(u,o,m),!0}return!1}function Mg(a,o,u,m){if(m={lane:2,revertLane:fv(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Gd(a)){if(o)throw Error(n(479))}else o=Zp(a,u,m,2),o!==null&&Cr(o,a,2)}function Gd(a){var o=a.alternate;return a===Re||o!==null&&o===Re}function m2(a,o){xo=Bd=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function p2(a,o,u){if((u&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,u|=m,o.lanes=u,x1(a,u)}}var uc={readContext:or,use:$d,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};uc.useEffectEvent=At;var g2={readContext:or,use:$d,useCallback:function(a,o){return br().memoizedState=[a,o===void 0?null:o],a},useContext:or,useEffect:Jj,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Fd(4194308,4,n2.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Fd(4194308,4,a,o)},useInsertionEffect:function(a,o){Fd(4,2,a,o)},useMemo:function(a,o){var u=br();o=o===void 0?null:o;var m=a();if(ls){pe(!0);try{a()}finally{pe(!1)}}return u.memoizedState=[m,o],m},useReducer:function(a,o,u){var m=br();if(u!==void 0){var y=u(o);if(ls){pe(!0);try{u(o)}finally{pe(!1)}}}else y=o;return m.memoizedState=m.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},m.queue=a,a=a.dispatch=eD.bind(null,Re,a),[m.memoizedState,a]},useRef:function(a){var o=br();return a={current:a},o.memoizedState=a},useState:function(a){a=Ng(a);var o=a.queue,u=h2.bind(null,Re,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Cg,useDeferredValue:function(a,o){var u=br();return Tg(u,a,o)},useTransition:function(){var a=Ng(!1);return a=l2.bind(null,Re,a.queue,!0,!1),br().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var m=Re,y=br();if(Ge){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),it===null)throw Error(n(349));($e&127)!==0||Lj(m,o,u)}y.memoizedState=u;var w={value:u,getSnapshot:o};return y.queue=w,Jj(zj.bind(null,m,w,a),[a]),m.flags|=2048,jo(9,{destroy:void 0},Bj.bind(null,m,w,u,o),null),u},useId:function(){var a=br(),o=it.identifierPrefix;if(Ge){var u=Kn,m=Gn;u=(m&~(1<<32-je(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=zd++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=WM++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Rg,useFormState:Yj,useActionState:Yj,useOptimistic:function(a){var o=br();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Mg.bind(null,Re,!0,u),u.dispatch=o,[a,o]},useMemoCache:kg,useCacheRefresh:function(){return br().memoizedState=JM.bind(null,Re)},useEffectEvent:function(a){var o=br(),u={impl:a};return o.memoizedState=u,function(){if((Ve&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},Dg={readContext:or,use:$d,useCallback:i2,useContext:or,useEffect:Og,useImperativeHandle:a2,useInsertionEffect:t2,useLayoutEffect:r2,useMemo:s2,useReducer:Ud,useRef:Qj,useState:function(){return Ud(Sa)},useDebugValue:Cg,useDeferredValue:function(a,o){var u=Rt();return o2(u,et.memoizedState,a,o)},useTransition:function(){var a=Ud(Sa)[0],o=Rt().memoizedState;return[typeof a=="boolean"?a:lc(a),o]},useSyncExternalStore:Ij,useId:d2,useHostTransitionStatus:Rg,useFormState:Vj,useActionState:Vj,useOptimistic:function(a,o){var u=Rt();return Uj(u,et,a,o)},useMemoCache:kg,useCacheRefresh:f2};Dg.useEffectEvent=e2;var v2={readContext:or,use:$d,useCallback:i2,useContext:or,useEffect:Og,useImperativeHandle:a2,useInsertionEffect:t2,useLayoutEffect:r2,useMemo:s2,useReducer:Ag,useRef:Qj,useState:function(){return Ag(Sa)},useDebugValue:Cg,useDeferredValue:function(a,o){var u=Rt();return et===null?Tg(u,a,o):o2(u,et.memoizedState,a,o)},useTransition:function(){var a=Ag(Sa)[0],o=Rt().memoizedState;return[typeof a=="boolean"?a:lc(a),o]},useSyncExternalStore:Ij,useId:d2,useHostTransitionStatus:Rg,useFormState:Zj,useActionState:Zj,useOptimistic:function(a,o){var u=Rt();return et!==null?Uj(u,et,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:kg,useCacheRefresh:f2};v2.useEffectEvent=e2;function Ig(a,o,u,m){o=a.memoizedState,u=u(m,o),u=u==null?o:g({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Lg={enqueueSetState:function(a,o,u){a=a._reactInternals;var m=Fr(),y=hi(m);y.payload=o,u!=null&&(y.callback=u),o=mi(a,y,m),o!==null&&(Cr(o,a,m),ac(o,a,m))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var m=Fr(),y=hi(m);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=mi(a,y,m),o!==null&&(Cr(o,a,m),ac(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Fr(),m=hi(u);m.tag=2,o!=null&&(m.callback=o),o=mi(a,m,u),o!==null&&(Cr(o,a,u),ac(o,a,u))}};function y2(a,o,u,m,y,w,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,w,N):o.prototype&&o.prototype.isPureReactComponent?!Xl(u,m)||!Xl(y,w):!0}function b2(a,o,u,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==a&&Lg.enqueueReplaceState(o,o.state,null)}function cs(a,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(a=a.defaultProps){u===o&&(u=g({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}function x2(a){Sd(a)}function w2(a){}function j2(a){Sd(a)}function Kd(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function S2(a,o,u){try{var m=a.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Bg(a,o,u){return u=hi(u),u.tag=3,u.payload={element:null},u.callback=function(){Kd(a,o)},u}function k2(a){return a=hi(a),a.tag=3,a}function _2(a,o,u,m){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var w=m.value;a.payload=function(){return y(w)},a.callback=function(){S2(o,u,m)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){S2(o,u,m),typeof y!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var R=m.stack;this.componentDidCatch(m.value,{componentStack:R!==null?R:""})})}function tD(a,o,u,m,y){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&mo(o,u,y,!0),u=zr.current,u!==null){switch(u.tag){case 31:case 13:return ln===null?af():u.alternate===null&&Nt===0&&(Nt=3),u.flags&=-257,u.flags|=65536,u.lanes=y,m===Rd?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),cv(a,m,y)),!1;case 22:return u.flags|=65536,m===Rd?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),cv(a,m,y)),!1}throw Error(n(435,u.tag))}return cv(a,m,y),af(),!1}if(Ge)return o=zr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,m!==ng&&(a=Error(n(422),{cause:m}),Jl(nn(a,u)))):(m!==ng&&(o=Error(n(423),{cause:m}),Jl(nn(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,m=nn(m,u),y=Bg(a.stateNode,m,y),mg(a,y),Nt!==4&&(Nt=2)),!1;var w=Error(n(520),{cause:m});if(w=nn(w,u),yc===null?yc=[w]:yc.push(w),Nt!==4&&(Nt=2),o===null)return!0;m=nn(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=Bg(u.stateNode,m,a),mg(u,a),!1;case 1:if(o=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(xi===null||!xi.has(w))))return u.flags|=65536,y&=-y,u.lanes|=y,y=k2(y),_2(y,a,u,m),mg(u,y),!1}u=u.return}while(u!==null);return!1}var zg=Error(n(461)),qt=!1;function lr(a,o,u,m){o.child=a===null?Oj(o,null,u,m):os(o,a.child,u,m)}function A2(a,o,u,m,y){u=u.render;var w=o.ref;if("ref"in m){var N={};for(var R in m)R!=="ref"&&(N[R]=m[R])}else N=m;return ns(o),m=xg(a,o,u,N,w,y),R=wg(),a!==null&&!qt?(jg(a,o,y),ka(a,o,y)):(Ge&&R&&tg(o),o.flags|=1,lr(a,o,m,y),o.child)}function N2(a,o,u,m,y){if(a===null){var w=u.type;return typeof w=="function"&&!Qp(w)&&w.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=w,E2(a,o,w,m,y)):(a=Nd(u.type,null,m,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(w=a.child,!Wg(a,y)){var N=w.memoizedProps;if(u=u.compare,u=u!==null?u:Xl,u(N,m)&&a.ref===o.ref)return ka(a,o,y)}return o.flags|=1,a=ya(w,m),a.ref=o.ref,a.return=o,o.child=a}function E2(a,o,u,m,y){if(a!==null){var w=a.memoizedProps;if(Xl(w,m)&&a.ref===o.ref)if(qt=!1,o.pendingProps=m=w,Wg(a,y))(a.flags&131072)!==0&&(qt=!0);else return o.lanes=a.lanes,ka(a,o,y)}return qg(a,o,u,m,y)}function O2(a,o,u,m){var y=m.children,w=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|u:u,a!==null){for(m=o.child=a.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;m=y&~w}else m=0,o.child=null;return C2(a,o,w,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Td(o,w!==null?w.cachePool:null),w!==null?Pj(o,w):gg(),Rj(o);else return m=o.lanes=536870912,C2(a,o,w!==null?w.baseLanes|u:u,u,m)}else w!==null?(Td(o,w.cachePool),Pj(o,w),gi(),o.memoizedState=null):(a!==null&&Td(o,null),gg(),gi());return lr(a,o,y,u),o.child}function dc(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function C2(a,o,u,m,y){var w=ug();return w=w===null?null:{parent:Bt._currentValue,pool:w},o.memoizedState={baseLanes:u,cachePool:w},a!==null&&Td(o,null),gg(),Rj(o),a!==null&&mo(a,o,m,!0),o.childLanes=y,null}function Wd(a,o){return o=Vd({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function T2(a,o,u){return os(o,a.child,null,u),a=Wd(o,o.pendingProps),a.flags|=2,qr(o),o.memoizedState=null,a}function rD(a,o,u){var m=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Ge){if(m.mode==="hidden")return a=Wd(o,m),o.lanes=536870912,dc(null,a);if(yg(o),(a=ft)?(a=FS(a,on),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:li!==null?{id:Gn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},u=mj(a),u.return=o,o.child=u,sr=o,ft=null)):a=null,a===null)throw ui(o);return o.lanes=536870912,null}return Wd(o,m)}var w=a.memoizedState;if(w!==null){var N=w.dehydrated;if(yg(o),y)if(o.flags&256)o.flags&=-257,o=T2(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(n(558));else if(qt||mo(a,o,u,!1),y=(u&a.childLanes)!==0,qt||y){if(m=it,m!==null&&(N=w1(m,u),N!==0&&N!==w.retryLane))throw w.retryLane=N,Ji(a,N),Cr(m,a,N),zg;af(),o=T2(a,o,u)}else a=w.treeContext,ft=cn(N.nextSibling),sr=o,Ge=!0,ci=null,on=!1,a!==null&&vj(o,a),o=Wd(o,m),o.flags|=4096;return o}return a=ya(a.child,{mode:m.mode,children:m.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Yd(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function qg(a,o,u,m,y){return ns(o),u=xg(a,o,u,m,void 0,y),m=wg(),a!==null&&!qt?(jg(a,o,y),ka(a,o,y)):(Ge&&m&&tg(o),o.flags|=1,lr(a,o,u,y),o.child)}function P2(a,o,u,m,y,w){return ns(o),o.updateQueue=null,u=Dj(o,m,u,y),Mj(a),m=wg(),a!==null&&!qt?(jg(a,o,w),ka(a,o,w)):(Ge&&m&&tg(o),o.flags|=1,lr(a,o,u,w),o.child)}function R2(a,o,u,m,y){if(ns(o),o.stateNode===null){var w=co,N=u.contextType;typeof N=="object"&&N!==null&&(w=or(N)),w=new u(m,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Lg,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=m,w.state=o.memoizedState,w.refs={},fg(o),N=u.contextType,w.context=typeof N=="object"&&N!==null?or(N):co,w.state=o.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(Ig(o,u,N,m),w.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(N=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),N!==w.state&&Lg.enqueueReplaceState(w,w.state,null),sc(o,m,w,y),ic(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){w=o.stateNode;var R=o.memoizedProps,B=cs(u,R);w.props=B;var V=w.context,ne=u.contextType;N=co,typeof ne=="object"&&ne!==null&&(N=or(ne));var oe=u.getDerivedStateFromProps;ne=typeof oe=="function"||typeof w.getSnapshotBeforeUpdate=="function",R=o.pendingProps!==R,ne||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R||V!==N)&&b2(o,w,m,N),fi=!1;var X=o.memoizedState;w.state=X,sc(o,m,w,y),ic(),V=o.memoizedState,R||X!==V||fi?(typeof oe=="function"&&(Ig(o,u,oe,m),V=o.memoizedState),(B=fi||y2(o,u,B,m,X,V,N))?(ne||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=V),w.props=m,w.state=V,w.context=N,m=B):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{w=o.stateNode,hg(a,o),N=o.memoizedProps,ne=cs(u,N),w.props=ne,oe=o.pendingProps,X=w.context,V=u.contextType,B=co,typeof V=="object"&&V!==null&&(B=or(V)),R=u.getDerivedStateFromProps,(V=typeof R=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==oe||X!==B)&&b2(o,w,m,B),fi=!1,X=o.memoizedState,w.state=X,sc(o,m,w,y),ic();var J=o.memoizedState;N!==oe||X!==J||fi||a!==null&&a.dependencies!==null&&Od(a.dependencies)?(typeof R=="function"&&(Ig(o,u,R,m),J=o.memoizedState),(ne=fi||y2(o,u,ne,m,X,J,B)||a!==null&&a.dependencies!==null&&Od(a.dependencies))?(V||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,J,B),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,J,B)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===a.memoizedProps&&X===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&X===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=J),w.props=m,w.state=J,w.context=B,m=ne):(typeof w.componentDidUpdate!="function"||N===a.memoizedProps&&X===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&X===a.memoizedState||(o.flags|=1024),m=!1)}return w=m,Yd(a,o),m=(o.flags&128)!==0,w||m?(w=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,a!==null&&m?(o.child=os(o,a.child,null,y),o.child=os(o,null,u,y)):lr(a,o,u,y),o.memoizedState=w.state,a=o.child):a=ka(a,o,y),a}function M2(a,o,u,m){return ts(),o.flags|=256,lr(a,o,u,m),o.child}var $g={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ug(a){return{baseLanes:a,cachePool:Sj()}}function Fg(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=Ur),a}function D2(a,o,u){var m=o.pendingProps,y=!1,w=(o.flags&128)!==0,N;if((N=w)||(N=a!==null&&a.memoizedState===null?!1:(Pt.current&2)!==0),N&&(y=!0,o.flags&=-129),N=(o.flags&32)!==0,o.flags&=-33,a===null){if(Ge){if(y?pi(o):gi(),(a=ft)?(a=FS(a,on),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:li!==null?{id:Gn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},u=mj(a),u.return=o,o.child=u,sr=o,ft=null)):a=null,a===null)throw ui(o);return _v(a)?o.lanes=32:o.lanes=536870912,null}var R=m.children;return m=m.fallback,y?(gi(),y=o.mode,R=Vd({mode:"hidden",children:R},y),m=es(m,y,u,null),R.return=o,m.return=o,R.sibling=m,o.child=R,m=o.child,m.memoizedState=Ug(u),m.childLanes=Fg(a,N,u),o.memoizedState=$g,dc(null,m)):(pi(o),Hg(o,R))}var B=a.memoizedState;if(B!==null&&(R=B.dehydrated,R!==null)){if(w)o.flags&256?(pi(o),o.flags&=-257,o=Gg(a,o,u)):o.memoizedState!==null?(gi(),o.child=a.child,o.flags|=128,o=null):(gi(),R=m.fallback,y=o.mode,m=Vd({mode:"visible",children:m.children},y),R=es(R,y,u,null),R.flags|=2,m.return=o,R.return=o,m.sibling=R,o.child=m,os(o,a.child,null,u),m=o.child,m.memoizedState=Ug(u),m.childLanes=Fg(a,N,u),o.memoizedState=$g,o=dc(null,m));else if(pi(o),_v(R)){if(N=R.nextSibling&&R.nextSibling.dataset,N)var V=N.dgst;N=V,m=Error(n(419)),m.stack="",m.digest=N,Jl({value:m,source:null,stack:null}),o=Gg(a,o,u)}else if(qt||mo(a,o,u,!1),N=(u&a.childLanes)!==0,qt||N){if(N=it,N!==null&&(m=w1(N,u),m!==0&&m!==B.retryLane))throw B.retryLane=m,Ji(a,m),Cr(N,a,m),zg;kv(R)||af(),o=Gg(a,o,u)}else kv(R)?(o.flags|=192,o.child=a.child,o=null):(a=B.treeContext,ft=cn(R.nextSibling),sr=o,Ge=!0,ci=null,on=!1,a!==null&&vj(o,a),o=Hg(o,m.children),o.flags|=4096);return o}return y?(gi(),R=m.fallback,y=o.mode,B=a.child,V=B.sibling,m=ya(B,{mode:"hidden",children:m.children}),m.subtreeFlags=B.subtreeFlags&65011712,V!==null?R=ya(V,R):(R=es(R,y,u,null),R.flags|=2),R.return=o,m.return=o,m.sibling=R,o.child=m,dc(null,m),m=o.child,R=a.child.memoizedState,R===null?R=Ug(u):(y=R.cachePool,y!==null?(B=Bt._currentValue,y=y.parent!==B?{parent:B,pool:B}:y):y=Sj(),R={baseLanes:R.baseLanes|u,cachePool:y}),m.memoizedState=R,m.childLanes=Fg(a,N,u),o.memoizedState=$g,dc(a.child,m)):(pi(o),u=a.child,a=u.sibling,u=ya(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,a!==null&&(N=o.deletions,N===null?(o.deletions=[a],o.flags|=16):N.push(a)),o.child=u,o.memoizedState=null,u)}function Hg(a,o){return o=Vd({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Vd(a,o){return a=Br(22,a,null,o),a.lanes=0,a}function Gg(a,o,u){return os(o,a.child,null,u),a=Hg(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function I2(a,o,u){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),sg(a.return,o,u)}function Kg(a,o,u,m,y,w){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y,treeForkCount:w}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=u,N.tailMode=y,N.treeForkCount=w)}function L2(a,o,u){var m=o.pendingProps,y=m.revealOrder,w=m.tail;m=m.children;var N=Pt.current,R=(N&2)!==0;if(R?(N=N&1|2,o.flags|=128):N&=1,Q(Pt,N),lr(a,o,m,u),m=Ge?Ql:0,!R&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&I2(a,u,o);else if(a.tag===19)I2(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&Ld(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),Kg(o,!1,y,u,w,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&Ld(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}Kg(o,!0,u,null,w,m);break;case"together":Kg(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function ka(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),bi|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(mo(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(n(153));if(o.child!==null){for(a=o.child,u=ya(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=ya(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function Wg(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Od(a)))}function nD(a,o,u){switch(o.tag){case 3:ot(o,o.stateNode.containerInfo),di(o,Bt,a.memoizedState.cache),ts();break;case 27:case 5:Ce(o);break;case 4:ot(o,o.stateNode.containerInfo);break;case 10:di(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,yg(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(pi(o),o.flags|=128,null):(u&o.child.childLanes)!==0?D2(a,o,u):(pi(o),a=ka(a,o,u),a!==null?a.sibling:null);pi(o);break;case 19:var y=(a.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(mo(a,o,u,!1),m=(u&o.childLanes)!==0),y){if(m)return L2(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Q(Pt,Pt.current),m)break;return null;case 22:return o.lanes=0,O2(a,o,u,o.pendingProps);case 24:di(o,Bt,a.memoizedState.cache)}return ka(a,o,u)}function B2(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)qt=!0;else{if(!Wg(a,u)&&(o.flags&128)===0)return qt=!1,nD(a,o,u);qt=(a.flags&131072)!==0}else qt=!1,Ge&&(o.flags&1048576)!==0&&gj(o,Ql,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(a=is(o.elementType),o.type=a,typeof a=="function")Qp(a)?(m=cs(a,m),o.tag=1,o=R2(null,o,a,m,u)):(o.tag=0,o=qg(null,o,a,m,u));else{if(a!=null){var y=a.$$typeof;if(y===T){o.tag=11,o=A2(null,o,a,m,u);break e}else if(y===M){o.tag=14,o=N2(null,o,a,m,u);break e}}throw o=$(a)||a,Error(n(306,o,""))}}return o;case 0:return qg(a,o,o.type,o.pendingProps,u);case 1:return m=o.type,y=cs(m,o.pendingProps),R2(a,o,m,y,u);case 3:e:{if(ot(o,o.stateNode.containerInfo),a===null)throw Error(n(387));m=o.pendingProps;var w=o.memoizedState;y=w.element,hg(a,o),sc(o,m,null,u);var N=o.memoizedState;if(m=N.cache,di(o,Bt,m),m!==w.cache&&og(o,[Bt],u,!0),ic(),m=N.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:N.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=M2(a,o,m,u);break e}else if(m!==y){y=nn(Error(n(424)),o),Jl(y),o=M2(a,o,m,u);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,ft=cn(a.firstChild),sr=o,Ge=!0,ci=null,on=!0,u=Oj(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ts(),m===y){o=ka(a,o,u);break e}lr(a,o,m,u)}o=o.child}return o;case 26:return Yd(a,o),a===null?(u=VS(o.type,null,o.pendingProps,null))?o.memoizedState=u:Ge||(u=o.type,a=o.pendingProps,m=ff(le.current).createElement(u),m[ir]=o,m[kr]=a,cr(m,u,a),Xt(m),o.stateNode=m):o.memoizedState=VS(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ce(o),a===null&&Ge&&(m=o.stateNode=KS(o.type,o.pendingProps,le.current),sr=o,on=!0,y=ft,ki(o.type)?(Av=y,ft=cn(m.firstChild)):ft=y),lr(a,o,o.pendingProps.children,u),Yd(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Ge&&((y=m=ft)&&(m=RD(m,o.type,o.pendingProps,on),m!==null?(o.stateNode=m,sr=o,ft=cn(m.firstChild),on=!1,y=!0):y=!1),y||ui(o)),Ce(o),y=o.type,w=o.pendingProps,N=a!==null?a.memoizedProps:null,m=w.children,wv(y,w)?m=null:N!==null&&wv(y,N)&&(o.flags|=32),o.memoizedState!==null&&(y=xg(a,o,YM,null,null,u),Ac._currentValue=y),Yd(a,o),lr(a,o,m,u),o.child;case 6:return a===null&&Ge&&((a=u=ft)&&(u=MD(u,o.pendingProps,on),u!==null?(o.stateNode=u,sr=o,ft=null,a=!0):a=!1),a||ui(o)),null;case 13:return D2(a,o,u);case 4:return ot(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=os(o,null,m,u):lr(a,o,m,u),o.child;case 11:return A2(a,o,o.type,o.pendingProps,u);case 7:return lr(a,o,o.pendingProps,u),o.child;case 8:return lr(a,o,o.pendingProps.children,u),o.child;case 12:return lr(a,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,di(o,o.type,m.value),lr(a,o,m.children,u),o.child;case 9:return y=o.type._context,m=o.pendingProps.children,ns(o),y=or(y),m=m(y),o.flags|=1,lr(a,o,m,u),o.child;case 14:return N2(a,o,o.type,o.pendingProps,u);case 15:return E2(a,o,o.type,o.pendingProps,u);case 19:return L2(a,o,u);case 31:return rD(a,o,u);case 22:return O2(a,o,u,o.pendingProps);case 24:return ns(o),m=or(Bt),a===null?(y=ug(),y===null&&(y=it,w=lg(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=u),y=w),o.memoizedState={parent:m,cache:y},fg(o),di(o,Bt,y)):((a.lanes&u)!==0&&(hg(a,o),sc(o,null,null,u),ic()),y=a.memoizedState,w=o.memoizedState,y.parent!==m?(y={parent:m,cache:m},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),di(o,Bt,m)):(m=w.cache,di(o,Bt,m),m!==y.cache&&og(o,[Bt],u,!0))),lr(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function _a(a){a.flags|=4}function Yg(a,o,u,m,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(dS())a.flags|=8192;else throw ss=Rd,dg}else a.flags&=-16777217}function z2(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!ek(o))if(dS())a.flags|=8192;else throw ss=Rd,dg}function Xd(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Hn():536870912,a.lanes|=o,Ao|=o)}function fc(a,o){if(!Ge)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function ht(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,m=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=u,o}function aD(a,o,u){var m=o.pendingProps;switch(rg(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(o),null;case 1:return ht(o),null;case 3:return u=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),wa(Bt),re(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(ho(o)?_a(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ag())),ht(o),null;case 26:var y=o.type,w=o.memoizedState;return a===null?(_a(o),w!==null?(ht(o),z2(o,w)):(ht(o),Yg(o,y,null,m,u))):w?w!==a.memoizedState?(_a(o),ht(o),z2(o,w)):(ht(o),o.flags&=-16777217):(a=a.memoizedProps,a!==m&&_a(o),ht(o),Yg(o,y,a,m,u)),null;case 27:if(Ie(o),u=le.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&_a(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return ht(o),null}a=ie.current,ho(o)?yj(o):(a=KS(y,m,u),o.stateNode=a,_a(o))}return ht(o),null;case 5:if(Ie(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&_a(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return ht(o),null}if(w=ie.current,ho(o))yj(o);else{var N=ff(le.current);switch(w){case 1:w=N.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=N.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=N.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof m.is=="string"?N.createElement("select",{is:m.is}):N.createElement("select"),m.multiple?w.multiple=!0:m.size&&(w.size=m.size);break;default:w=typeof m.is=="string"?N.createElement(y,{is:m.is}):N.createElement(y)}}w[ir]=o,w[kr]=m;e:for(N=o.child;N!==null;){if(N.tag===5||N.tag===6)w.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===o)break e;for(;N.sibling===null;){if(N.return===null||N.return===o)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}o.stateNode=w;e:switch(cr(w,y,m),y){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&_a(o)}}return ht(o),Yg(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&_a(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(a=le.current,ho(o)){if(a=o.stateNode,u=o.memoizedProps,m=null,y=sr,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}a[ir]=o,a=!!(a.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||DS(a.nodeValue,u)),a||ui(o,!0)}else a=ff(a).createTextNode(m),a[ir]=o,o.stateNode=a}return ht(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(m=ho(o),u!==null){if(a===null){if(!m)throw Error(n(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[ir]=o}else ts(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ht(o),a=!1}else u=ag(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(qr(o),o):(qr(o),null);if((o.flags&128)!==0)throw Error(n(558))}return ht(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=ho(o),m!==null&&m.dehydrated!==null){if(a===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[ir]=o}else ts(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ht(o),y=!1}else y=ag(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(qr(o),o):(qr(o),null)}return qr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,a=a!==null&&a.memoizedState!==null,u&&(m=o.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==y&&(m.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),Xd(o,o.updateQueue),ht(o),null);case 4:return re(),a===null&&gv(o.stateNode.containerInfo),ht(o),null;case 10:return wa(o.type),ht(o),null;case 19:if(H(Pt),m=o.memoizedState,m===null)return ht(o),null;if(y=(o.flags&128)!==0,w=m.rendering,w===null)if(y)fc(m,!1);else{if(Nt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(w=Ld(a),w!==null){for(o.flags|=128,fc(m,!1),a=w.updateQueue,o.updateQueue=a,Xd(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)hj(u,a),u=u.sibling;return Q(Pt,Pt.current&1|2),Ge&&ba(o,m.treeForkCount),o.child}a=a.sibling}m.tail!==null&&yr()>tf&&(o.flags|=128,y=!0,fc(m,!1),o.lanes=4194304)}else{if(!y)if(a=Ld(w),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Xd(o,a),fc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!Ge)return ht(o),null}else 2*yr()-m.renderingStartTime>tf&&u!==536870912&&(o.flags|=128,y=!0,fc(m,!1),o.lanes=4194304);m.isBackwards?(w.sibling=o.child,o.child=w):(a=m.last,a!==null?a.sibling=w:o.child=w,m.last=w)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=yr(),a.sibling=null,u=Pt.current,Q(Pt,y?u&1|2:u&1),Ge&&ba(o,m.treeForkCount),a):(ht(o),null);case 22:case 23:return qr(o),vg(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(ht(o),o.subtreeFlags&6&&(o.flags|=8192)):ht(o),u=o.updateQueue,u!==null&&Xd(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),a!==null&&H(as),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),wa(Bt),ht(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function iD(a,o){switch(rg(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return wa(Bt),re(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ie(o),null;case 31:if(o.memoizedState!==null){if(qr(o),o.alternate===null)throw Error(n(340));ts()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(qr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ts()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return H(Pt),null;case 4:return re(),null;case 10:return wa(o.type),null;case 22:case 23:return qr(o),vg(),a!==null&&H(as),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return wa(Bt),null;case 25:return null;default:return null}}function q2(a,o){switch(rg(o),o.tag){case 3:wa(Bt),re();break;case 26:case 27:case 5:Ie(o);break;case 4:re();break;case 31:o.memoizedState!==null&&qr(o);break;case 13:qr(o);break;case 19:H(Pt);break;case 10:wa(o.type);break;case 22:case 23:qr(o),vg(),a!==null&&H(as);break;case 24:wa(Bt)}}function hc(a,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&a)===a){m=void 0;var w=u.create,N=u.inst;m=w(),N.destroy=m}u=u.next}while(u!==y)}}catch(R){Ze(o,o.return,R)}}function vi(a,o,u){try{var m=o.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var w=y.next;m=w;do{if((m.tag&a)===a){var N=m.inst,R=N.destroy;if(R!==void 0){N.destroy=void 0,y=o;var B=u,V=R;try{V()}catch(ne){Ze(y,B,ne)}}}m=m.next}while(m!==w)}}catch(ne){Ze(o,o.return,ne)}}function $2(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{Tj(o,u)}catch(m){Ze(a,a.return,m)}}}function U2(a,o,u){u.props=cs(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(m){Ze(a,o,m)}}function mc(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof u=="function"?a.refCleanup=u(m):u.current=m}}catch(y){Ze(a,o,y)}}function Wn(a,o){var u=a.ref,m=a.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(y){Ze(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Ze(a,o,y)}else u.current=null}function F2(a){var o=a.type,u=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(y){Ze(a,a.return,y)}}function Vg(a,o,u){try{var m=a.stateNode;ND(m,a.type,u,o),m[kr]=o}catch(y){Ze(a,a.return,y)}}function H2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ki(a.type)||a.tag===4}function Xg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||H2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ki(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Zg(a,o,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ga));else if(m!==4&&(m===27&&ki(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(Zg(a,o,u),a=a.sibling;a!==null;)Zg(a,o,u),a=a.sibling}function Zd(a,o,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(m!==4&&(m===27&&ki(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Zd(a,o,u),a=a.sibling;a!==null;)Zd(a,o,u),a=a.sibling}function G2(a){var o=a.stateNode,u=a.memoizedProps;try{for(var m=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);cr(o,m,u),o[ir]=a,o[kr]=u}catch(w){Ze(a,a.return,w)}}var Aa=!1,$t=!1,Qg=!1,K2=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function sD(a,o){if(a=a.containerInfo,bv=bf,a=aj(a),Gp(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var N=0,R=-1,B=-1,V=0,ne=0,oe=a,X=null;t:for(;;){for(var J;oe!==u||y!==0&&oe.nodeType!==3||(R=N+y),oe!==w||m!==0&&oe.nodeType!==3||(B=N+m),oe.nodeType===3&&(N+=oe.nodeValue.length),(J=oe.firstChild)!==null;)X=oe,oe=J;for(;;){if(oe===a)break t;if(X===u&&++V===y&&(R=N),X===w&&++ne===m&&(B=N),(J=oe.nextSibling)!==null)break;oe=X,X=oe.parentNode}oe=J}u=R===-1||B===-1?null:{start:R,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(xv={focusedElem:a,selectionRange:u},bf=!1,Zt=o;Zt!==null;)if(o=Zt,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Zt=a;else for(;Zt!==null;){switch(o=Zt,w=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)y=a[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,u=o,y=w.memoizedProps,w=w.memoizedState,m=u.stateNode;try{var ve=cs(u.type,y);a=m.getSnapshotBeforeUpdate(ve,w),m.__reactInternalSnapshotBeforeUpdate=a}catch(Ne){Ze(u,u.return,Ne)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)Sv(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Sv(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=o.sibling,a!==null){a.return=o.return,Zt=a;break}Zt=o.return}}function W2(a,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:Ea(a,u),m&4&&hc(5,u);break;case 1:if(Ea(a,u),m&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(N){Ze(u,u.return,N)}else{var y=cs(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(N){Ze(u,u.return,N)}}m&64&&$2(u),m&512&&mc(u,u.return);break;case 3:if(Ea(a,u),m&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Tj(a,o)}catch(N){Ze(u,u.return,N)}}break;case 27:o===null&&m&4&&G2(u);case 26:case 5:Ea(a,u),o===null&&m&4&&F2(u),m&512&&mc(u,u.return);break;case 12:Ea(a,u);break;case 31:Ea(a,u),m&4&&X2(a,u);break;case 13:Ea(a,u),m&4&&Z2(a,u),m&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=pD.bind(null,u),DD(a,u))));break;case 22:if(m=u.memoizedState!==null||Aa,!m){o=o!==null&&o.memoizedState!==null||$t,y=Aa;var w=$t;Aa=m,($t=o)&&!w?Oa(a,u,(u.subtreeFlags&8772)!==0):Ea(a,u),Aa=y,$t=w}break;case 30:break;default:Ea(a,u)}}function Y2(a){var o=a.alternate;o!==null&&(a.alternate=null,Y2(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Ep(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var vt=null,Ar=!1;function Na(a,o,u){for(u=u.child;u!==null;)V2(a,o,u),u=u.sibling}function V2(a,o,u){if(Y&&typeof Y.onCommitFiberUnmount=="function")try{Y.onCommitFiberUnmount(Yi,u)}catch{}switch(u.tag){case 26:$t||Wn(u,o),Na(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:$t||Wn(u,o);var m=vt,y=Ar;ki(u.type)&&(vt=u.stateNode,Ar=!1),Na(a,o,u),Sc(u.stateNode),vt=m,Ar=y;break;case 5:$t||Wn(u,o);case 6:if(m=vt,y=Ar,vt=null,Na(a,o,u),vt=m,Ar=y,vt!==null)if(Ar)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(u.stateNode)}catch(w){Ze(u,o,w)}else try{vt.removeChild(u.stateNode)}catch(w){Ze(u,o,w)}break;case 18:vt!==null&&(Ar?(a=vt,$S(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Mo(a)):$S(vt,u.stateNode));break;case 4:m=vt,y=Ar,vt=u.stateNode.containerInfo,Ar=!0,Na(a,o,u),vt=m,Ar=y;break;case 0:case 11:case 14:case 15:vi(2,u,o),$t||vi(4,u,o),Na(a,o,u);break;case 1:$t||(Wn(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&U2(u,o,m)),Na(a,o,u);break;case 21:Na(a,o,u);break;case 22:$t=(m=$t)||u.memoizedState!==null,Na(a,o,u),$t=m;break;default:Na(a,o,u)}}function X2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Mo(a)}catch(u){Ze(o,o.return,u)}}}function Z2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Mo(a)}catch(u){Ze(o,o.return,u)}}function oD(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new K2),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new K2),o;default:throw Error(n(435,a.tag))}}function Qd(a,o){var u=oD(a);o.forEach(function(m){if(!u.has(m)){u.add(m);var y=gD.bind(null,a,m);m.then(y,y)}})}function Nr(a,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m],w=a,N=o,R=N;e:for(;R!==null;){switch(R.tag){case 27:if(ki(R.type)){vt=R.stateNode,Ar=!1;break e}break;case 5:vt=R.stateNode,Ar=!1;break e;case 3:case 4:vt=R.stateNode.containerInfo,Ar=!0;break e}R=R.return}if(vt===null)throw Error(n(160));V2(w,N,y),vt=null,Ar=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Q2(o,a),o=o.sibling}var kn=null;function Q2(a,o){var u=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Nr(o,a),Er(a),m&4&&(vi(3,a,a.return),hc(3,a),vi(5,a,a.return));break;case 1:Nr(o,a),Er(a),m&512&&($t||u===null||Wn(u,u.return)),m&64&&Aa&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var y=kn;if(Nr(o,a),Er(a),m&512&&($t||u===null||Wn(u,u.return)),m&4){var w=u!==null?u.memoizedState:null;if(m=a.memoizedState,u===null)if(m===null)if(a.stateNode===null){e:{m=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":w=y.getElementsByTagName("title")[0],(!w||w[$l]||w[ir]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(m),y.head.insertBefore(w,y.querySelector("head > title"))),cr(w,m,u),w[ir]=a,Xt(w),m=w;break e;case"link":var N=QS("link","href",y).get(m+(u.href||""));if(N){for(var R=0;R<N.length;R++)if(w=N[R],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(R,1);break t}}w=y.createElement(m),cr(w,m,u),y.head.appendChild(w);break;case"meta":if(N=QS("meta","content",y).get(m+(u.content||""))){for(R=0;R<N.length;R++)if(w=N[R],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(R,1);break t}}w=y.createElement(m),cr(w,m,u),y.head.appendChild(w);break;default:throw Error(n(468,m))}w[ir]=a,Xt(w),m=w}a.stateNode=m}else JS(y,a.type,a.stateNode);else a.stateNode=ZS(y,m,a.memoizedProps);else w!==m?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,m===null?JS(y,a.type,a.stateNode):ZS(y,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Vg(a,a.memoizedProps,u.memoizedProps)}break;case 27:Nr(o,a),Er(a),m&512&&($t||u===null||Wn(u,u.return)),u!==null&&m&4&&Vg(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Nr(o,a),Er(a),m&512&&($t||u===null||Wn(u,u.return)),a.flags&32){y=a.stateNode;try{ro(y,"")}catch(ve){Ze(a,a.return,ve)}}m&4&&a.stateNode!=null&&(y=a.memoizedProps,Vg(a,y,u!==null?u.memoizedProps:y)),m&1024&&(Qg=!0);break;case 6:if(Nr(o,a),Er(a),m&4){if(a.stateNode===null)throw Error(n(162));m=a.memoizedProps,u=a.stateNode;try{u.nodeValue=m}catch(ve){Ze(a,a.return,ve)}}break;case 3:if(pf=null,y=kn,kn=hf(o.containerInfo),Nr(o,a),kn=y,Er(a),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Mo(o.containerInfo)}catch(ve){Ze(a,a.return,ve)}Qg&&(Qg=!1,J2(a));break;case 4:m=kn,kn=hf(a.stateNode.containerInfo),Nr(o,a),Er(a),kn=m;break;case 12:Nr(o,a),Er(a);break;case 31:Nr(o,a),Er(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Qd(a,m)));break;case 13:Nr(o,a),Er(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(ef=yr()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Qd(a,m)));break;case 22:y=a.memoizedState!==null;var B=u!==null&&u.memoizedState!==null,V=Aa,ne=$t;if(Aa=V||y,$t=ne||B,Nr(o,a),$t=ne,Aa=V,Er(a),m&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||B||Aa||$t||us(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){B=u=o;try{if(w=B.stateNode,y)N=w.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{R=B.stateNode;var oe=B.memoizedProps.style,X=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;R.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ve){Ze(B,B.return,ve)}}}else if(o.tag===6){if(u===null){B=o;try{B.stateNode.nodeValue=y?"":B.memoizedProps}catch(ve){Ze(B,B.return,ve)}}}else if(o.tag===18){if(u===null){B=o;try{var J=B.stateNode;y?US(J,!0):US(B.stateNode,!1)}catch(ve){Ze(B,B.return,ve)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Qd(a,u))));break;case 19:Nr(o,a),Er(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Qd(a,m)));break;case 30:break;case 21:break;default:Nr(o,a),Er(a)}}function Er(a){var o=a.flags;if(o&2){try{for(var u,m=a.return;m!==null;){if(H2(m)){u=m;break}m=m.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var y=u.stateNode,w=Xg(a);Zd(a,w,y);break;case 5:var N=u.stateNode;u.flags&32&&(ro(N,""),u.flags&=-33);var R=Xg(a);Zd(a,R,N);break;case 3:case 4:var B=u.stateNode.containerInfo,V=Xg(a);Zg(a,V,B);break;default:throw Error(n(161))}}catch(ne){Ze(a,a.return,ne)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function J2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;J2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Ea(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)W2(a,o.alternate,o),o=o.sibling}function us(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:vi(4,o,o.return),us(o);break;case 1:Wn(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&U2(o,o.return,u),us(o);break;case 27:Sc(o.stateNode);case 26:case 5:Wn(o,o.return),us(o);break;case 22:o.memoizedState===null&&us(o);break;case 30:us(o);break;default:us(o)}a=a.sibling}}function Oa(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,y=a,w=o,N=w.flags;switch(w.tag){case 0:case 11:case 15:Oa(y,w,u),hc(4,w);break;case 1:if(Oa(y,w,u),m=w,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(V){Ze(m,m.return,V)}if(m=w,y=m.updateQueue,y!==null){var R=m.stateNode;try{var B=y.shared.hiddenCallbacks;if(B!==null)for(y.shared.hiddenCallbacks=null,y=0;y<B.length;y++)Cj(B[y],R)}catch(V){Ze(m,m.return,V)}}u&&N&64&&$2(w),mc(w,w.return);break;case 27:G2(w);case 26:case 5:Oa(y,w,u),u&&m===null&&N&4&&F2(w),mc(w,w.return);break;case 12:Oa(y,w,u);break;case 31:Oa(y,w,u),u&&N&4&&X2(y,w);break;case 13:Oa(y,w,u),u&&N&4&&Z2(y,w);break;case 22:w.memoizedState===null&&Oa(y,w,u),mc(w,w.return);break;case 30:break;default:Oa(y,w,u)}o=o.sibling}}function Jg(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&ec(u))}function ev(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&ec(a))}function _n(a,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)eS(a,o,u,m),o=o.sibling}function eS(a,o,u,m){var y=o.flags;switch(o.tag){case 0:case 11:case 15:_n(a,o,u,m),y&2048&&hc(9,o);break;case 1:_n(a,o,u,m);break;case 3:_n(a,o,u,m),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&ec(a)));break;case 12:if(y&2048){_n(a,o,u,m),a=o.stateNode;try{var w=o.memoizedProps,N=w.id,R=w.onPostCommit;typeof R=="function"&&R(N,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(B){Ze(o,o.return,B)}}else _n(a,o,u,m);break;case 31:_n(a,o,u,m);break;case 13:_n(a,o,u,m);break;case 23:break;case 22:w=o.stateNode,N=o.alternate,o.memoizedState!==null?w._visibility&2?_n(a,o,u,m):pc(a,o):w._visibility&2?_n(a,o,u,m):(w._visibility|=2,So(a,o,u,m,(o.subtreeFlags&10256)!==0||!1)),y&2048&&Jg(N,o);break;case 24:_n(a,o,u,m),y&2048&&ev(o.alternate,o);break;default:_n(a,o,u,m)}}function So(a,o,u,m,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=a,N=o,R=u,B=m,V=N.flags;switch(N.tag){case 0:case 11:case 15:So(w,N,R,B,y),hc(8,N);break;case 23:break;case 22:var ne=N.stateNode;N.memoizedState!==null?ne._visibility&2?So(w,N,R,B,y):pc(w,N):(ne._visibility|=2,So(w,N,R,B,y)),y&&V&2048&&Jg(N.alternate,N);break;case 24:So(w,N,R,B,y),y&&V&2048&&ev(N.alternate,N);break;default:So(w,N,R,B,y)}o=o.sibling}}function pc(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,m=o,y=m.flags;switch(m.tag){case 22:pc(u,m),y&2048&&Jg(m.alternate,m);break;case 24:pc(u,m),y&2048&&ev(m.alternate,m);break;default:pc(u,m)}o=o.sibling}}var gc=8192;function ko(a,o,u){if(a.subtreeFlags&gc)for(a=a.child;a!==null;)tS(a,o,u),a=a.sibling}function tS(a,o,u){switch(a.tag){case 26:ko(a,o,u),a.flags&gc&&a.memoizedState!==null&&WD(u,kn,a.memoizedState,a.memoizedProps);break;case 5:ko(a,o,u);break;case 3:case 4:var m=kn;kn=hf(a.stateNode.containerInfo),ko(a,o,u),kn=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=gc,gc=16777216,ko(a,o,u),gc=m):ko(a,o,u));break;default:ko(a,o,u)}}function rS(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function vc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Zt=m,aS(m,a)}rS(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)nS(a),a=a.sibling}function nS(a){switch(a.tag){case 0:case 11:case 15:vc(a),a.flags&2048&&vi(9,a,a.return);break;case 3:vc(a);break;case 12:vc(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Jd(a)):vc(a);break;default:vc(a)}}function Jd(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Zt=m,aS(m,a)}rS(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:vi(8,o,o.return),Jd(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Jd(o));break;default:Jd(o)}a=a.sibling}}function aS(a,o){for(;Zt!==null;){var u=Zt;switch(u.tag){case 0:case 11:case 15:vi(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:ec(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Zt=m;else e:for(u=a;Zt!==null;){m=Zt;var y=m.sibling,w=m.return;if(Y2(m),m===u){Zt=null;break e}if(y!==null){y.return=w,Zt=y;break e}Zt=w}}}var lD={getCacheForType:function(a){var o=or(Bt),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return or(Bt).controller.signal}},cD=typeof WeakMap=="function"?WeakMap:Map,Ve=0,it=null,ze=null,$e=0,Xe=0,$r=null,yi=!1,_o=!1,tv=!1,Ca=0,Nt=0,bi=0,ds=0,rv=0,Ur=0,Ao=0,yc=null,Or=null,nv=!1,ef=0,iS=0,tf=1/0,rf=null,xi=null,Ht=0,wi=null,No=null,Ta=0,av=0,iv=null,sS=null,bc=0,sv=null;function Fr(){return(Ve&2)!==0&&$e!==0?$e&-$e:L.T!==null?fv():j1()}function oS(){if(Ur===0)if(($e&536870912)===0||Ge){var a=ai;ai<<=1,(ai&3932160)===0&&(ai=262144),Ur=a}else Ur=536870912;return a=zr.current,a!==null&&(a.flags|=32),Ur}function Cr(a,o,u){(a===it&&(Xe===2||Xe===9)||a.cancelPendingCommit!==null)&&(Eo(a,0),ji(a,$e,Ur,!1)),ql(a,u),((Ve&2)===0||a!==it)&&(a===it&&((Ve&2)===0&&(ds|=u),Nt===4&&ji(a,$e,Ur,!1)),Yn(a))}function lS(a,o,u){if((Ve&6)!==0)throw Error(n(327));var m=!u&&(o&127)===0&&(o&a.expiredLanes)===0||Ys(a,o),y=m?fD(a,o):lv(a,o,!0),w=m;do{if(y===0){_o&&!m&&ji(a,o,0,!1);break}else{if(u=a.current.alternate,w&&!uD(u)){y=lv(a,o,!1),w=!1;continue}if(y===2){if(w=o,a.errorRecoveryDisabledLanes&w)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){o=N;e:{var R=a;y=yc;var B=R.current.memoizedState.isDehydrated;if(B&&(Eo(R,N).flags|=256),N=lv(R,N,!1),N!==2){if(tv&&!B){R.errorRecoveryDisabledLanes|=w,ds|=w,y=4;break e}w=Or,Or=y,w!==null&&(Or===null?Or=w:Or.push.apply(Or,w))}y=N}if(w=!1,y!==2)continue}}if(y===1){Eo(a,0),ji(a,o,0,!0);break}e:{switch(m=a,w=y,w){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:ji(m,o,Ur,!yi);break e;case 2:Or=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(y=ef+300-yr(),10<y)){if(ji(m,o,Ur,!yi),ii(m,0,!0)!==0)break e;Ta=o,m.timeoutHandle=zS(cS.bind(null,m,u,Or,rf,nv,o,Ur,ds,Ao,yi,w,"Throttled",-0,0),y);break e}cS(m,u,Or,rf,nv,o,Ur,ds,Ao,yi,w,null,-0,0)}}break}while(!0);Yn(a)}function cS(a,o,u,m,y,w,N,R,B,V,ne,oe,X,J){if(a.timeoutHandle=-1,oe=o.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ga},tS(o,w,oe);var ve=(w&62914560)===w?ef-yr():(w&4194048)===w?iS-yr():0;if(ve=YD(oe,ve),ve!==null){Ta=w,a.cancelPendingCommit=ve(vS.bind(null,a,o,w,u,m,y,N,R,B,ne,oe,null,X,J)),ji(a,w,N,!V);return}}vS(a,o,w,u,m,y,N,R,B)}function uD(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var y=u[m],w=y.getSnapshot;y=y.value;try{if(!Lr(w(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ji(a,o,u,m){o&=~rv,o&=~ds,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var y=o;0<y;){var w=31-je(y),N=1<<w;m[w]=-1,y&=~N}u!==0&&b1(a,u,o)}function nf(){return(Ve&6)===0?(xc(0),!1):!0}function ov(){if(ze!==null){if(Xe===0)var a=ze.return;else a=ze,xa=rs=null,Sg(a),yo=null,rc=0,a=ze;for(;a!==null;)q2(a.alternate,a),a=a.return;ze=null}}function Eo(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,CD(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Ta=0,ov(),it=a,ze=u=ya(a.current,null),$e=o,Xe=0,$r=null,yi=!1,_o=Ys(a,o),tv=!1,Ao=Ur=rv=ds=bi=Nt=0,Or=yc=null,nv=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var y=31-je(m),w=1<<y;o|=a[y],m&=~w}return Ca=o,kd(),u}function uS(a,o){Re=null,L.H=uc,o===vo||o===Pd?(o=Aj(),Xe=3):o===dg?(o=Aj(),Xe=4):Xe=o===zg?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,$r=o,ze===null&&(Nt=1,Kd(a,nn(o,a.current)))}function dS(){var a=zr.current;return a===null?!0:($e&4194048)===$e?ln===null:($e&62914560)===$e||($e&536870912)!==0?a===ln:!1}function fS(){var a=L.H;return L.H=uc,a===null?uc:a}function hS(){var a=L.A;return L.A=lD,a}function af(){Nt=4,yi||($e&4194048)!==$e&&zr.current!==null||(_o=!0),(bi&134217727)===0&&(ds&134217727)===0||it===null||ji(it,$e,Ur,!1)}function lv(a,o,u){var m=Ve;Ve|=2;var y=fS(),w=hS();(it!==a||$e!==o)&&(rf=null,Eo(a,o)),o=!1;var N=Nt;e:do try{if(Xe!==0&&ze!==null){var R=ze,B=$r;switch(Xe){case 8:ov(),N=6;break e;case 3:case 2:case 9:case 6:zr.current===null&&(o=!0);var V=Xe;if(Xe=0,$r=null,Oo(a,R,B,V),u&&_o){N=0;break e}break;default:V=Xe,Xe=0,$r=null,Oo(a,R,B,V)}}dD(),N=Nt;break}catch(ne){uS(a,ne)}while(!0);return o&&a.shellSuspendCounter++,xa=rs=null,Ve=m,L.H=y,L.A=w,ze===null&&(it=null,$e=0,kd()),N}function dD(){for(;ze!==null;)mS(ze)}function fD(a,o){var u=Ve;Ve|=2;var m=fS(),y=hS();it!==a||$e!==o?(rf=null,tf=yr()+500,Eo(a,o)):_o=Ys(a,o);e:do try{if(Xe!==0&&ze!==null){o=ze;var w=$r;t:switch(Xe){case 1:Xe=0,$r=null,Oo(a,o,w,1);break;case 2:case 9:if(kj(w)){Xe=0,$r=null,pS(o);break}o=function(){Xe!==2&&Xe!==9||it!==a||(Xe=7),Yn(a)},w.then(o,o);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:kj(w)?(Xe=0,$r=null,pS(o)):(Xe=0,$r=null,Oo(a,o,w,7));break;case 5:var N=null;switch(ze.tag){case 26:N=ze.memoizedState;case 5:case 27:var R=ze;if(N?ek(N):R.stateNode.complete){Xe=0,$r=null;var B=R.sibling;if(B!==null)ze=B;else{var V=R.return;V!==null?(ze=V,sf(V)):ze=null}break t}}Xe=0,$r=null,Oo(a,o,w,5);break;case 6:Xe=0,$r=null,Oo(a,o,w,6);break;case 8:ov(),Nt=6;break e;default:throw Error(n(462))}}hD();break}catch(ne){uS(a,ne)}while(!0);return xa=rs=null,L.H=m,L.A=y,Ve=u,ze!==null?0:(it=null,$e=0,kd(),Nt)}function hD(){for(;ze!==null&&!xp();)mS(ze)}function mS(a){var o=B2(a.alternate,a,Ca);a.memoizedProps=a.pendingProps,o===null?sf(a):ze=o}function pS(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=P2(u,o,o.pendingProps,o.type,void 0,$e);break;case 11:o=P2(u,o,o.pendingProps,o.type.render,o.ref,$e);break;case 5:Sg(o);default:q2(u,o),o=ze=hj(o,Ca),o=B2(u,o,Ca)}a.memoizedProps=a.pendingProps,o===null?sf(a):ze=o}function Oo(a,o,u,m){xa=rs=null,Sg(o),yo=null,rc=0;var y=o.return;try{if(tD(a,y,o,u,$e)){Nt=1,Kd(a,nn(u,a.current)),ze=null;return}}catch(w){if(y!==null)throw ze=y,w;Nt=1,Kd(a,nn(u,a.current)),ze=null;return}o.flags&32768?(Ge||m===1?a=!0:_o||($e&536870912)!==0?a=!1:(yi=a=!0,(m===2||m===9||m===3||m===6)&&(m=zr.current,m!==null&&m.tag===13&&(m.flags|=16384))),gS(o,a)):sf(o)}function sf(a){var o=a;do{if((o.flags&32768)!==0){gS(o,yi);return}a=o.return;var u=aD(o.alternate,o,Ca);if(u!==null){ze=u;return}if(o=o.sibling,o!==null){ze=o;return}ze=o=a}while(o!==null);Nt===0&&(Nt=5)}function gS(a,o){do{var u=iD(a.alternate,a);if(u!==null){u.flags&=32767,ze=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){ze=a;return}ze=a=u}while(a!==null);Nt=6,ze=null}function vS(a,o,u,m,y,w,N,R,B){a.cancelPendingCommit=null;do of();while(Ht!==0);if((Ve&6)!==0)throw Error(n(327));if(o!==null){if(o===a.current)throw Error(n(177));if(w=o.lanes|o.childLanes,w|=Xp,KR(a,u,w,N,R,B),a===it&&(ze=it=null,$e=0),No=o,wi=a,Ta=u,av=w,iv=y,sS=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,vD(Fn,function(){return jS(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=L.T,L.T=null,y=F.p,F.p=2,N=Ve,Ve|=4;try{sD(a,o,u)}finally{Ve=N,F.p=y,L.T=m}}Ht=1,yS(),bS(),xS()}}function yS(){if(Ht===1){Ht=0;var a=wi,o=No,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=L.T,L.T=null;var m=F.p;F.p=2;var y=Ve;Ve|=4;try{Q2(o,a);var w=xv,N=aj(a.containerInfo),R=w.focusedElem,B=w.selectionRange;if(N!==R&&R&&R.ownerDocument&&nj(R.ownerDocument.documentElement,R)){if(B!==null&&Gp(R)){var V=B.start,ne=B.end;if(ne===void 0&&(ne=V),"selectionStart"in R)R.selectionStart=V,R.selectionEnd=Math.min(ne,R.value.length);else{var oe=R.ownerDocument||document,X=oe&&oe.defaultView||window;if(X.getSelection){var J=X.getSelection(),ve=R.textContent.length,Ne=Math.min(B.start,ve),rt=B.end===void 0?Ne:Math.min(B.end,ve);!J.extend&&Ne>rt&&(N=rt,rt=Ne,Ne=N);var G=rj(R,Ne),z=rj(R,rt);if(G&&z&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==z.node||J.focusOffset!==z.offset)){var W=oe.createRange();W.setStart(G.node,G.offset),J.removeAllRanges(),Ne>rt?(J.addRange(W),J.extend(z.node,z.offset)):(W.setEnd(z.node,z.offset),J.addRange(W))}}}}for(oe=[],J=R;J=J.parentNode;)J.nodeType===1&&oe.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<oe.length;R++){var se=oe[R];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}bf=!!bv,xv=bv=null}finally{Ve=y,F.p=m,L.T=u}}a.current=o,Ht=2}}function bS(){if(Ht===2){Ht=0;var a=wi,o=No,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=L.T,L.T=null;var m=F.p;F.p=2;var y=Ve;Ve|=4;try{W2(a,o.alternate,o)}finally{Ve=y,F.p=m,L.T=u}}Ht=3}}function xS(){if(Ht===4||Ht===3){Ht=0,wp();var a=wi,o=No,u=Ta,m=sS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ht=5:(Ht=0,No=wi=null,wS(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(xi=null),Ap(u),o=o.stateNode,Y&&typeof Y.onCommitFiberRoot=="function")try{Y.onCommitFiberRoot(Yi,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=L.T,y=F.p,F.p=2,L.T=null;try{for(var w=a.onRecoverableError,N=0;N<m.length;N++){var R=m[N];w(R.value,{componentStack:R.stack})}}finally{L.T=o,F.p=y}}(Ta&3)!==0&&of(),Yn(a),y=a.pendingLanes,(u&261930)!==0&&(y&42)!==0?a===sv?bc++:(bc=0,sv=a):bc=0,xc(0)}}function wS(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,ec(o)))}function of(){return yS(),bS(),xS(),jS()}function jS(){if(Ht!==5)return!1;var a=wi,o=av;av=0;var u=Ap(Ta),m=L.T,y=F.p;try{F.p=32>u?32:u,L.T=null,u=iv,iv=null;var w=wi,N=Ta;if(Ht=0,No=wi=null,Ta=0,(Ve&6)!==0)throw Error(n(331));var R=Ve;if(Ve|=4,nS(w.current),eS(w,w.current,N,u),Ve=R,xc(0,!1),Y&&typeof Y.onPostCommitFiberRoot=="function")try{Y.onPostCommitFiberRoot(Yi,w)}catch{}return!0}finally{F.p=y,L.T=m,wS(a,o)}}function SS(a,o,u){o=nn(u,o),o=Bg(a.stateNode,o,2),a=mi(a,o,2),a!==null&&(ql(a,2),Yn(a))}function Ze(a,o,u){if(a.tag===3)SS(a,a,u);else for(;o!==null;){if(o.tag===3){SS(o,a,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(xi===null||!xi.has(m))){a=nn(u,a),u=k2(2),m=mi(o,u,2),m!==null&&(_2(u,m,o,a),ql(m,2),Yn(m));break}}o=o.return}}function cv(a,o,u){var m=a.pingCache;if(m===null){m=a.pingCache=new cD;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(u)||(tv=!0,y.add(u),a=mD.bind(null,a,o,u),o.then(a,a))}function mD(a,o,u){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,it===a&&($e&u)===u&&(Nt===4||Nt===3&&($e&62914560)===$e&&300>yr()-ef?(Ve&2)===0&&Eo(a,0):rv|=u,Ao===$e&&(Ao=0)),Yn(a)}function kS(a,o){o===0&&(o=Hn()),a=Ji(a,o),a!==null&&(ql(a,o),Yn(a))}function pD(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),kS(a,u)}function gD(a,o){var u=0;switch(a.tag){case 31:case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(o),kS(a,u)}function vD(a,o){return Bl(a,o)}var lf=null,Co=null,uv=!1,cf=!1,dv=!1,Si=0;function Yn(a){a!==Co&&a.next===null&&(Co===null?lf=Co=a:Co=Co.next=a),cf=!0,uv||(uv=!0,bD())}function xc(a,o){if(!dv&&cf){dv=!0;do for(var u=!1,m=lf;m!==null;){if(a!==0){var y=m.pendingLanes;if(y===0)var w=0;else{var N=m.suspendedLanes,R=m.pingedLanes;w=(1<<31-je(42|a)+1)-1,w&=y&~(N&~R),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,ES(m,w))}else w=$e,w=ii(m,m===it?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Ys(m,w)||(u=!0,ES(m,w));m=m.next}while(u);dv=!1}}function yD(){_S()}function _S(){cf=uv=!1;var a=0;Si!==0&&OD()&&(a=Si);for(var o=yr(),u=null,m=lf;m!==null;){var y=m.next,w=AS(m,o);w===0?(m.next=null,u===null?lf=y:u.next=y,y===null&&(Co=u)):(u=m,(a!==0||(w&3)!==0)&&(cf=!0)),m=y}Ht!==0&&Ht!==5||xc(a),Si!==0&&(Si=0)}function AS(a,o){for(var u=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var N=31-je(w),R=1<<N,B=y[N];B===-1?((R&u)===0||(R&m)!==0)&&(y[N]=Vs(R,o)):B<=o&&(a.expiredLanes|=R),w&=~R}if(o=it,u=$e,u=ii(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,u===0||a===o&&(Xe===2||Xe===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&zl(m),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Ys(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(m!==null&&zl(m),Ap(u)){case 2:case 8:u=Wi;break;case 32:u=Fn;break;case 268435456:u=fd;break;default:u=Fn}return m=NS.bind(null,a),u=Bl(u,m),a.callbackPriority=o,a.callbackNode=u,o}return m!==null&&m!==null&&zl(m),a.callbackPriority=2,a.callbackNode=null,2}function NS(a,o){if(Ht!==0&&Ht!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(of()&&a.callbackNode!==u)return null;var m=$e;return m=ii(a,a===it?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(lS(a,m,o),AS(a,yr()),a.callbackNode!=null&&a.callbackNode===u?NS.bind(null,a):null)}function ES(a,o){if(of())return null;lS(a,o,!0)}function bD(){TD(function(){(Ve&6)!==0?Bl(Ki,yD):_S()})}function fv(){if(Si===0){var a=po;a===0&&(a=Jr,Jr<<=1,(Jr&261888)===0&&(Jr=256)),Si=a}return Si}function OS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:gd(""+a)}function CS(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function xD(a,o,u,m,y){if(o==="submit"&&u&&u.stateNode===y){var w=OS((y[kr]||null).action),N=m.submitter;N&&(o=(o=N[kr]||null)?OS(o.formAction):N.getAttribute("formAction"),o!==null&&(w=o,N=null));var R=new xd("action","action",null,m,y);a.push({event:R,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Si!==0){var B=N?CS(y,N):new FormData(y);Pg(u,{pending:!0,data:B,method:y.method,action:w},null,B)}}else typeof w=="function"&&(R.preventDefault(),B=N?CS(y,N):new FormData(y),Pg(u,{pending:!0,data:B,method:y.method,action:w},w,B))},currentTarget:y}]})}}for(var hv=0;hv<Vp.length;hv++){var mv=Vp[hv],wD=mv.toLowerCase(),jD=mv[0].toUpperCase()+mv.slice(1);Sn(wD,"on"+jD)}Sn(oj,"onAnimationEnd"),Sn(lj,"onAnimationIteration"),Sn(cj,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(BM,"onTransitionRun"),Sn(zM,"onTransitionStart"),Sn(qM,"onTransitionCancel"),Sn(uj,"onTransitionEnd"),eo("onMouseEnter",["mouseout","mouseover"]),eo("onMouseLeave",["mouseout","mouseover"]),eo("onPointerEnter",["pointerout","pointerover"]),eo("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wc));function TS(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var m=a[u],y=m.event;m=m.listeners;e:{var w=void 0;if(o)for(var N=m.length-1;0<=N;N--){var R=m[N],B=R.instance,V=R.currentTarget;if(R=R.listener,B!==w&&y.isPropagationStopped())break e;w=R,y.currentTarget=V;try{w(y)}catch(ne){Sd(ne)}y.currentTarget=null,w=B}else for(N=0;N<m.length;N++){if(R=m[N],B=R.instance,V=R.currentTarget,R=R.listener,B!==w&&y.isPropagationStopped())break e;w=R,y.currentTarget=V;try{w(y)}catch(ne){Sd(ne)}y.currentTarget=null,w=B}}}}function qe(a,o){var u=o[Np];u===void 0&&(u=o[Np]=new Set);var m=a+"__bubble";u.has(m)||(PS(o,a,2,!1),u.add(m))}function pv(a,o,u){var m=0;o&&(m|=4),PS(u,a,m,o)}var uf="_reactListening"+Math.random().toString(36).slice(2);function gv(a){if(!a[uf]){a[uf]=!0,_1.forEach(function(u){u!=="selectionchange"&&(SD.has(u)||pv(u,!1,a),pv(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[uf]||(o[uf]=!0,pv("selectionchange",!1,o))}}function PS(a,o,u,m){switch(ok(o)){case 2:var y=ZD;break;case 8:y=QD;break;default:y=Tv}u=y.bind(null,o,u,a),y=void 0,!Ip||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function vv(a,o,u,m,y){var w=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var R=m.stateNode.containerInfo;if(R===y)break;if(N===4)for(N=m.return;N!==null;){var B=N.tag;if((B===3||B===4)&&N.stateNode.containerInfo===y)return;N=N.return}for(;R!==null;){if(N=Zs(R),N===null)return;if(B=N.tag,B===5||B===6||B===26||B===27){m=w=N;continue e}R=R.parentNode}}m=m.return}L1(function(){var V=w,ne=Mp(u),oe=[];e:{var X=dj.get(a);if(X!==void 0){var J=xd,ve=a;switch(a){case"keypress":if(yd(u)===0)break e;case"keydown":case"keyup":J=gM;break;case"focusin":ve="focus",J=qp;break;case"focusout":ve="blur",J=qp;break;case"beforeblur":case"afterblur":J=qp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=q1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=aM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=bM;break;case oj:case lj:case cj:J=oM;break;case uj:J=wM;break;case"scroll":case"scrollend":J=rM;break;case"wheel":J=SM;break;case"copy":case"cut":case"paste":J=cM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=U1;break;case"toggle":case"beforetoggle":J=_M}var Ne=(o&4)!==0,rt=!Ne&&(a==="scroll"||a==="scrollend"),G=Ne?X!==null?X+"Capture":null:X;Ne=[];for(var z=V,W;z!==null;){var se=z;if(W=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||W===null||G===null||(se=Fl(z,G),se!=null&&Ne.push(jc(z,se,W))),rt)break;z=z.return}0<Ne.length&&(X=new J(X,ve,null,u,ne),oe.push({event:X,listeners:Ne}))}}if((o&7)===0){e:{if(X=a==="mouseover"||a==="pointerover",J=a==="mouseout"||a==="pointerout",X&&u!==Rp&&(ve=u.relatedTarget||u.fromElement)&&(Zs(ve)||ve[Xs]))break e;if((J||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,J?(ve=u.relatedTarget||u.toElement,J=V,ve=ve?Zs(ve):null,ve!==null&&(rt=s(ve),Ne=ve.tag,ve!==rt||Ne!==5&&Ne!==27&&Ne!==6)&&(ve=null)):(J=null,ve=V),J!==ve)){if(Ne=q1,se="onMouseLeave",G="onMouseEnter",z="mouse",(a==="pointerout"||a==="pointerover")&&(Ne=U1,se="onPointerLeave",G="onPointerEnter",z="pointer"),rt=J==null?X:Ul(J),W=ve==null?X:Ul(ve),X=new Ne(se,z+"leave",J,u,ne),X.target=rt,X.relatedTarget=W,se=null,Zs(ne)===V&&(Ne=new Ne(G,z+"enter",ve,u,ne),Ne.target=W,Ne.relatedTarget=rt,se=Ne),rt=se,J&&ve)t:{for(Ne=kD,G=J,z=ve,W=0,se=G;se;se=Ne(se))W++;se=0;for(var Se=z;Se;Se=Ne(Se))se++;for(;0<W-se;)G=Ne(G),W--;for(;0<se-W;)z=Ne(z),se--;for(;W--;){if(G===z||z!==null&&G===z.alternate){Ne=G;break t}G=Ne(G),z=Ne(z)}Ne=null}else Ne=null;J!==null&&RS(oe,X,J,Ne,!1),ve!==null&&rt!==null&&RS(oe,rt,ve,Ne,!0)}}e:{if(X=V?Ul(V):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var Ke=X1;else if(Y1(X))if(Z1)Ke=DM;else{Ke=RM;var xe=PM}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?V&&Pp(V.elementType)&&(Ke=X1):Ke=MM;if(Ke&&(Ke=Ke(a,V))){V1(oe,Ke,u,ne);break e}xe&&xe(a,X,V),a==="focusout"&&V&&X.type==="number"&&V.memoizedProps.value!=null&&Tp(X,"number",X.value)}switch(xe=V?Ul(V):window,a){case"focusin":(Y1(xe)||xe.contentEditable==="true")&&(so=xe,Kp=V,Zl=null);break;case"focusout":Zl=Kp=so=null;break;case"mousedown":Wp=!0;break;case"contextmenu":case"mouseup":case"dragend":Wp=!1,ij(oe,u,ne);break;case"selectionchange":if(LM)break;case"keydown":case"keyup":ij(oe,u,ne)}var Me;if(Up)e:{switch(a){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else io?K1(a,u)&&(Ue="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Ue="onCompositionStart");Ue&&(F1&&u.locale!=="ko"&&(io||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&io&&(Me=B1()):(oi=ne,Lp="value"in oi?oi.value:oi.textContent,io=!0)),xe=df(V,Ue),0<xe.length&&(Ue=new $1(Ue,a,null,u,ne),oe.push({event:Ue,listeners:xe}),Me?Ue.data=Me:(Me=W1(u),Me!==null&&(Ue.data=Me)))),(Me=NM?EM(a,u):OM(a,u))&&(Ue=df(V,"onBeforeInput"),0<Ue.length&&(xe=new $1("onBeforeInput","beforeinput",null,u,ne),oe.push({event:xe,listeners:Ue}),xe.data=Me)),xD(oe,a,V,u,ne)}TS(oe,o)})}function jc(a,o,u){return{instance:a,listener:o,currentTarget:u}}function df(a,o){for(var u=o+"Capture",m=[];a!==null;){var y=a,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=Fl(a,u),y!=null&&m.unshift(jc(a,y,w)),y=Fl(a,o),y!=null&&m.push(jc(a,y,w))),a.tag===3)return m;a=a.return}return[]}function kD(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function RS(a,o,u,m,y){for(var w=o._reactName,N=[];u!==null&&u!==m;){var R=u,B=R.alternate,V=R.stateNode;if(R=R.tag,B!==null&&B===m)break;R!==5&&R!==26&&R!==27||V===null||(B=V,y?(V=Fl(u,w),V!=null&&N.unshift(jc(u,V,B))):y||(V=Fl(u,w),V!=null&&N.push(jc(u,V,B)))),u=u.return}N.length!==0&&a.push({event:o,listeners:N})}var _D=/\r\n?/g,AD=/\u0000|\uFFFD/g;function MS(a){return(typeof a=="string"?a:""+a).replace(_D,`
`).replace(AD,"")}function DS(a,o){return o=MS(o),MS(a)===o}function tt(a,o,u,m,y,w){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||ro(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&ro(a,""+m);break;case"className":md(a,"class",m);break;case"tabIndex":md(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":md(a,u,m);break;case"style":D1(a,m,w);break;case"data":if(o!=="object"){md(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=gd(""+m),a.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(o!=="input"&&tt(a,o,"name",y.name,y,null),tt(a,o,"formEncType",y.formEncType,y,null),tt(a,o,"formMethod",y.formMethod,y,null),tt(a,o,"formTarget",y.formTarget,y,null)):(tt(a,o,"encType",y.encType,y,null),tt(a,o,"method",y.method,y,null),tt(a,o,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=gd(""+m),a.setAttribute(u,m);break;case"onClick":m!=null&&(a.onclick=ga);break;case"onScroll":m!=null&&qe("scroll",a);break;case"onScrollEnd":m!=null&&qe("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}u=gd(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""+m):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":m===!0?a.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,m):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(u,m):a.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(u):a.setAttribute(u,m);break;case"popover":qe("beforetoggle",a),qe("toggle",a),hd(a,"popover",m);break;case"xlinkActuate":pa(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":pa(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":pa(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":pa(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":pa(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":pa(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":pa(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":pa(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":pa(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":hd(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=eM.get(u)||u,hd(a,u,m))}}function yv(a,o,u,m,y,w){switch(u){case"style":D1(a,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"children":typeof m=="string"?ro(a,m):(typeof m=="number"||typeof m=="bigint")&&ro(a,""+m);break;case"onScroll":m!=null&&qe("scroll",a);break;case"onScrollEnd":m!=null&&qe("scrollend",a);break;case"onClick":m!=null&&(a.onclick=ga);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!A1.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),w=a[kr]||null,w=w!=null?w[u]:null,typeof w=="function"&&a.removeEventListener(o,w,y),typeof m=="function")){typeof w!="function"&&w!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,m,y);break e}u in a?a[u]=m:m===!0?a.setAttribute(u,""):hd(a,u,m)}}}function cr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",a),qe("load",a);var m=!1,y=!1,w;for(w in u)if(u.hasOwnProperty(w)){var N=u[w];if(N!=null)switch(w){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:tt(a,o,w,N,u,null)}}y&&tt(a,o,"srcSet",u.srcSet,u,null),m&&tt(a,o,"src",u.src,u,null);return;case"input":qe("invalid",a);var R=w=N=y=null,B=null,V=null;for(m in u)if(u.hasOwnProperty(m)){var ne=u[m];if(ne!=null)switch(m){case"name":y=ne;break;case"type":N=ne;break;case"checked":B=ne;break;case"defaultChecked":V=ne;break;case"value":w=ne;break;case"defaultValue":R=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(137,o));break;default:tt(a,o,m,ne,u,null)}}T1(a,w,R,B,V,N,y,!1);return;case"select":qe("invalid",a),m=N=w=null;for(y in u)if(u.hasOwnProperty(y)&&(R=u[y],R!=null))switch(y){case"value":w=R;break;case"defaultValue":N=R;break;case"multiple":m=R;default:tt(a,o,y,R,u,null)}o=w,u=N,a.multiple=!!m,o!=null?to(a,!!m,o,!1):u!=null&&to(a,!!m,u,!0);return;case"textarea":qe("invalid",a),w=y=m=null;for(N in u)if(u.hasOwnProperty(N)&&(R=u[N],R!=null))switch(N){case"value":m=R;break;case"defaultValue":y=R;break;case"children":w=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(n(91));break;default:tt(a,o,N,R,u,null)}R1(a,m,y,w);return;case"option":for(B in u)u.hasOwnProperty(B)&&(m=u[B],m!=null)&&(B==="selected"?a.selected=m&&typeof m!="function"&&typeof m!="symbol":tt(a,o,B,m,u,null));return;case"dialog":qe("beforetoggle",a),qe("toggle",a),qe("cancel",a),qe("close",a);break;case"iframe":case"object":qe("load",a);break;case"video":case"audio":for(m=0;m<wc.length;m++)qe(wc[m],a);break;case"image":qe("error",a),qe("load",a);break;case"details":qe("toggle",a);break;case"embed":case"source":case"link":qe("error",a),qe("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in u)if(u.hasOwnProperty(V)&&(m=u[V],m!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:tt(a,o,V,m,u,null)}return;default:if(Pp(o)){for(ne in u)u.hasOwnProperty(ne)&&(m=u[ne],m!==void 0&&yv(a,o,ne,m,u,void 0));return}}for(R in u)u.hasOwnProperty(R)&&(m=u[R],m!=null&&tt(a,o,R,m,u,null))}function ND(a,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,N=null,R=null,B=null,V=null,ne=null;for(J in u){var oe=u[J];if(u.hasOwnProperty(J)&&oe!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":B=oe;default:m.hasOwnProperty(J)||tt(a,o,J,null,m,oe)}}for(var X in m){var J=m[X];if(oe=u[X],m.hasOwnProperty(X)&&(J!=null||oe!=null))switch(X){case"type":w=J;break;case"name":y=J;break;case"checked":V=J;break;case"defaultChecked":ne=J;break;case"value":N=J;break;case"defaultValue":R=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(137,o));break;default:J!==oe&&tt(a,o,X,J,m,oe)}}Cp(a,N,R,B,V,ne,w,y);return;case"select":J=N=R=X=null;for(w in u)if(B=u[w],u.hasOwnProperty(w)&&B!=null)switch(w){case"value":break;case"multiple":J=B;default:m.hasOwnProperty(w)||tt(a,o,w,null,m,B)}for(y in m)if(w=m[y],B=u[y],m.hasOwnProperty(y)&&(w!=null||B!=null))switch(y){case"value":X=w;break;case"defaultValue":R=w;break;case"multiple":N=w;default:w!==B&&tt(a,o,y,w,m,B)}o=R,u=N,m=J,X!=null?to(a,!!u,X,!1):!!m!=!!u&&(o!=null?to(a,!!u,o,!0):to(a,!!u,u?[]:"",!1));return;case"textarea":J=X=null;for(R in u)if(y=u[R],u.hasOwnProperty(R)&&y!=null&&!m.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:tt(a,o,R,null,m,y)}for(N in m)if(y=m[N],w=u[N],m.hasOwnProperty(N)&&(y!=null||w!=null))switch(N){case"value":X=y;break;case"defaultValue":J=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==w&&tt(a,o,N,y,m,w)}P1(a,X,J);return;case"option":for(var ve in u)X=u[ve],u.hasOwnProperty(ve)&&X!=null&&!m.hasOwnProperty(ve)&&(ve==="selected"?a.selected=!1:tt(a,o,ve,null,m,X));for(B in m)X=m[B],J=u[B],m.hasOwnProperty(B)&&X!==J&&(X!=null||J!=null)&&(B==="selected"?a.selected=X&&typeof X!="function"&&typeof X!="symbol":tt(a,o,B,X,m,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in u)X=u[Ne],u.hasOwnProperty(Ne)&&X!=null&&!m.hasOwnProperty(Ne)&&tt(a,o,Ne,null,m,X);for(V in m)if(X=m[V],J=u[V],m.hasOwnProperty(V)&&X!==J&&(X!=null||J!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(137,o));break;default:tt(a,o,V,X,m,J)}return;default:if(Pp(o)){for(var rt in u)X=u[rt],u.hasOwnProperty(rt)&&X!==void 0&&!m.hasOwnProperty(rt)&&yv(a,o,rt,void 0,m,X);for(ne in m)X=m[ne],J=u[ne],!m.hasOwnProperty(ne)||X===J||X===void 0&&J===void 0||yv(a,o,ne,X,m,J);return}}for(var G in u)X=u[G],u.hasOwnProperty(G)&&X!=null&&!m.hasOwnProperty(G)&&tt(a,o,G,null,m,X);for(oe in m)X=m[oe],J=u[oe],!m.hasOwnProperty(oe)||X===J||X==null&&J==null||tt(a,o,oe,X,m,J)}function IS(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ED(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var y=u[m],w=y.transferSize,N=y.initiatorType,R=y.duration;if(w&&R&&IS(N)){for(N=0,R=y.responseEnd,m+=1;m<u.length;m++){var B=u[m],V=B.startTime;if(V>R)break;var ne=B.transferSize,oe=B.initiatorType;ne&&IS(oe)&&(B=B.responseEnd,N+=ne*(B<R?1:(R-V)/(B-V)))}if(--m,o+=8*(w+N)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var bv=null,xv=null;function ff(a){return a.nodeType===9?a:a.ownerDocument}function LS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function BS(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function wv(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var jv=null;function OD(){var a=window.event;return a&&a.type==="popstate"?a===jv?!1:(jv=a,!0):(jv=null,!1)}var zS=typeof setTimeout=="function"?setTimeout:void 0,CD=typeof clearTimeout=="function"?clearTimeout:void 0,qS=typeof Promise=="function"?Promise:void 0,TD=typeof queueMicrotask=="function"?queueMicrotask:typeof qS<"u"?function(a){return qS.resolve(null).then(a).catch(PD)}:zS;function PD(a){setTimeout(function(){throw a})}function ki(a){return a==="head"}function $S(a,o){var u=o,m=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(m===0){a.removeChild(y),Mo(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")Sc(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Sc(u);for(var w=u.firstChild;w;){var N=w.nextSibling,R=w.nodeName;w[$l]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&w.rel.toLowerCase()==="stylesheet"||u.removeChild(w),w=N}}else u==="body"&&Sc(a.ownerDocument.body);u=y}while(u);Mo(o)}function US(a,o){var u=a;a=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=m}while(u)}function Sv(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Sv(u),Ep(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function RD(a,o,u,m){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[$l])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=cn(a.nextSibling),a===null)break}return null}function MD(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=cn(a.nextSibling),a===null))return null;return a}function FS(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=cn(a.nextSibling),a===null))return null;return a}function kv(a){return a.data==="$?"||a.data==="$~"}function _v(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function DD(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function cn(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Av=null;function HS(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return cn(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function GS(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function KS(a,o,u){switch(o=ff(u),a){case"html":if(a=o.documentElement,!a)throw Error(n(452));return a;case"head":if(a=o.head,!a)throw Error(n(453));return a;case"body":if(a=o.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function Sc(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Ep(a)}var un=new Map,WS=new Set;function hf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Pa=F.d;F.d={f:ID,r:LD,D:BD,C:zD,L:qD,m:$D,X:FD,S:UD,M:HD};function ID(){var a=Pa.f(),o=nf();return a||o}function LD(a){var o=Qs(a);o!==null&&o.tag===5&&o.type==="form"?u2(o):Pa.r(a)}var To=typeof document>"u"?null:document;function YS(a,o,u){var m=To;if(m&&typeof o=="string"&&o){var y=tn(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),WS.has(y)||(WS.add(y),a={rel:a,crossOrigin:u,href:o},m.querySelector(y)===null&&(o=m.createElement("link"),cr(o,"link",a),Xt(o),m.head.appendChild(o)))}}function BD(a){Pa.D(a),YS("dns-prefetch",a,null)}function zD(a,o){Pa.C(a,o),YS("preconnect",a,o)}function qD(a,o,u){Pa.L(a,o,u);var m=To;if(m&&a&&o){var y='link[rel="preload"][as="'+tn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+tn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+tn(u.imageSizes)+'"]')):y+='[href="'+tn(a)+'"]';var w=y;switch(o){case"style":w=Po(a);break;case"script":w=Ro(a)}un.has(w)||(a=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),un.set(w,a),m.querySelector(y)!==null||o==="style"&&m.querySelector(kc(w))||o==="script"&&m.querySelector(_c(w))||(o=m.createElement("link"),cr(o,"link",a),Xt(o),m.head.appendChild(o)))}}function $D(a,o){Pa.m(a,o);var u=To;if(u&&a){var m=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+tn(m)+'"][href="'+tn(a)+'"]',w=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Ro(a)}if(!un.has(w)&&(a=g({rel:"modulepreload",href:a},o),un.set(w,a),u.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(_c(w)))return}m=u.createElement("link"),cr(m,"link",a),Xt(m),u.head.appendChild(m)}}}function UD(a,o,u){Pa.S(a,o,u);var m=To;if(m&&a){var y=Js(m).hoistableStyles,w=Po(a);o=o||"default";var N=y.get(w);if(!N){var R={loading:0,preload:null};if(N=m.querySelector(kc(w)))R.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},u),(u=un.get(w))&&Nv(a,u);var B=N=m.createElement("link");Xt(B),cr(B,"link",a),B._p=new Promise(function(V,ne){B.onload=V,B.onerror=ne}),B.addEventListener("load",function(){R.loading|=1}),B.addEventListener("error",function(){R.loading|=2}),R.loading|=4,mf(N,o,m)}N={type:"stylesheet",instance:N,count:1,state:R},y.set(w,N)}}}function FD(a,o){Pa.X(a,o);var u=To;if(u&&a){var m=Js(u).hoistableScripts,y=Ro(a),w=m.get(y);w||(w=u.querySelector(_c(y)),w||(a=g({src:a,async:!0},o),(o=un.get(y))&&Ev(a,o),w=u.createElement("script"),Xt(w),cr(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(y,w))}}function HD(a,o){Pa.M(a,o);var u=To;if(u&&a){var m=Js(u).hoistableScripts,y=Ro(a),w=m.get(y);w||(w=u.querySelector(_c(y)),w||(a=g({src:a,async:!0,type:"module"},o),(o=un.get(y))&&Ev(a,o),w=u.createElement("script"),Xt(w),cr(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(y,w))}}function VS(a,o,u,m){var y=(y=le.current)?hf(y):null;if(!y)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Po(u.href),u=Js(y).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Po(u.href);var w=Js(y).hoistableStyles,N=w.get(a);if(N||(y=y.ownerDocument||y,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,N),(w=y.querySelector(kc(a)))&&!w._p&&(N.instance=w,N.state.loading=5),un.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},un.set(a,u),w||GD(y,a,u,N.state))),o&&m===null)throw Error(n(528,""));return N}if(o&&m!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ro(u),u=Js(y).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Po(a){return'href="'+tn(a)+'"'}function kc(a){return'link[rel="stylesheet"]['+a+"]"}function XS(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function GD(a,o,u,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),cr(o,"link",u),Xt(o),a.head.appendChild(o))}function Ro(a){return'[src="'+tn(a)+'"]'}function _c(a){return"script[async]"+a}function ZS(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+tn(u.href)+'"]');if(m)return o.instance=m,Xt(m),m;var y=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Xt(m),cr(m,"style",y),mf(m,u.precedence,a),o.instance=m;case"stylesheet":y=Po(u.href);var w=a.querySelector(kc(y));if(w)return o.state.loading|=4,o.instance=w,Xt(w),w;m=XS(u),(y=un.get(y))&&Nv(m,y),w=(a.ownerDocument||a).createElement("link"),Xt(w);var N=w;return N._p=new Promise(function(R,B){N.onload=R,N.onerror=B}),cr(w,"link",m),o.state.loading|=4,mf(w,u.precedence,a),o.instance=w;case"script":return w=Ro(u.src),(y=a.querySelector(_c(w)))?(o.instance=y,Xt(y),y):(m=u,(y=un.get(w))&&(m=g({},u),Ev(m,y)),a=a.ownerDocument||a,y=a.createElement("script"),Xt(y),cr(y,"link",m),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,mf(m,u.precedence,a));return o.instance}function mf(a,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,w=y,N=0;N<m.length;N++){var R=m[N];if(R.dataset.precedence===o)w=R;else if(w!==y)break}w?w.parentNode.insertBefore(a,w.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Nv(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Ev(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var pf=null;function QS(a,o,u){if(pf===null){var m=new Map,y=pf=new Map;y.set(u,m)}else y=pf,m=y.get(u),m||(m=new Map,y.set(u,m));if(m.has(a))return m;for(m.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var w=u[y];if(!(w[$l]||w[ir]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var N=w.getAttribute(o)||"";N=a+N;var R=m.get(N);R?R.push(w):m.set(N,[w])}}return m}function JS(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function KD(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function ek(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function WD(a,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Po(m.href),w=o.querySelector(kc(y));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=gf.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=w,Xt(w);return}w=o.ownerDocument||o,m=XS(m),(y=un.get(y))&&Nv(m,y),w=w.createElement("link"),Xt(w);var N=w;N._p=new Promise(function(R,B){N.onload=R,N.onerror=B}),cr(w,"link",m),u.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=gf.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var Ov=0;function YD(a,o){return a.stylesheets&&a.count===0&&yf(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var m=setTimeout(function(){if(a.stylesheets&&yf(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+o);0<a.imgBytes&&Ov===0&&(Ov=62500*ED());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&yf(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>Ov?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(y)}}:null}function gf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var vf=null;function yf(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,vf=new Map,o.forEach(VD,a),vf=null,gf.call(a))}function VD(a,o){if(!(o.state.loading&4)){var u=vf.get(a);if(u)var m=u.get(null);else{u=new Map,vf.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var N=y[w];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),m=N)}m&&u.set(null,m)}y=o.instance,N=y.getAttribute("data-precedence"),w=u.get(N)||m,w===m&&u.set(null,y),u.set(N,y),this.count++,m=gf.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),w?w.parentNode.insertBefore(y,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var Ac={$$typeof:A,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function XD(a,o,u,m,y,w,N,R,B){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kp(0),this.hiddenUpdates=kp(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function tk(a,o,u,m,y,w,N,R,B,V,ne,oe){return a=new XD(a,o,u,N,B,V,ne,oe,R),o=1,w===!0&&(o|=24),w=Br(3,null,null,o),a.current=w,w.stateNode=a,o=lg(),o.refCount++,a.pooledCache=o,o.refCount++,w.memoizedState={element:m,isDehydrated:u,cache:o},fg(w),a}function rk(a){return a?(a=co,a):co}function nk(a,o,u,m,y,w){y=rk(y),m.context===null?m.context=y:m.pendingContext=y,m=hi(o),m.payload={element:u},w=w===void 0?null:w,w!==null&&(m.callback=w),u=mi(a,m,o),u!==null&&(Cr(u,a,o),ac(u,a,o))}function ak(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function Cv(a,o){ak(a,o),(a=a.alternate)&&ak(a,o)}function ik(a){if(a.tag===13||a.tag===31){var o=Ji(a,67108864);o!==null&&Cr(o,a,67108864),Cv(a,67108864)}}function sk(a){if(a.tag===13||a.tag===31){var o=Fr();o=_p(o);var u=Ji(a,o);u!==null&&Cr(u,a,o),Cv(a,o)}}var bf=!0;function ZD(a,o,u,m){var y=L.T;L.T=null;var w=F.p;try{F.p=2,Tv(a,o,u,m)}finally{F.p=w,L.T=y}}function QD(a,o,u,m){var y=L.T;L.T=null;var w=F.p;try{F.p=8,Tv(a,o,u,m)}finally{F.p=w,L.T=y}}function Tv(a,o,u,m){if(bf){var y=Pv(m);if(y===null)vv(a,o,m,xf,u),lk(a,m);else if(e6(y,a,o,u,m))m.stopPropagation();else if(lk(a,m),o&4&&-1<JD.indexOf(a)){for(;y!==null;){var w=Qs(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var N=jn(w.pendingLanes);if(N!==0){var R=w;for(R.pendingLanes|=2,R.entangledLanes|=2;N;){var B=1<<31-je(N);R.entanglements[1]|=B,N&=~B}Yn(w),(Ve&6)===0&&(tf=yr()+500,xc(0))}}break;case 31:case 13:R=Ji(w,2),R!==null&&Cr(R,w,2),nf(),Cv(w,2)}if(w=Pv(m),w===null&&vv(a,o,m,xf,u),w===y)break;y=w}y!==null&&m.stopPropagation()}else vv(a,o,m,null,u)}}function Pv(a){return a=Mp(a),Rv(a)}var xf=null;function Rv(a){if(xf=null,a=Zs(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=d(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return xf=a,null}function ok(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ma()){case Ki:return 2;case Wi:return 8;case Fn:case dd:return 32;case fd:return 268435456;default:return 32}default:return 32}}var Mv=!1,_i=null,Ai=null,Ni=null,Nc=new Map,Ec=new Map,Ei=[],JD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lk(a,o){switch(a){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":Nc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(o.pointerId)}}function Oc(a,o,u,m,y,w){return a===null||a.nativeEvent!==w?(a={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:w,targetContainers:[y]},o!==null&&(o=Qs(o),o!==null&&ik(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function e6(a,o,u,m,y){switch(o){case"focusin":return _i=Oc(_i,a,o,u,m,y),!0;case"dragenter":return Ai=Oc(Ai,a,o,u,m,y),!0;case"mouseover":return Ni=Oc(Ni,a,o,u,m,y),!0;case"pointerover":var w=y.pointerId;return Nc.set(w,Oc(Nc.get(w)||null,a,o,u,m,y)),!0;case"gotpointercapture":return w=y.pointerId,Ec.set(w,Oc(Ec.get(w)||null,a,o,u,m,y)),!0}return!1}function ck(a){var o=Zs(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,S1(a.priority,function(){sk(u)});return}}else if(o===31){if(o=d(u),o!==null){a.blockedOn=o,S1(a.priority,function(){sk(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function wf(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=Pv(a.nativeEvent);if(u===null){u=a.nativeEvent;var m=new u.constructor(u.type,u);Rp=m,u.target.dispatchEvent(m),Rp=null}else return o=Qs(u),o!==null&&ik(o),a.blockedOn=u,!1;o.shift()}return!0}function uk(a,o,u){wf(a)&&u.delete(o)}function t6(){Mv=!1,_i!==null&&wf(_i)&&(_i=null),Ai!==null&&wf(Ai)&&(Ai=null),Ni!==null&&wf(Ni)&&(Ni=null),Nc.forEach(uk),Ec.forEach(uk)}function jf(a,o){a.blockedOn===o&&(a.blockedOn=null,Mv||(Mv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,t6)))}var Sf=null;function dk(a){Sf!==a&&(Sf=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Sf===a&&(Sf=null);for(var o=0;o<a.length;o+=3){var u=a[o],m=a[o+1],y=a[o+2];if(typeof m!="function"){if(Rv(m||u)===null)continue;break}var w=Qs(u);w!==null&&(a.splice(o,3),o-=3,Pg(w,{pending:!0,data:y,method:u.method,action:m},m,y))}}))}function Mo(a){function o(B){return jf(B,a)}_i!==null&&jf(_i,a),Ai!==null&&jf(Ai,a),Ni!==null&&jf(Ni,a),Nc.forEach(o),Ec.forEach(o);for(var u=0;u<Ei.length;u++){var m=Ei[u];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Ei.length&&(u=Ei[0],u.blockedOn===null);)ck(u),u.blockedOn===null&&Ei.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var y=u[m],w=u[m+1],N=y[kr]||null;if(typeof w=="function")N||dk(u);else if(N){var R=null;if(w&&w.hasAttribute("formAction")){if(y=w,N=w[kr]||null)R=N.formAction;else if(Rv(y)!==null)continue}else R=N.action;typeof R=="function"?u[m+1]=R:(u.splice(m,3),m-=3),dk(u)}}}function fk(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(N){return y=N})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Dv(a){this._internalRoot=a}kf.prototype.render=Dv.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,m=Fr();nk(u,m,a,o,null,null)},kf.prototype.unmount=Dv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;nk(a.current,2,null,a,null,null),nf(),o[Xs]=null}};function kf(a){this._internalRoot=a}kf.prototype.unstable_scheduleHydration=function(a){if(a){var o=j1();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Ei.length&&o!==0&&o<Ei[u].priority;u++);Ei.splice(u,0,a),u===0&&ck(a)}};var hk=t.version;if(hk!=="19.2.4")throw Error(n(527,hk,"19.2.4"));F.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var r6={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{Yi=_f.inject(r6),Y=_f}catch{}}return Tc.createRoot=function(a,o){if(!i(a))throw Error(n(299));var u=!1,m="",y=x2,w=w2,N=j2;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError)),o=tk(a,1,!1,null,null,u,m,null,y,w,N,fk),a[Xs]=o.current,gv(a),new Dv(o)},Tc.hydrateRoot=function(a,o,u){if(!i(a))throw Error(n(299));var m=!1,y="",w=x2,N=w2,R=j2,B=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError),u.formState!==void 0&&(B=u.formState)),o=tk(a,1,!0,o,u??null,m,y,B,w,N,R,fk),o.context=rk(null),u=o.current,m=Fr(),m=_p(m),y=hi(m),y.callback=null,mi(u,y,m),u=m,o.current.lanes=u,ql(o,u),Yn(o),a[Xs]=o.current,gv(a),new kf(o)},Tc.version="19.2.4",Tc}var Sk;function h6(){if(Sk)return Bv.exports;Sk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch{}}return e(),Bv.exports=f6(),Bv.exports}var m6=h6();var kk="popstate";function _k(e){return typeof e=="object"&&e!=null&&"pathname"in e&&"search"in e&&"hash"in e&&"state"in e&&"key"in e}function p6(e={}){function t(n,i){let s=i.state?.masked,{pathname:l,search:d,hash:f}=s||n.location;return $0("",{pathname:l,search:d,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default",s?{pathname:n.location.pathname,search:n.location.search,hash:n.location.hash}:void 0)}function r(n,i){return typeof i=="string"?i:Jc(i)}return v6(t,r,null,e)}function xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ln(e,t){if(!e)try{throw new Error(t)}catch{}}function g6(){return Math.random().toString(36).substring(2,10)}function Ak(e,t){return{usr:e.state,key:e.key,idx:t,masked:e.unstable_mask?{pathname:e.pathname,search:e.search,hash:e.hash}:void 0}}function $0(e,t,r=null,n,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ml(t):t,state:r,key:t&&t.key||n||g6(),unstable_mask:i}}function Jc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ml(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function v6(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,l=i.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let j=p(),_=j==null?null:j-h;h=j,f&&f({action:d,location:k.location,delta:_})}function v(j,_){d="PUSH";let E=_k(j)?j:$0(k.location,j,_);h=p()+1;let A=Ak(E,h),T=k.createHref(E.unstable_mask||E);try{l.pushState(A,"",T)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(T)}s&&f&&f({action:d,location:k.location,delta:1})}function x(j,_){d="REPLACE";let E=_k(j)?j:$0(k.location,j,_);h=p();let A=Ak(E,h),T=k.createHref(E.unstable_mask||E);l.replaceState(A,"",T),s&&f&&f({action:d,location:k.location,delta:0})}function S(j){return y6(j)}let k={get action(){return d},get location(){return e(i,l)},listen(j){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(kk,g),f=j,()=>{i.removeEventListener(kk,g),f=null}},createHref(j){return t(i,j)},createURL:S,encodeLocation(j){let _=S(j);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:v,replace:x,go(j){return l.go(j)}};return k}function y6(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),xt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Jc(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function EC(e,t,r="/"){return b6(e,t,r,!1)}function b6(e,t,r,n){let i=typeof t=="string"?ml(t):t,s=$a(i.pathname||"/",r);if(s==null)return null;let l=OC(e);x6(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=T6(s);d=O6(l[f],h,n)}return d}function OC(e,t=[],r=[],n="",i=!1){let s=(l,d,f=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&f)return;xt(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=ta([n,p.relativePath]),v=r.concat(p);l.children&&l.children.length>0&&(xt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),OC(l.children,t,v,g,f)),!(l.path==null&&!l.index)&&t.push({path:g,score:N6(g,l.index),routesMeta:v})};return e.forEach((l,d)=>{if(l.path===""||!l.path?.includes("?"))s(l,d);else for(let f of CC(l.path))s(l,d,!0,f)}),t}function CC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let l=CC(n.join("/")),d=[];return d.push(...l.map(f=>f===""?s:[s,f].join("/"))),i&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function x6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:E6(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var w6=/^:[\w-]+$/,j6=3,S6=2,k6=1,_6=10,A6=-2,Nk=e=>e==="*";function N6(e,t){let r=e.split("/"),n=r.length;return r.some(Nk)&&(n+=A6),t&&(n+=S6),r.filter(i=>!Nk(i)).reduce((i,s)=>i+(w6.test(s)?j6:s===""?k6:_6),n)}function E6(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function O6(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",l=[];for(let d=0;d<n.length;++d){let f=n[d],h=d===n.length-1,p=s==="/"?t:t.slice(s.length)||"/",g=ch({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),v=f.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=ch({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:ta([s,g.pathname]),pathnameBase:D6(ta([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=ta([s,g.pathnameBase]))}return l}function ch(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=C6(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:g},v)=>{if(p==="*"){let S=d[v]||"";l=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const x=d[v];return g&&!x?h[p]=void 0:h[p]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:e}}function C6(e,t=!1,r=!0){Ln(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f,h,p)=>{if(n.push({paramName:d,isOptional:f!=null}),f){let g=p.charAt(h+l.length);return g&&g!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function T6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ln(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $a(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var P6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function R6(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?ml(e):e,s;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?s=Ek(r.substring(1),"/"):s=Ek(r,t)):s=t,{pathname:s,search:I6(n),hash:L6(i)}}function Ek(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Uv(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function tx(e){let t=M6(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function hm(e,t,r,n=!1){let i;typeof e=="string"?i=ml(e):(i={...e},xt(!i.pathname||!i.pathname.includes("?"),Uv("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),Uv("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),Uv("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,d;if(l==null)d=r;else{let g=t.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}d=g>=0?t[g]:"/"}let f=R6(i,d),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var ta=e=>e.join("/").replace(/\/\/+/g,"/"),D6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),I6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,L6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,B6=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function z6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function q6(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var TC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function PC(e,t){let r=e;if(typeof r!="string"||!P6.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(TC)try{let s=new URL(window.location.href),l=r.startsWith("//")?new URL(s.protocol+r):new URL(r),d=$a(l.pathname,t);l.origin===s.origin&&d!=null?r=d+l.search+l.hash:i=!0}catch{Ln(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var RC=["POST","PUT","PATCH","DELETE"];new Set(RC);var $6=["GET",...RC];new Set($6);var pl=b.createContext(null);pl.displayName="DataRouter";var mm=b.createContext(null);mm.displayName="DataRouterState";var U6=b.createContext(!1),MC=b.createContext({isTransitioning:!1});MC.displayName="ViewTransition";var F6=b.createContext(new Map);F6.displayName="Fetchers";var H6=b.createContext(null);H6.displayName="Await";var Qr=b.createContext(null);Qr.displayName="Navigation";var Tu=b.createContext(null);Tu.displayName="Location";var la=b.createContext({outlet:null,matches:[],isDataRoute:!1});la.displayName="Route";var rx=b.createContext(null);rx.displayName="RouteError";var DC="REACT_ROUTER_ERROR",G6="REDIRECT",K6="ROUTE_ERROR_RESPONSE";function W6(e){if(e.startsWith(`${DC}:${G6}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Y6(e){if(e.startsWith(`${DC}:${K6}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new B6(t.status,t.statusText,t.data)}catch{}}function V6(e,{relative:t}={}){xt(gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(Qr),{hash:i,pathname:s,search:l}=Pu(e,{relative:t}),d=s;return r!=="/"&&(d=s==="/"?r:ta([r,s])),n.createHref({pathname:d,search:l,hash:i})}function gl(){return b.useContext(Tu)!=null}function Va(){return xt(gl(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Tu).location}var IC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LC(e){b.useContext(Qr).static||b.useLayoutEffect(e)}function vl(){let{isDataRoute:e}=b.useContext(la);return e?lI():X6()}function X6(){xt(gl(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(pl),{basename:t,navigator:r}=b.useContext(Qr),{matches:n}=b.useContext(la),{pathname:i}=Va(),s=JSON.stringify(tx(n)),l=b.useRef(!1);return LC(()=>{l.current=!0}),b.useCallback((f,h={})=>{if(Ln(l.current,IC),!l.current)return;if(typeof f=="number"){r.go(f);return}let p=hm(f,JSON.parse(s),i,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ta([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,s,i,e])}b.createContext(null);function Pu(e,{relative:t}={}){let{matches:r}=b.useContext(la),{pathname:n}=Va(),i=JSON.stringify(tx(r));return b.useMemo(()=>hm(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function Z6(e,t){return BC(e,t)}function BC(e,t,r){xt(gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:n}=b.useContext(Qr),{matches:i}=b.useContext(la),s=i[i.length-1],l=s?s.params:{},d=s?s.pathname:"/",f=s?s.pathnameBase:"/",h=s&&s.route;{let j=h&&h.path||"";qC(d,!h||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let p=Va(),g;if(t){let j=typeof t=="string"?ml(t):t;xt(f==="/"||j.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${j.pathname}" was given in the \`location\` prop.`),g=j}else g=p;let v=g.pathname||"/",x=v;if(f!=="/"){let j=f.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=EC(e,{pathname:x});Ln(h||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ln(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=rI(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:ta([f,n.encodeLocation?n.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:ta([f,n.encodeLocation?n.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),i,r);return t&&k?b.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...g},navigationType:"POP"}},k):k}function Q6(){let e=oI(),t=z6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},l=null;return l=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:s},"ErrorBoundary")," or"," ",b.createElement("code",{style:s},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:i},r):null,l)}var J6=b.createElement(Q6,null),zC=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError&&this.props.onError(e,t)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=Y6(e.digest);r&&(e=r)}let t=e!==void 0?b.createElement(la.Provider,{value:this.props.routeContext},b.createElement(rx.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?b.createElement(eI,{error:e},t):t}};zC.contextType=U6;var Fv=new WeakMap;function eI({children:e,error:t}){let{basename:r}=b.useContext(Qr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=W6(t.digest);if(n){let i=Fv.get(t);if(i)throw i;let s=PC(n.location,r);if(TC&&!Fv.get(t))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw Fv.set(t,l),l}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function tI({routeContext:e,match:t,children:r}){let n=b.useContext(pl);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(la.Provider,{value:e},r)}function rI(e,t=[],r){let n=r?.state;if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n?.errors;if(s!=null){let p=i.findIndex(g=>g.route.id&&s?.[g.route.id]!==void 0);xt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,p+1))}let l=!1,d=-1;if(r&&n){l=n.renderFallback;for(let p=0;p<i.length;p++){let g=i[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:x}=n,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||S){r.isStatic&&(l=!0),d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}}let f=r?.onError,h=n&&f?(p,g)=>{f(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:q6(n.matches),errorInfo:g})}:void 0;return i.reduceRight((p,g,v)=>{let x,S=!1,k=null,j=null;n&&(x=s&&g.route.id?s[g.route.id]:void 0,k=g.route.errorElement||J6,l&&(d<0&&v===0?(qC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,j=null):d===v&&(S=!0,j=g.route.hydrateFallbackElement||null)));let _=t.concat(i.slice(0,v+1)),E=()=>{let A;return x?A=k:S?A=j:g.route.Component?A=b.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=p,b.createElement(tI,{match:g,routeContext:{outlet:p,matches:_,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?b.createElement(zC,{location:n.location,revalidation:n.revalidation,component:k,error:x,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:h}):E()},null)}function nx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nI(e){let t=b.useContext(pl);return xt(t,nx(e)),t}function aI(e){let t=b.useContext(mm);return xt(t,nx(e)),t}function iI(e){let t=b.useContext(la);return xt(t,nx(e)),t}function ax(e){let t=iI(e),r=t.matches[t.matches.length-1];return xt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function sI(){return ax("useRouteId")}function oI(){let e=b.useContext(rx),t=aI("useRouteError"),r=ax("useRouteError");return e!==void 0?e:t.errors?.[r]}function lI(){let{router:e}=nI("useNavigate"),t=ax("useNavigate"),r=b.useRef(!1);return LC(()=>{r.current=!0}),b.useCallback(async(i,s={})=>{Ln(r.current,IC),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var Ok={};function qC(e,t,r){!t&&!Ok[e]&&(Ok[e]=!0,Ln(!1,r))}b.memo(cI);function cI({routes:e,future:t,state:r,isStatic:n,onError:i}){return BC(e,void 0,{state:r,isStatic:n,onError:i})}function U0({to:e,replace:t,state:r,relative:n}){xt(gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=b.useContext(Qr);Ln(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=b.useContext(la),{pathname:l}=Va(),d=vl(),f=hm(e,tx(s),l,n==="path"),h=JSON.stringify(f);return b.useEffect(()=>{d(JSON.parse(h),{replace:t,state:r,relative:n})},[d,h,n,t,r]),null}function ms(e){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uI({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1,unstable_useTransitions:l}){xt(!gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),f=b.useMemo(()=>({basename:d,navigator:i,static:s,unstable_useTransitions:l,future:{}}),[d,i,s,l]);typeof r=="string"&&(r=ml(r));let{pathname:h="/",search:p="",hash:g="",state:v=null,key:x="default",unstable_mask:S}=r,k=b.useMemo(()=>{let j=$a(h,d);return j==null?null:{location:{pathname:j,search:p,hash:g,state:v,key:x,unstable_mask:S},navigationType:n}},[d,h,p,g,v,x,n,S]);return Ln(k!=null,`<Router basename="${d}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:b.createElement(Qr.Provider,{value:f},b.createElement(Tu.Provider,{children:t,value:k}))}function dI({children:e,location:t}){return Z6(F0(e),t)}function F0(e,t=[]){let r=[];return b.Children.forEach(e,(n,i)=>{if(!b.isValidElement(n))return;let s=[...t,i];if(n.type===b.Fragment){r.push.apply(r,F0(n.props.children,s));return}xt(n.type===ms,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=F0(n.props.children,s)),r.push(l)}),r}var Qf="get",Jf="application/x-www-form-urlencoded";function pm(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function fI(e){return pm(e)&&e.tagName.toLowerCase()==="button"}function hI(e){return pm(e)&&e.tagName.toLowerCase()==="form"}function mI(e){return pm(e)&&e.tagName.toLowerCase()==="input"}function pI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gI(e,t){return e.button===0&&(!t||t==="_self")&&!pI(e)}var Af=null;function vI(){if(Af===null)try{new FormData(document.createElement("form"),0),Af=!1}catch{Af=!0}return Af}var yI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hv(e){return e!=null&&!yI.has(e)?(Ln(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jf}"`),null):e}function bI(e,t){let r,n,i,s,l;if(hI(e)){let d=e.getAttribute("action");n=d?$a(d,t):null,r=e.getAttribute("method")||Qf,i=Hv(e.getAttribute("enctype"))||Jf,s=new FormData(e)}else if(fI(e)||mI(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(n=f?$a(f,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||Qf,i=Hv(e.getAttribute("formenctype"))||Hv(d.getAttribute("enctype"))||Jf,s=new FormData(d,e),!vI()){let{name:h,type:p,value:g}=e;if(p==="image"){let v=h?`${h}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else h&&s.append(h,g)}}else{if(pm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Qf,n=null,i=Jf,l=e}return s&&i==="text/plain"&&(l=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ix(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xI(e,t,r,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:t&&$a(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function wI(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch{return window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function SI(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let l=await wI(s,r);return l.links?l.links():[]}return[]}));return NI(n.flat(1).filter(jI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Ck(e,t,r,n,i,s){let l=(f,h)=>r[h]?f.route.id!==r[h].route.id:!0,d=(f,h)=>r[h].pathname!==f.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==f.params["*"];return s==="assets"?t.filter((f,h)=>l(f,h)||d(f,h)):s==="data"?t.filter((f,h)=>{let p=n.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function kI(e,t,{includeHydrateFallback:r}={}){return _I(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function _I(e){return[...new Set(e)]}function AI(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function NI(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(AI(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function $C(){let e=b.useContext(pl);return ix(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function EI(){let e=b.useContext(mm);return ix(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var sx=b.createContext(void 0);sx.displayName="FrameworkContext";function UC(){let e=b.useContext(sx);return ix(e,"You must render this element inside a <HydratedRouter> element"),e}function OI(e,t){let r=b.useContext(sx),[n,i]=b.useState(!1),[s,l]=b.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,v=b.useRef(null);b.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let k=_=>{_.forEach(E=>{l(E.isIntersecting)})},j=new IntersectionObserver(k,{threshold:.5});return v.current&&j.observe(v.current),()=>{j.disconnect()}}},[e]),b.useEffect(()=>{if(n){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[n]);let x=()=>{i(!0)},S=()=>{i(!1),l(!1)};return r?e!=="intent"?[s,v,{}]:[s,v,{onFocus:Pc(d,x),onBlur:Pc(f,S),onMouseEnter:Pc(h,x),onMouseLeave:Pc(p,S),onTouchStart:Pc(g,x)}]:[!1,v,{}]}function Pc(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function CI({page:e,...t}){let{router:r}=$C(),n=b.useMemo(()=>EC(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?b.createElement(PI,{page:e,matches:n,...t}):null}function TI(e){let{manifest:t,routeModules:r}=UC(),[n,i]=b.useState([]);return b.useEffect(()=>{let s=!1;return SI(e,t,r).then(l=>{s||i(l)}),()=>{s=!0}},[e,t,r]),n}function PI({page:e,matches:t,...r}){let n=Va(),{future:i,manifest:s,routeModules:l}=UC(),{basename:d}=$C(),{loaderData:f,matches:h}=EI(),p=b.useMemo(()=>Ck(e,t,h,s,n,"data"),[e,t,h,s,n]),g=b.useMemo(()=>Ck(e,t,h,s,n,"assets"),[e,t,h,s,n]),v=b.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let k=new Set,j=!1;if(t.forEach(E=>{let A=s.routes[E.route.id];!A||!A.hasLoader||(!p.some(T=>T.route.id===E.route.id)&&E.route.id in f&&l[E.route.id]?.shouldRevalidate||A.hasClientLoader?j=!0:k.add(E.route.id))}),k.size===0)return[];let _=xI(e,d,i.unstable_trailingSlashAwareDataRequests,"data");return j&&k.size>0&&_.searchParams.set("_routes",t.filter(E=>k.has(E.route.id)).map(E=>E.route.id).join(",")),[_.pathname+_.search]},[d,i.unstable_trailingSlashAwareDataRequests,f,n,s,p,t,e,l]),x=b.useMemo(()=>kI(g,s),[g,s]),S=TI(g);return b.createElement(b.Fragment,null,v.map(k=>b.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),x.map(k=>b.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),S.map(({key:k,link:j})=>b.createElement("link",{key:k,nonce:r.nonce,...j,crossOrigin:j.crossOrigin??r.crossOrigin})))}function RI(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var MI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MI&&(window.__reactRouterVersion="7.13.1")}catch{}function DI({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=b.useRef();i.current==null&&(i.current=p6({window:n,v5Compat:!0}));let s=i.current,[l,d]=b.useState({action:s.action,location:s.location}),f=b.useCallback(h=>{r===!1?d(h):b.startTransition(()=>d(h))},[r]);return b.useLayoutEffect(()=>s.listen(f),[s,f]),b.createElement(uI,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:r})}var FC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tr=b.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:l,unstable_mask:d,state:f,target:h,to:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:x,...S},k){let{basename:j,navigator:_,unstable_useTransitions:E}=b.useContext(Qr),A=typeof p=="string"&&FC.test(p),T=PC(p,j);p=T.to;let C=V6(p,{relative:i}),O=Va(),M=null;if(d){let te=hm(d,[],O.unstable_mask?O.unstable_mask.pathname:"/",!0);j!=="/"&&(te.pathname=te.pathname==="/"?j:ta([j,te.pathname])),M=_.createHref(te)}let[P,I,q]=OI(n,S),Z=zI(p,{replace:l,unstable_mask:d,state:f,target:h,preventScrollReset:g,relative:i,viewTransition:v,unstable_defaultShouldRevalidate:x,unstable_useTransitions:E});function U(te){t&&t(te),te.defaultPrevented||Z(te)}let ce=!(T.isExternal||s),$=b.createElement("a",{...S,...q,href:(ce?M:void 0)||T.absoluteURL||C,onClick:ce?U:t,ref:RI(k,I),target:h,"data-discover":!A&&r==="render"?"true":void 0});return P&&!A?b.createElement(b.Fragment,null,$,b.createElement(CI,{page:C})):$});tr.displayName="Link";var II=b.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:l,viewTransition:d,children:f,...h},p){let g=Pu(l,{relative:h.relative}),v=Va(),x=b.useContext(mm),{navigator:S,basename:k}=b.useContext(Qr),j=x!=null&&HI(g)&&d===!0,_=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,E=v.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(E=E.toLowerCase(),A=A?A.toLowerCase():null,_=_.toLowerCase()),A&&k&&(A=$a(A,k)||A);const T=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let C=E===_||!i&&E.startsWith(_)&&E.charAt(T)==="/",O=A!=null&&(A===_||!i&&A.startsWith(_)&&A.charAt(_.length)==="/"),M={isActive:C,isPending:O,isTransitioning:j},P=C?t:void 0,I;typeof n=="function"?I=n(M):I=[n,C?"active":null,O?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let q=typeof s=="function"?s(M):s;return b.createElement(tr,{...h,"aria-current":P,className:I,ref:p,style:q,to:l,viewTransition:d},typeof f=="function"?f(M):f)});II.displayName="NavLink";var LI=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:l=Qf,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:v,...x},S)=>{let{unstable_useTransitions:k}=b.useContext(Qr),j=UI(),_=FI(d,{relative:h}),E=l.toLowerCase()==="get"?"get":"post",A=typeof d=="string"&&FC.test(d),T=C=>{if(f&&f(C),C.defaultPrevented)return;C.preventDefault();let O=C.nativeEvent.submitter,M=O?.getAttribute("formmethod")||l,P=()=>j(O||C.currentTarget,{fetcherKey:t,method:M,navigate:r,replace:i,state:s,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:v});k&&r!==!1?b.startTransition(()=>P()):P()};return b.createElement("form",{ref:S,method:E,action:_,onSubmit:n?f:T,...x,"data-discover":!A&&e==="render"?"true":void 0})});LI.displayName="Form";function BI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HC(e){let t=b.useContext(pl);return xt(t,BI(e)),t}function zI(e,{target:t,replace:r,unstable_mask:n,state:i,preventScrollReset:s,relative:l,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:h}={}){let p=vl(),g=Va(),v=Pu(e,{relative:l});return b.useCallback(x=>{if(gI(x,t)){x.preventDefault();let S=r!==void 0?r:Jc(g)===Jc(v),k=()=>p(e,{replace:S,unstable_mask:n,state:i,preventScrollReset:s,relative:l,viewTransition:d,unstable_defaultShouldRevalidate:f});h?b.startTransition(()=>k()):k()}},[g,p,v,r,n,i,t,e,s,l,d,f,h])}var qI=0,$I=()=>`__${String(++qI)}__`;function UI(){let{router:e}=HC("useSubmit"),{basename:t}=b.useContext(Qr),r=sI(),n=e.fetch,i=e.navigate;return b.useCallback(async(s,l={})=>{let{action:d,method:f,encType:h,formData:p,body:g}=bI(s,t);if(l.navigate===!1){let v=l.fetcherKey||$I();await n(v,r,l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await i(l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,i,t,r])}function FI(e,{relative:t}={}){let{basename:r}=b.useContext(Qr),n=b.useContext(la);xt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Pu(e||".",{relative:t})},l=Va();if(e==null){s.search=l.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:ta([r,s.pathname])),Jc(s)}function HI(e,{relative:t}={}){let r=b.useContext(MC);xt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=HC("useViewTransitionState"),i=Pu(e,{relative:t});if(!r.isTransitioning)return!1;let s=$a(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=$a(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ch(i.pathname,l)!=null||ch(i.pathname,s)!=null}var ox=NC();function GC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=GC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Le(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=GC(e))&&(n&&(n+=" "),n+=t);return n}var GI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function lx(e){if(typeof e!="string")return!1;var t=GI;return t.includes(e)}var KI=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],WI=new Set(KI);function KC(e){return typeof e!="string"?!1:WI.has(e)}function WC(e){return typeof e=="string"&&e.startsWith("data-")}function Ct(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(KC(r)||WC(r))&&(t[r]=e[r]);return t}function Bs(e){if(e==null)return null;if(b.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ct(t)}return typeof e=="object"&&!Array.isArray(e)?Ct(e):null}function Mt(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(KC(r)||WC(r)||lx(r))&&(t[r]=e[r]);return t}function YI(e){return e==null?null:b.isValidElement(e)?Mt(e.props):typeof e=="object"&&!Array.isArray(e)?Mt(e):null}var VI=["children","width","height","viewBox","className","style","title","desc"];function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H0.apply(null,arguments)}function XI(e,t){if(e==null)return{};var r,n,i=ZI(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ZI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cx=b.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:l,style:d,title:f,desc:h}=e,p=XI(e,VI),g=s||{width:n,height:i,x:0,y:0},v=Le("recharts-surface",l);return b.createElement("svg",H0({},Mt(p),{className:v,width:n,height:i,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),b.createElement("title",null,f),b.createElement("desc",null,h),r)}),QI=["children","className"];function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G0.apply(null,arguments)}function JI(e,t){if(e==null)return{};var r,n,i=eL(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Dt=b.forwardRef((e,t)=>{var{children:r,className:n}=e,i=JI(e,QI),s=Le("recharts-layer",n);return b.createElement("g",G0({className:s},Mt(i),{ref:t}),r)}),YC=b.createContext(null),tL=()=>b.useContext(YC);function ct(e){return function(){return e}}const VC=Math.cos,uh=Math.sin,Un=Math.sqrt,dh=Math.PI,gm=2*dh,K0=Math.PI,W0=2*K0,ps=1e-6,rL=W0-ps;function XC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function nL(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return XC;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class aL{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?XC:nL(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,l){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,f=n-t,h=i-r,p=l-t,g=d-r,v=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>ps)if(!(Math.abs(g*f-h*p)>ps)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-l,S=i-d,k=f*f+h*h,j=x*x+S*S,_=Math.sqrt(k),E=Math.sqrt(v),A=s*Math.tan((K0-Math.acos((k+v-j)/(2*_*E)))/2),T=A/E,C=A/_;Math.abs(T-1)>ps&&this._append`L${t+T*p},${r+T*g}`,this._append`A${s},${s},0,0,${+(g*x>p*S)},${this._x1=t+C*f},${this._y1=r+C*h}`}}arc(t,r,n,i,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(i),f=n*Math.sin(i),h=t+d,p=r+f,g=1^l,v=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>ps||Math.abs(this._y1-p)>ps)&&this._append`L${h},${p}`,n&&(v<0&&(v=v%W0+W0),v>rL?this._append`A${n},${n},0,1,${g},${t-d},${r-f}A${n},${n},0,1,${g},${this._x1=h},${this._y1=p}`:v>ps&&this._append`A${n},${n},0,${+(v>=K0)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function ux(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new aL(t)}function dx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ZC(e){this._context=e}ZC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function vm(e){return new ZC(e)}function QC(e){return e[0]}function JC(e){return e[1]}function eT(e,t){var r=ct(!0),n=null,i=vm,s=null,l=ux(d);e=typeof e=="function"?e:e===void 0?QC:ct(e),t=typeof t=="function"?t:t===void 0?JC:ct(t);function d(f){var h,p=(f=dx(f)).length,g,v=!1,x;for(n==null&&(s=i(x=l())),h=0;h<=p;++h)!(h<p&&r(g=f[h],h,f))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(g,h,f),+t(g,h,f));if(x)return s=null,x+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:ct(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:ct(+f),d):t},d.defined=function(f){return arguments.length?(r=typeof f=="function"?f:ct(!!f),d):r},d.curve=function(f){return arguments.length?(i=f,n!=null&&(s=i(n)),d):i},d.context=function(f){return arguments.length?(f==null?n=s=null:s=i(n=f),d):n},d}function Nf(e,t,r){var n=null,i=ct(!0),s=null,l=vm,d=null,f=ux(h);e=typeof e=="function"?e:e===void 0?QC:ct(+e),t=typeof t=="function"?t:ct(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?JC:ct(+r);function h(g){var v,x,S,k=(g=dx(g)).length,j,_=!1,E,A=new Array(k),T=new Array(k);for(s==null&&(d=l(E=f())),v=0;v<=k;++v){if(!(v<k&&i(j=g[v],v,g))===_)if(_=!_)x=v,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),S=v-1;S>=x;--S)d.point(A[S],T[S]);d.lineEnd(),d.areaEnd()}_&&(A[v]=+e(j,v,g),T[v]=+t(j,v,g),d.point(n?+n(j,v,g):A[v],r?+r(j,v,g):T[v]))}if(E)return d=null,E+""||null}function p(){return eT().defined(i).curve(l).context(s)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:ct(+g),n=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:ct(+g),h):e},h.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:ct(+g),h):n},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:ct(+g),r=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:ct(+g),h):t},h.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:ct(+g),h):r},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(r)},h.lineX1=function(){return p().x(n).y(t)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:ct(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,s!=null&&(d=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=d=null:d=l(s=g),h):s},h}class tT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function iL(e){return new tT(e,!0)}function sL(e){return new tT(e,!1)}const fx={draw(e,t){const r=Un(t/dh);e.moveTo(r,0),e.arc(0,0,r,0,gm)}},oL={draw(e,t){const r=Un(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},rT=Un(1/3),lL=rT*2,cL={draw(e,t){const r=Un(t/lL),n=r*rT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},uL={draw(e,t){const r=Un(t),n=-r/2;e.rect(n,n,r,r)}},dL=.8908130915292852,nT=uh(dh/10)/uh(7*dh/10),fL=uh(gm/10)*nT,hL=-VC(gm/10)*nT,mL={draw(e,t){const r=Un(t*dL),n=fL*r,i=hL*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const l=gm*s/5,d=VC(l),f=uh(l);e.lineTo(f*r,-d*r),e.lineTo(d*n-f*i,f*n+d*i)}e.closePath()}},Gv=Un(3),pL={draw(e,t){const r=-Un(t/(Gv*3));e.moveTo(0,r*2),e.lineTo(-Gv*r,-r),e.lineTo(Gv*r,-r),e.closePath()}},dn=-.5,fn=Un(3)/2,Y0=1/Un(12),gL=(Y0/2+1)*3,vL={draw(e,t){const r=Un(t/gL),n=r/2,i=r*Y0,s=n,l=r*Y0+r,d=-s,f=l;e.moveTo(n,i),e.lineTo(s,l),e.lineTo(d,f),e.lineTo(dn*n-fn*i,fn*n+dn*i),e.lineTo(dn*s-fn*l,fn*s+dn*l),e.lineTo(dn*d-fn*f,fn*d+dn*f),e.lineTo(dn*n+fn*i,dn*i-fn*n),e.lineTo(dn*s+fn*l,dn*l-fn*s),e.lineTo(dn*d+fn*f,dn*f-fn*d),e.closePath()}};function yL(e,t){let r=null,n=ux(i);e=typeof e=="function"?e:ct(e||fx),t=typeof t=="function"?t:ct(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:ct(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:ct(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function fh(){}function hh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function aT(e){this._context=e}aT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bL(e){return new aT(e)}function iT(e){this._context=e}iT.prototype={areaStart:fh,areaEnd:fh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xL(e){return new iT(e)}function sT(e){this._context=e}sT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:hh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wL(e){return new sT(e)}function oT(e){this._context=e}oT.prototype={areaStart:fh,areaEnd:fh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function jL(e){return new oT(e)}function Tk(e){return e<0?-1:1}function Pk(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),l=(r-e._y1)/(i||n<0&&-0),d=(s*i+l*n)/(n+i);return(Tk(s)+Tk(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function Rk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Kv(e,t,r){var n=e._x0,i=e._y0,s=e._x1,l=e._y1,d=(s-n)/3;e._context.bezierCurveTo(n+d,i+d*t,s-d,l-d*r,s,l)}function mh(e){this._context=e}mh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kv(this,this._t0,Rk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Kv(this,Rk(this,r=Pk(this,e,t)),r);break;default:Kv(this,this._t0,r=Pk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function lT(e){this._context=new cT(e)}(lT.prototype=Object.create(mh.prototype)).point=function(e,t){mh.prototype.point.call(this,t,e)};function cT(e){this._context=e}cT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function SL(e){return new mh(e)}function kL(e){return new lT(e)}function uT(e){this._context=e}uT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Mk(e),i=Mk(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Mk(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),l=new Array(r);for(i[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(i[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(l[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function _L(e){return new uT(e)}function ym(e,t){this._context=e,this._t=t}ym.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function AL(e){return new ym(e,.5)}function NL(e){return new ym(e,0)}function EL(e){return new ym(e,1)}function Os(e,t){if((l=e.length)>1)for(var r=1,n,i,s=e[t[0]],l,d=s.length;r<l;++r)for(i=s,s=e[t[r]],n=0;n<d;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function V0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function OL(e,t){return e[t]}function CL(e){const t=[];return t.key=e,t}function TL(){var e=ct([]),t=V0,r=Os,n=OL;function i(s){var l=Array.from(e.apply(this,arguments),CL),d,f=l.length,h=-1,p;for(const g of s)for(d=0,++h;d<f;++d)(l[d][h]=[0,+n(g,l[d].key,h,s)]).data=g;for(d=0,p=dx(t(l));d<f;++d)l[p[d]].index=d;return r(l,p),l}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:ct(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:ct(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?V0:typeof s=="function"?s:ct(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Os,i):r},i}function PL(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,l;i<s;++i){for(l=r=0;r<n;++r)l+=e[r][i][1]||0;if(l)for(r=0;r<n;++r)e[r][i][1]/=l}Os(e,t)}}function RL(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var l=0,d=0;l<i;++l)d+=e[l][r][1]||0;n[r][1]+=n[r][0]=-d/2}Os(e,t)}}function ML(e,t){if(!(!((l=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,l;n<s;++n){for(var d=0,f=0,h=0;d<l;++d){for(var p=e[t[d]],g=p[n][1]||0,v=p[n-1][1]||0,x=(g-v)/2,S=0;S<d;++S){var k=e[t[S]],j=k[n][1]||0,_=k[n-1][1]||0;x+=j-_}f+=g,h+=x*g}i[n-1][1]+=i[n-1][0]=r,f&&(r-=h/f)}i[n-1][1]+=i[n-1][0]=r,Os(e,t)}}var Wv={},Yv={},Dk;function DL(){return Dk||(Dk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Yv)),Yv}var Vv={},Ik;function dT(){return Ik||(Ik=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Vv)),Vv}var Xv={},Lk;function hx(){return Lk||(Lk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Xv)),Xv}var Zv={},Qv={},Bk;function IL(){return Bk||(Bk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Qv)),Qv}var zk;function mx(){return zk||(zk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IL(),r=hx();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],l=i.length;if(l===0)return s;let d=0,f="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),d++);d<l;){const g=i[d];h?g==="\\"&&d+1<l?(d++,f+=i[d]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}e.toPath=n})(Zv)),Zv}var qk;function px(){return qk||(qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DL(),r=dT(),n=hx(),i=mx();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?r.isDeepKey(f)?s(d,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(d,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function l(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||t.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}e.get=s})(Wv)),Wv}var Jv,$k;function LL(){return $k||($k=1,Jv=px().get),Jv}var BL=LL();const nl=$n(BL);var zL=4;function Ii(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zL,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function St(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,s,l)=>{var d=r[l-1];return typeof d=="string"?i+d+s:d!==void 0?i+Ii(d)+s:i+s},"")}var Tr=e=>e===0?0:e>0?1:-1,na=e=>typeof e=="number"&&e!=+e,Cs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,be=e=>(typeof e=="number"||e instanceof Number)&&!na(e),vn=e=>be(e)||typeof e=="string",qL=0,eu=e=>{var t=++qL;return"".concat(e||"").concat(t)},Bn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(t)&&typeof t!="string")return n;var s;if(Cs(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return na(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},fT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function ut(e,t,r){return be(e)&&be(t)?Ii(e+r*(t-e)):t}function hT(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):nl(n,t))===r)}var gt=e=>e===null||typeof e>"u",Ru=e=>gt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Pr(e){return e!=null}function ca(){}var $L=["type","size","sizeType"];function X0(){return X0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X0.apply(null,arguments)}function Uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(r),!0).forEach(function(n){UL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UL(e,t,r){return(t=FL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FL(e){var t=HL(e,"string");return typeof t=="symbol"?t:t+""}function HL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GL(e,t){if(e==null)return{};var r,n,i=KL(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mT={symbolCircle:fx,symbolCross:oL,symbolDiamond:cL,symbolSquare:uL,symbolStar:mL,symbolTriangle:pL,symbolWye:vL},WL=Math.PI/180,YL=e=>{var t="symbol".concat(Ru(e));return mT[t]||fx},VL=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*WL;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},XL=(e,t)=>{mT["symbol".concat(Ru(e))]=t},gx=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=GL(e,$L),s=Fk(Fk({},i),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var d=()=>{var v=YL(l),x=yL().type(v).size(VL(r,n,l)),S=x();if(S!==null)return S},{className:f,cx:h,cy:p}=s,g=Mt(s);return be(h)&&be(p)&&be(r)?b.createElement("path",X0({},g,{className:Le("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};gx.registerSymbol=XL;var pT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,vx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{lx(i)&&(n[i]=(s=>r[i](r,s)))}),n},ZL=(e,t,r)=>n=>(e(t,r,n),null),yl=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];lx(i)&&typeof s=="function"&&(n||(n={}),n[i]=ZL(s,t,r))}),n};function Hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(r),!0).forEach(function(n){JL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JL(e,t,r){return(t=e8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e8(e){var t=t8(e,"string");return typeof t=="symbol"?t:t+""}function t8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jt(e,t){var r=QL({},e),n=t,i=Object.keys(t),s=i.reduce((l,d)=>(l[d]===void 0&&n[d]!==void 0&&(l[d]=n[d]),l),r);return s}function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(null,arguments)}function Gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function r8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(r),!0).forEach(function(n){n8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n8(e,t,r){return(t=a8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a8(e){var t=i8(e,"string");return typeof t=="symbol"?t:t+""}function i8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mn=32,s8={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function o8(e){var{data:t,iconType:r,inactiveColor:n}=e,i=mn/2,s=mn/6,l=mn/3,d=t.inactive?n:t.color,f=r??t.type;if(f==="none")return null;if(f==="plainline"){var h;return b.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(h=t.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:mn,y2:i,className:"recharts-legend-icon"})}if(f==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(mn,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return b.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(mn/8,"h").concat(mn,"v").concat(mn*3/4,"h").concat(-mn,"z"),className:"recharts-legend-icon"});if(b.isValidElement(t.legendIcon)){var p=r8({},t);return delete p.legendIcon,b.cloneElement(t.legendIcon,p)}return b.createElement(gx,{fill:d,cx:i,cy:i,size:mn,sizeType:"diameter",type:f})}function l8(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:l}=e,d={x:0,y:0,width:mn,height:mn},f={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,g)=>{var v=p.formatter||i,x=Le({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var S=p.inactive?s:p.color,k=v?v(p.value,p,g):p.value;return b.createElement("li",ph({className:x,style:f,key:"legend-item-".concat(g)},yl(e,p,g)),b.createElement(cx,{width:r,height:r,viewBox:d,style:h,"aria-label":"".concat(k," legend icon")},b.createElement(o8,{data:p,iconType:l,inactiveColor:s})),b.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},k))})}var c8=e=>{var t=jt(e,s8),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:s},b.createElement(l8,ph({},t,{payload:r})))},ey={},ty={},Kk;function u8(){return Kk||(Kk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const l=r[s],d=n(l,s,r);i.has(d)||i.set(d,l)}return Array.from(i.values())}e.uniqBy=t})(ty)),ty}var ry={},Wk;function d8(){return Wk||(Wk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}e.ary=t})(ry)),ry}var ny={},Yk;function bm(){return Yk||(Yk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ny)),ny}var ay={},iy={},sy={},Vk;function f8(){return Vk||(Vk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(sy)),sy}var Xk;function yx(){return Xk||(Xk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f8();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(iy)),iy}var oy={},Zk;function h8(){return Zk||(Zk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(oy)),oy}var Qk;function m8(){return Qk||(Qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yx(),r=h8();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(ay)),ay}var ly={},cy={},Jk;function p8(){return Jk||(Jk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=px();function r(n){return function(i){return t.get(i,n)}}e.property=r})(cy)),cy}var uy={},dy={},fy={},hy={},e_;function gT(){return e_||(e_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(hy)),hy}var my={},t_;function vT(){return t_||(t_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(my)),my}var py={},r_;function yT(){return r_||(r_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(py)),py}var n_;function g8(){return n_||(n_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gT(),r=vT(),n=yT();function i(p,g,v){return typeof v!="function"?i(p,g,()=>{}):s(p,g,function x(S,k,j,_,E,A){const T=v(S,k,j,_,E,A);return T!==void 0?!!T:s(S,k,x,A)},new Map)}function s(p,g,v,x){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,v,x);case"function":return Object.keys(g).length>0?s(p,{...g},v,x):n.isEqualsSameValueZero(p,g);default:return t.isObject(p)?typeof g=="string"?g==="":!0:n.isEqualsSameValueZero(p,g)}}function l(p,g,v,x){if(g==null)return!0;if(Array.isArray(g))return f(p,g,v,x);if(g instanceof Map)return d(p,g,v,x);if(g instanceof Set)return h(p,g,v,x);const S=Object.keys(g);if(p==null||r.isPrimitive(p))return S.length===0;if(S.length===0)return!0;if(x?.has(g))return x.get(g)===p;x?.set(g,p);try{for(let k=0;k<S.length;k++){const j=S[k];if(!r.isPrimitive(p)&&!(j in p)||g[j]===void 0&&p[j]!==void 0||g[j]===null&&p[j]!==null||!v(p[j],g[j],j,p,g,x))return!1}return!0}finally{x?.delete(g)}}function d(p,g,v,x){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[S,k]of g.entries()){const j=p.get(S);if(v(j,k,S,p,g,x)===!1)return!1}return!0}function f(p,g,v,x){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const S=new Set;for(let k=0;k<g.length;k++){const j=g[k];let _=!1;for(let E=0;E<p.length;E++){if(S.has(E))continue;const A=p[E];let T=!1;if(v(A,j,k,p,g,x)&&(T=!0),T){S.add(E),_=!0;break}}if(!_)return!1}return!0}function h(p,g,v,x){return g.size===0?!0:p instanceof Set?f([...p],[...g],v,x):!1}e.isMatchWith=i,e.isSetMatch=h})(fy)),fy}var a_;function bT(){return a_||(a_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g8();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(dy)),dy}var gy={},vy={},yy={},i_;function v8(){return i_||(i_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(yy)),yy}var by={},s_;function bx(){return s_||(s_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(by)),by}var xy={},o_;function xT(){return o_||(o_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",v="[object ArrayBuffer]",x="[object Object]",S="[object Error]",k="[object DataView]",j="[object Uint8Array]",_="[object Uint8ClampedArray]",E="[object Uint16Array]",A="[object Uint32Array]",T="[object BigUint64Array]",C="[object Int8Array]",O="[object Int16Array]",M="[object Int32Array]",P="[object BigInt64Array]",I="[object Float32Array]",q="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=p,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=T,e.booleanTag=i,e.dataViewTag=k,e.dateTag=d,e.errorTag=S,e.float32ArrayTag=I,e.float64ArrayTag=q,e.functionTag=g,e.int16ArrayTag=O,e.int32ArrayTag=M,e.int8ArrayTag=C,e.mapTag=f,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=E,e.uint32ArrayTag=A,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=_})(xy)),xy}var wy={},l_;function y8(){return l_||(l_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(wy)),wy}var c_;function wT(){return c_||(c_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v8(),r=bx(),n=xT(),i=vT(),s=y8();function l(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,v,x=new Map,S=void 0){const k=S?.(p,g,v,x);if(k!==void 0)return k;if(i.isPrimitive(p))return p;if(x.has(p))return x.get(p);if(Array.isArray(p)){const j=new Array(p.length);x.set(p,j);for(let _=0;_<p.length;_++)j[_]=d(p[_],_,v,x,S);return Object.hasOwn(p,"index")&&(j.index=p.index),Object.hasOwn(p,"input")&&(j.input=p.input),j}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const j=new RegExp(p.source,p.flags);return j.lastIndex=p.lastIndex,j}if(p instanceof Map){const j=new Map;x.set(p,j);for(const[_,E]of p)j.set(_,d(E,_,v,x,S));return j}if(p instanceof Set){const j=new Set;x.set(p,j);for(const _ of p)j.add(d(_,void 0,v,x,S));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const j=new(Object.getPrototypeOf(p)).constructor(p.length);x.set(p,j);for(let _=0;_<p.length;_++)j[_]=d(p[_],_,v,x,S);return j}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const j=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return x.set(p,j),f(j,p,v,x,S),j}if(typeof File<"u"&&p instanceof File){const j=new File([p],p.name,{type:p.type});return x.set(p,j),f(j,p,v,x,S),j}if(typeof Blob<"u"&&p instanceof Blob){const j=new Blob([p],{type:p.type});return x.set(p,j),f(j,p,v,x,S),j}if(p instanceof Error){const j=new p.constructor;return x.set(p,j),j.message=p.message,j.name=p.name,j.stack=p.stack,j.cause=p.cause,f(j,p,v,x,S),j}if(p instanceof Boolean){const j=new Boolean(p.valueOf());return x.set(p,j),f(j,p,v,x,S),j}if(p instanceof Number){const j=new Number(p.valueOf());return x.set(p,j),f(j,p,v,x,S),j}if(p instanceof String){const j=new String(p.valueOf());return x.set(p,j),f(j,p,v,x,S),j}if(typeof p=="object"&&h(p)){const j=Object.create(Object.getPrototypeOf(p));return x.set(p,j),f(j,p,v,x,S),j}return p}function f(p,g,v=p,x,S){const k=[...Object.keys(g),...t.getSymbols(g)];for(let j=0;j<k.length;j++){const _=k[j],E=Object.getOwnPropertyDescriptor(p,_);(E==null||E.writable)&&(p[_]=d(g[_],_,v,x,S))}}function h(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=d,e.copyProperties=f})(vy)),vy}var u_;function b8(){return u_||(u_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wT();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(gy)),gy}var d_;function x8(){return d_||(d_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bT(),r=b8();function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(uy)),uy}var jy={},Sy={},ky={},f_;function w8(){return f_||(f_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wT(),r=bx(),n=xT();function i(s,l){return t.cloneDeepWith(s,(d,f,h,p)=>{const g=l?.(d,f,h,p);if(g!==void 0)return g;if(typeof s=="object"){if(r.getTag(s)===n.objectTag&&typeof s.constructor!="function"){const v={};return p.set(s,v),t.copyProperties(v,s,h,p),v}switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new s.constructor(s?.valueOf());return t.copyProperties(v,s),v}case n.argumentsTag:{const v={};return t.copyProperties(v,s),v.length=s.length,v[Symbol.iterator]=s[Symbol.iterator],v}default:return}}})}e.cloneDeepWith=i})(ky)),ky}var h_;function j8(){return h_||(h_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w8();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Sy)),Sy}var _y={},Ay={},m_;function jT(){return m_||(m_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Ay)),Ay}var Ny={},p_;function S8(){return p_||(p_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bx();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Ny)),Ny}var g_;function k8(){return g_||(g_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dT(),r=jT(),n=S8(),i=mx();function s(l,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&l?.[d]==null?f=i.toPath(d):f=[d],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=s})(_y)),_y}var v_;function _8(){return v_||(v_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bT(),r=hx(),n=j8(),i=px(),s=k8();function l(d,f){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return f=n.cloneDeep(f),function(h){const p=i.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:t.isMatch(p,f)}}e.matchesProperty=l})(jy)),jy}var y_;function xx(){return y_||(y_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bm(),r=p8(),n=x8(),i=_8();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(ly)),ly}var b_;function A8(){return b_||(b_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u8(),r=d8(),n=bm(),i=m8(),s=xx();function l(d,f=n.identity){return i.isArrayLikeObject(d)?t.uniqBy(Array.from(d),r.ary(s.iteratee(f),1)):[]}e.uniqBy=l})(ey)),ey}var Ey,x_;function N8(){return x_||(x_=1,Ey=A8().uniqBy),Ey}var E8=N8();const w_=$n(E8);function ST(e,t,r){return t===!0?w_(e,r):typeof t=="function"?w_(e,t):e}var Oy={exports:{}},Cy={},Ty={exports:{}},Py={};var j_;function O8(){if(j_)return Py;j_=1;var e=hl();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function d(g,v){var x=v(),S=n({inst:{value:x,getSnapshot:v}}),k=S[0].inst,j=S[1];return s(function(){k.value=x,k.getSnapshot=v,f(k)&&j({inst:k})},[g,x,v]),i(function(){return f(k)&&j({inst:k}),g(function(){f(k)&&j({inst:k})})},[g]),l(x),x}function f(g){var v=g.getSnapshot;g=g.value;try{var x=v();return!r(g,x)}catch{return!0}}function h(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Py.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Py}var S_;function C8(){return S_||(S_=1,Ty.exports=O8()),Ty.exports}var k_;function T8(){if(k_)return Cy;k_=1;var e=hl(),t=C8();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,d=e.useMemo,f=e.useDebugValue;return Cy.useSyncExternalStoreWithSelector=function(h,p,g,v,x){var S=s(null);if(S.current===null){var k={hasValue:!1,value:null};S.current=k}else k=S.current;S=d(function(){function _(O){if(!E){if(E=!0,A=O,O=v(O),x!==void 0&&k.hasValue){var M=k.value;if(x(M,O))return T=M}return T=O}if(M=T,n(A,O))return M;var P=v(O);return x!==void 0&&x(M,P)?(A=O,M):(A=O,T=P)}var E=!1,A,T,C=g===void 0?null:g;return[function(){return _(p())},C===null?void 0:function(){return _(C())}]},[p,g,v,x]);var j=i(h,S[0],S[1]);return l(function(){k.hasValue=!0,k.value=j},[j]),f(j),j},Cy}var __;function P8(){return __||(__=1,Oy.exports=T8()),Oy.exports}var R8=P8(),wx=b.createContext(null),M8=e=>e,Je=()=>{var e=b.useContext(wx);return e?e.store.dispatch:M8},eh=()=>{},D8=()=>eh,I8=(e,t)=>e===t;function fe(e){var t=b.useContext(wx),r=b.useMemo(()=>t?n=>{if(n!=null)return e(n)}:eh,[t,e]);return R8.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:D8,t?t.store.getState:eh,t?t.store.getState:eh,r,I8)}function L8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function B8(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function z8(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var A_=e=>Array.isArray(e)?e:[e];function q8(e){const t=Array.isArray(e[0])?e[0]:e;return z8(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function $8(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var U8=class{constructor(e){this.value=e}deref(){return this.value}},F8=typeof WeakRef<"u"?WeakRef:U8,H8=0,N_=1;function Ef(){return{s:H8,v:void 0,o:null,p:null}}function kT(e,t={}){let r=Ef();const{resultEqualityCheck:n}=t;let i,s=0;function l(){let d=r;const{length:f}=arguments;for(let g=0,v=f;g<v;g++){const x=arguments[g];if(typeof x=="function"||typeof x=="object"&&x!==null){let S=d.o;S===null&&(d.o=S=new WeakMap);const k=S.get(x);k===void 0?(d=Ef(),S.set(x,d)):d=k}else{let S=d.p;S===null&&(d.p=S=new Map);const k=S.get(x);k===void 0?(d=Ef(),S.set(x,d)):d=k}}const h=d;let p;if(d.s===N_)p=d.v;else if(p=e.apply(null,arguments),s++,n){const g=i?.deref?.()??i;g!=null&&n(g,p)&&(p=g,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new F8(p):p}return h.s=N_,h.v=p,p}return l.clearCache=()=>{r=Ef(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function G8(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,l=0,d,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),L8(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...r,...f},{memoize:g,memoizeOptions:v=[],argsMemoize:x=kT,argsMemoizeOptions:S=[]}=p,k=A_(v),j=A_(S),_=q8(i),E=g(function(){return s++,h.apply(null,arguments)},...k),A=x(function(){l++;const C=$8(_,arguments);return d=E.apply(null,C),d},...j);return Object.assign(A,{resultFunc:h,memoizedResultFunc:E,dependencies:_,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var K=G8(kT),K8=Object.assign((e,t=K)=>{B8(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,d,f)=>(l[r[f]]=d,l),{}))},{withTypes:()=>K8}),Ry={},My={},Dy={},E_;function W8(){return E_||(E_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const l=t(n),d=t(i);if(l===d&&l===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?d-l:l-d}return 0};e.compareValues=r})(Dy)),Dy}var Iy={},Ly={},O_;function _T(){return O_||(O_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Ly)),Ly}var C_;function Y8(){return C_||(C_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_T(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=i})(Iy)),Iy}var T_;function V8(){return T_||(T_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W8(),r=Y8(),n=mx();function i(s,l,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(x=>String(x));const h=(x,S)=>{let k=x;for(let j=0;j<S.length&&k!=null;++j)k=k[S[j]];return k},p=(x,S)=>S==null||x==null?S:typeof x=="object"&&"key"in x?Object.hasOwn(S,x.key)?S[x.key]:h(S,x.path):typeof x=="function"?x(S):Array.isArray(x)?h(S,x):typeof S=="object"?S[x]:S,g=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return s.map(x=>({original:x,criteria:g.map(S=>p(S,x))})).slice().sort((x,S)=>{for(let k=0;k<g.length;k++){const j=t.compareValues(x.criteria[k],S.criteria[k],d[k]);if(j!==0)return j}return 0}).map(x=>x.original)}e.orderBy=i})(My)),My}var By={},P_;function X8(){return P_||(P_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),l=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?l(p,f+1):i.push(p)}};return l(r,0),i}e.flatten=t})(By)),By}var zy={},R_;function AT(){return R_||(R_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jT(),r=yx(),n=gT(),i=yT();function s(l,d,f){return n.isObject(f)&&(typeof d=="number"&&r.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?i.isEqualsSameValueZero(f[d],l):!1}e.isIterateeCall=s})(zy)),zy}var M_;function Z8(){return M_||(M_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V8(),r=X8(),n=AT();function i(s,...l){const d=l.length;return d>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:d>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=i})(Ry)),Ry}var qy,D_;function Q8(){return D_||(D_=1,qy=Z8().sortBy),qy}var J8=Q8();const xm=$n(J8);var NT=e=>e.legend.settings,eB=e=>e.legend.size,tB=e=>e.legend.payload,rB=K([tB,NT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?xm(n,r):n});function nB(){return fe(rB)}var Of=1;function ET(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=b.useState({height:0,left:0,top:0,width:0}),n=b.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>Of||Math.abs(l.left-t.left)>Of||Math.abs(l.top-t.top)>Of||Math.abs(l.width-t.width)>Of)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function fr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var aB=typeof Symbol=="function"&&Symbol.observable||"@@observable",I_=aB,$y=()=>Math.random().toString(36).substring(7).split("").join("."),iB={INIT:`@@redux/INIT${$y()}`,REPLACE:`@@redux/REPLACE${$y()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$y()}`},gh=iB;function jx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function OT(e,t,r){if(typeof e!="function")throw new Error(fr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(fr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(fr(1));return r(OT)(e,t)}let n=e,i=t,s=new Map,l=s,d=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((j,_)=>{l.set(_,j)}))}function p(){if(f)throw new Error(fr(3));return i}function g(j){if(typeof j!="function")throw new Error(fr(4));if(f)throw new Error(fr(5));let _=!0;h();const E=d++;return l.set(E,j),function(){if(_){if(f)throw new Error(fr(6));_=!1,h(),l.delete(E),s=null}}}function v(j){if(!jx(j))throw new Error(fr(7));if(typeof j.type>"u")throw new Error(fr(8));if(typeof j.type!="string")throw new Error(fr(17));if(f)throw new Error(fr(9));try{f=!0,i=n(i,j)}finally{f=!1}return(s=l).forEach(E=>{E()}),j}function x(j){if(typeof j!="function")throw new Error(fr(10));n=j,v({type:gh.REPLACE})}function S(){const j=g;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(fr(11));function E(){const T=_;T.next&&T.next(p())}return E(),{unsubscribe:j(E)}},[I_](){return this}}}return v({type:gh.INIT}),{dispatch:v,subscribe:g,getState:p,replaceReducer:x,[I_]:S}}function sB(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:gh.INIT})>"u")throw new Error(fr(12));if(typeof r(void 0,{type:gh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fr(13))})}function CT(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let i;try{sB(r)}catch(s){i=s}return function(l={},d){if(i)throw i;let f=!1;const h={};for(let p=0;p<n.length;p++){const g=n[p],v=r[g],x=l[g],S=v(x,d);if(typeof S>"u")throw d&&d.type,new Error(fr(14));h[g]=S,f=f||S!==x}return f=f||n.length!==Object.keys(l).length,f?h:l}}function vh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function oB(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(fr(15))};const l={getState:i.getState,dispatch:(f,...h)=>s(f,...h)},d=e.map(f=>f(l));return s=vh(...d)(i.dispatch),{...i,dispatch:s}}}function TT(e){return jx(e)&&"type"in e&&typeof e.type=="string"}var PT=Symbol.for("immer-nothing"),L_=Symbol.for("immer-draftable"),Sr=Symbol.for("immer-state");function Cn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Wr=Object,al=Wr.getPrototypeOf,yh="constructor",wm="prototype",Z0="configurable",bh="enumerable",th="writable",tu="value",Ua=e=>!!e&&!!e[Sr];function zn(e){return e?RT(e)||Sm(e)||!!e[L_]||!!e[yh]?.[L_]||km(e)||_m(e):!1}var lB=Wr[wm][yh].toString(),B_=new WeakMap;function RT(e){if(!e||!Sx(e))return!1;const t=al(e);if(t===null||t===Wr[wm])return!0;const r=Wr.hasOwnProperty.call(t,yh)&&t[yh];if(r===Object)return!0;if(!Go(r))return!1;let n=B_.get(r);return n===void 0&&(n=Function.toString.call(r),B_.set(r,n)),n===lB}function jm(e,t,r=!0){Mu(e)===0?(r?Reflect.ownKeys(e):Wr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Mu(e){const t=e[Sr];return t?t.type_:Sm(e)?1:km(e)?2:_m(e)?3:0}var z_=(e,t,r=Mu(e))=>r===2?e.has(t):Wr[wm].hasOwnProperty.call(e,t),Q0=(e,t,r=Mu(e))=>r===2?e.get(t):e[t],xh=(e,t,r,n=Mu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function cB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Sm=Array.isArray,km=e=>e instanceof Map,_m=e=>e instanceof Set,Sx=e=>typeof e=="object",Go=e=>typeof e=="function",Uy=e=>typeof e=="boolean";function uB(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Da=e=>e.copy_||e.base_,kx=e=>e.modified_?e.copy_:e.base_;function J0(e,t){if(km(e))return new Map(e);if(_m(e))return new Set(e);if(Sm(e))return Array[wm].slice.call(e);const r=RT(e);if(t===!0||t==="class_only"&&!r){const n=Wr.getOwnPropertyDescriptors(e);delete n[Sr];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const l=i[s],d=n[l];d[th]===!1&&(d[th]=!0,d[Z0]=!0),(d.get||d.set)&&(n[l]={[Z0]:!0,[th]:!0,[bh]:d[bh],[tu]:e[l]})}return Wr.create(al(e),n)}else{const n=al(e);if(n!==null&&r)return{...e};const i=Wr.create(n);return Wr.assign(i,e)}}function _x(e,t=!1){return Am(e)||Ua(e)||!zn(e)||(Mu(e)>1&&Wr.defineProperties(e,{set:Cf,add:Cf,clear:Cf,delete:Cf}),Wr.freeze(e),t&&jm(e,(r,n)=>{_x(n,!0)},!1)),e}function dB(){Cn(2)}var Cf={[tu]:dB};function Am(e){return e===null||!Sx(e)?!0:Wr.isFrozen(e)}var wh="MapSet",eb="Patches",q_="ArrayMethods",MT={};function Ts(e){const t=MT[e];return t||Cn(0,e),t}var $_=e=>!!MT[e],ru,DT=()=>ru,fB=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:$_(wh)?Ts(wh):void 0,arrayMethodsPlugin_:$_(q_)?Ts(q_):void 0});function U_(e,t){t&&(e.patchPlugin_=Ts(eb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function tb(e){rb(e),e.drafts_.forEach(hB),e.drafts_=null}function rb(e){e===ru&&(ru=e.parent_)}var F_=e=>ru=fB(ru,e);function hB(e){const t=e[Sr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function H_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Sr].modified_&&(tb(t),Cn(4)),zn(e)&&(e=G_(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Sr].base_,e,t)}else e=G_(t,r);return mB(t,e,!0),tb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==PT?e:void 0}function G_(e,t){if(Am(t))return t;const r=t[Sr];if(!r)return jh(t,e.handledSet_,e);if(!Nm(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);BT(r,e)}return r.copy_}function mB(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&_x(t,r)}function IT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Nm=(e,t)=>e.scope_===t,pB=[];function LT(e,t,r,n){const i=Da(e),s=e.type_;if(n!==void 0&&Q0(i,n,s)===t){xh(i,n,r,s);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;jm(i,(f,h)=>{if(Ua(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const l=e.draftLocations_.get(t)??pB;for(const d of l)xh(i,d,r,s)}function gB(e,t,r){e.callbacks_.push(function(i){const s=t;if(!s||!Nm(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=kx(s);LT(e,s.draft_??s,l,r),BT(s,i)})}function BT(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}IT(e)}}function vB(e,t,r){const{scope_:n}=e;if(Ua(r)){const i=r[Sr];Nm(i,n)&&i.callbacks_.push(function(){rh(e);const l=kx(i);LT(e,r,l,t)})}else zn(r)&&e.callbacks_.push(function(){const s=Da(e);e.type_===3?s.has(r)&&jh(r,n.handledSet_,n):Q0(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&jh(Q0(e.copy_,t,e.type_),n.handledSet_,n)})}function jh(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ua(e)||t.has(e)||!zn(e)||Am(e)||(t.add(e),jm(e,(n,i)=>{if(Ua(i)){const s=i[Sr];if(Nm(s,r)){const l=kx(s);xh(e,n,l,e.type_),IT(s)}}else zn(i)&&jh(i,t,r)})),e}function yB(e,t){const r=Sm(e),n={type_:r?1:0,scope_:t?t.scope_:DT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=Sh;r&&(i=[n],s=nu);const{revoke:l,proxy:d}=Proxy.revocable(i,s);return n.draft_=d,n.revoke_=l,[d,n]}var Sh={get(e,t){if(t===Sr)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=Da(e);if(!z_(i,t,e.type_))return bB(e,i,t);const s=i[t];if(e.finalized_||!zn(s)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&uB(t))return s;if(s===Fy(e.base_,t)){rh(e);const l=e.type_===1?+t:t,d=ab(e.scope_,s,e,l);return e.copy_[l]=d}return s},has(e,t){return t in Da(e)},ownKeys(e){return Reflect.ownKeys(Da(e))},set(e,t,r){const n=zT(Da(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Fy(Da(e),t),s=i?.[Sr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(cB(r,i)&&(r!==void 0||z_(e.base_,t,e.type_)))return!0;rh(e),nb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),vB(e,t,r)),!0},deleteProperty(e,t){return rh(e),Fy(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),nb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Da(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[th]:!0,[Z0]:e.type_!==1||t!=="length",[bh]:n[bh],[tu]:r[t]}},defineProperty(){Cn(11)},getPrototypeOf(e){return al(e.base_)},setPrototypeOf(){Cn(12)}},nu={};for(let e in Sh){let t=Sh[e];nu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}nu.deleteProperty=function(e,t){return nu.set.call(this,e,t,void 0)};nu.set=function(e,t,r){return Sh.set.call(this,e[0],t,r,e[0])};function Fy(e,t){const r=e[Sr];return(r?Da(r):e)[t]}function bB(e,t,r){const n=zT(t,r);return n?tu in n?n[tu]:n.get?.call(e.draft_):void 0}function zT(e,t){if(!(t in e))return;let r=al(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=al(r)}}function nb(e){e.modified_||(e.modified_=!0,e.parent_&&nb(e.parent_))}function rh(e){e.copy_||(e.assigned_=new Map,e.copy_=J0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var xB=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Go(r)&&!Go(n)){const l=n;n=r;const d=this;return function(h=l,...p){return d.produce(h,g=>n.call(this,g,...p))}}Go(n)||Cn(6),i!==void 0&&!Go(i)&&Cn(7);let s;if(zn(r)){const l=F_(this),d=ab(l,r,void 0);let f=!0;try{s=n(d),f=!1}finally{f?tb(l):rb(l)}return U_(l,i),H_(s,l)}else if(!r||!Sx(r)){if(s=n(r),s===void 0&&(s=r),s===PT&&(s=void 0),this.autoFreeze_&&_x(s,!0),i){const l=[],d=[];Ts(eb).generateReplacementPatches_(r,s,{patches_:l,inversePatches_:d}),i(l,d)}return s}else Cn(1,r)},this.produceWithPatches=(r,n)=>{if(Go(r))return(d,...f)=>this.produceWithPatches(d,h=>r(h,...f));let i,s;return[this.produce(r,n,(d,f)=>{i=d,s=f}),i,s]},Uy(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Uy(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Uy(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){zn(t)||Cn(8),Ua(t)&&(t=In(t));const r=F_(this),n=ab(r,t,void 0);return n[Sr].isManual_=!0,rb(r),n}finishDraft(t,r){const n=t&&t[Sr];(!n||!n.isManual_)&&Cn(9);const{scope_:i}=n;return U_(i,r),H_(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const i=Ts(eb).applyPatches_;return Ua(t)?i(t,r):this.produce(t,s=>i(s,r))}};function ab(e,t,r,n){const[i,s]=km(t)?Ts(wh).proxyMap_(t,r):_m(t)?Ts(wh).proxySet_(t,r):yB(t,r);return(r?.scope_??DT()).drafts_.push(i),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?gB(r,s,n):s.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),i}function In(e){return Ua(e)||Cn(10,e),qT(e)}function qT(e){if(!zn(e)||Am(e))return e;const t=e[Sr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=J0(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=J0(e,!0);return jm(r,(i,s)=>{xh(r,i,qT(s))},n),t&&(t.finalized_=!1),r}var wB=new xB,$T=wB.produce;function UT(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var jB=UT(),SB=UT,kB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vh:vh.apply(null,arguments)};function yn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Yr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>TT(n)&&n.type===e,r}var FT=class Hc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Hc.prototype)}static get[Symbol.species](){return Hc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Hc(...t[0].concat(this)):new Hc(...t.concat(this))}};function K_(e){return zn(e)?$T(e,()=>{}):e}function Tf(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function _B(e){return typeof e=="boolean"}var AB=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let l=new FT;return r&&(_B(r)?l.push(jB):l.push(SB(r.extraArgument))),l},HT="RTK_autoBatch",yt=()=>e=>({payload:e,meta:{[HT]:!0}}),W_=e=>t=>{setTimeout(t,e)},GT=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,l=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:W_(10):e.type==="callback"?e.queueNotification:W_(e.timeout),h=()=>{l=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const g=()=>i&&p(),v=n.subscribe(g);return d.add(p),()=>{v(),d.delete(p)}},dispatch(p){try{return i=!p?.meta?.[HT],s=!i,s&&(l||(l=!0,f(h))),n.dispatch(p)}finally{i=!0}}})},NB=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new FT(e);return n&&i.push(GT(typeof n=="object"?n:void 0)),i};function EB(e){const t=AB(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(jx(r))d=CT(r);else throw new Error(Yr(1));let f;typeof n=="function"?f=n(t):f=t();let h=vh;i&&(h=kB({trace:!1,...typeof i=="object"&&i}));const p=oB(...f),g=NB(p);let v=typeof l=="function"?l(g):g();const x=h(...v);return OT(d,s,x)}function KT(e){const t={},r=[];let n;const i={addCase(s,l){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(Yr(28));if(d in t)throw new Error(Yr(29));return t[d]=l,i},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return r.push({matcher:s,reducer:l}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function OB(e){return typeof e=="function"}function CB(e,t){let[r,n,i]=KT(t),s;if(OB(e))s=()=>K_(e());else{const d=K_(e);s=()=>d}function l(d=s(),f){let h=[r[f.type],...n.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(Ua(p)){const x=g(p,f);return x===void 0?p:x}else{if(zn(p))return $T(p,v=>g(v,f));{const v=g(p,f);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},d)}return l.getInitialState=s,l}var TB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",PB=(e=21)=>{let t="",r=e;for(;r--;)t+=TB[Math.random()*64|0];return t},RB=Symbol.for("rtk-slice-createasyncthunk");function MB(e,t){return`${e}/${t}`}function DB({creators:e}={}){const t=e?.asyncThunk?.[RB];return function(n){const{name:i,reducerPath:s=i}=n;if(!i)throw new Error(Yr(11));const l=(typeof n.reducers=="function"?n.reducers(LB()):n.reducers)||{},d=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(A,T){const C=typeof A=="string"?A:A.type;if(!C)throw new Error(Yr(12));if(C in f.sliceCaseReducersByType)throw new Error(Yr(13));return f.sliceCaseReducersByType[C]=T,h},addMatcher(A,T){return f.sliceMatchers.push({matcher:A,reducer:T}),h},exposeAction(A,T){return f.actionCreators[A]=T,h},exposeCaseReducer(A,T){return f.sliceCaseReducersByName[A]=T,h}};d.forEach(A=>{const T=l[A],C={reducerName:A,type:MB(i,A),createNotation:typeof n.reducers=="function"};zB(T)?$B(C,T,h,t):BB(C,T,h)});function p(){const[A={},T=[],C=void 0]=typeof n.extraReducers=="function"?KT(n.extraReducers):[n.extraReducers],O={...A,...f.sliceCaseReducersByType};return CB(n.initialState,M=>{for(let P in O)M.addCase(P,O[P]);for(let P of f.sliceMatchers)M.addMatcher(P.matcher,P.reducer);for(let P of T)M.addMatcher(P.matcher,P.reducer);C&&M.addDefaultCase(C)})}const g=A=>A,v=new Map,x=new WeakMap;let S;function k(A,T){return S||(S=p()),S(A,T)}function j(){return S||(S=p()),S.getInitialState()}function _(A,T=!1){function C(M){let P=M[A];return typeof P>"u"&&T&&(P=Tf(x,C,j)),P}function O(M=g){const P=Tf(v,T,()=>new WeakMap);return Tf(P,M,()=>{const I={};for(const[q,Z]of Object.entries(n.selectors??{}))I[q]=IB(Z,M,()=>Tf(x,M,j),T);return I})}return{reducerPath:A,getSelectors:O,get selectors(){return O(C)},selectSlice:C}}const E={name:i,reducer:k,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:j,..._(s),injectInto(A,{reducerPath:T,...C}={}){const O=T??s;return A.inject({reducerPath:O,reducer:k},C),{...E,..._(O,!0)}}};return E}}function IB(e,t,r,n){function i(s,...l){let d=t(s);return typeof d>"u"&&n&&(d=r()),e(d,...l)}return i.unwrapped=e,i}var Dr=DB();function LB(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function BB({type:e,reducerName:t,createNotation:r},n,i){let s,l;if("reducer"in n){if(r&&!qB(n))throw new Error(Yr(17));s=n.reducer,l=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?yn(e,l):yn(e))}function zB(e){return e._reducerDefinitionType==="asyncThunk"}function qB(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $B({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Yr(18));const{payloadCreator:s,fulfilled:l,pending:d,rejected:f,settled:h,options:p}=r,g=i(e,s,p);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),d&&n.addCase(g.pending,d),f&&n.addCase(g.rejected,f),h&&n.addMatcher(g.settled,h),n.exposeCaseReducer(t,{fulfilled:l||Pf,pending:d||Pf,rejected:f||Pf,settled:h||Pf})}function Pf(){}var UB="task",WT="listener",YT="completed",Ax="cancelled",FB=`task-${Ax}`,HB=`task-${YT}`,ib=`${WT}-${Ax}`,GB=`${WT}-${YT}`,Em=class{constructor(e){this.code=e,this.message=`${UB} ${Ax} (reason: ${e})`}name="TaskAbortError";message},Nx=(e,t)=>{if(typeof e!="function")throw new TypeError(Yr(32))},kh=()=>{},VT=(e,t=kh)=>(e.catch(t),e),XT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),As=e=>{if(e.aborted)throw new Em(e.reason)};function ZT(e,t){let r=kh;return new Promise((n,i)=>{const s=()=>i(new Em(e.reason));if(e.aborted){s();return}r=XT(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=kh})}var KB=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Em?"cancelled":"rejected",error:r}}finally{t?.()}},_h=e=>t=>VT(ZT(e,t).then(r=>(As(e),r))),QT=e=>{const t=_h(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Jo}=Object,Y_={},Ex="listenerMiddleware",WB=(e,t)=>{const r=n=>XT(e,()=>n.abort(e.reason));return(n,i)=>{Nx(n);const s=new AbortController;r(s);const l=KB(async()=>{As(e),As(s.signal);const d=await n({pause:_h(s.signal),delay:QT(s.signal),signal:s.signal});return As(s.signal),d},()=>s.abort(HB));return i?.autoJoin&&t.push(l.catch(kh)),{result:_h(e)(l),cancel(){s.abort(FB)}}}},YB=(e,t)=>{const r=async(n,i)=>{As(t);let s=()=>{};const d=[new Promise((f,h)=>{let p=e({predicate:n,effect:(g,v)=>{v.unsubscribe(),f([g,v.getState(),v.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&d.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await ZT(t,Promise.race(d));return As(t),f}finally{s()}};return(n,i)=>VT(r(n,i))},JT=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=yn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Yr(21));return Nx(s),{predicate:i,type:t,effect:s}},e5=Jo(e=>{const{type:t,predicate:r,effect:n}=JT(e);return{id:PB(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Yr(22))}}},{withTypes:()=>e5}),V_=(e,t)=>{const{type:r,effect:n,predicate:i}=JT(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},sb=e=>{e.pending.forEach(t=>{t.abort(ib)})},VB=(e,t)=>()=>{for(const r of t.keys())sb(r);e.clear()},X_=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},t5=Jo(yn(`${Ex}/add`),{withTypes:()=>t5}),XB=yn(`${Ex}/removeAll`),r5=Jo(yn(`${Ex}/remove`),{withTypes:()=>r5}),ZB=(...e)=>{},Du=(e={})=>{const t=new Map,r=new Map,n=x=>{const S=r.get(x)??0;r.set(x,S+1)},i=x=>{const S=r.get(x)??1;S===1?r.delete(x):r.set(x,S-1)},{extra:s,onError:l=ZB}=e;Nx(l);const d=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),S=>{x.unsubscribe(),S?.cancelActive&&sb(x)}),f=x=>{const S=V_(t,x)??e5(x);return d(S)};Jo(f,{withTypes:()=>f});const h=x=>{const S=V_(t,x);return S&&(S.unsubscribe(),x.cancelActive&&sb(S)),!!S};Jo(h,{withTypes:()=>h});const p=async(x,S,k,j)=>{const _=new AbortController,E=YB(f,_.signal),A=[];try{x.pending.add(_),n(x),await Promise.resolve(x.effect(S,Jo({},k,{getOriginalState:j,condition:(T,C)=>E(T,C).then(Boolean),take:E,delay:QT(_.signal),pause:_h(_.signal),extra:s,signal:_.signal,fork:WB(_.signal,A),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((T,C,O)=>{T!==_&&(T.abort(ib),O.delete(T))})},cancel:()=>{_.abort(ib),x.pending.delete(_)},throwIfCancelled:()=>{As(_.signal)}})))}catch(T){T instanceof Em||X_(l,T,{raisedBy:"effect"})}finally{await Promise.all(A),_.abort(GB),i(x),x.pending.delete(_)}},g=VB(t,r);return{middleware:x=>S=>k=>{if(!TT(k))return S(k);if(t5.match(k))return f(k.payload);if(XB.match(k)){g();return}if(r5.match(k))return h(k.payload);let j=x.getState();const _=()=>{if(j===Y_)throw new Error(Yr(23));return j};let E;try{if(E=S(k),t.size>0){const A=x.getState(),T=Array.from(t.values());for(const C of T){let O=!1;try{O=C.predicate(k,A,j)}catch(M){O=!1,X_(l,M,{raisedBy:"predicate"})}O&&p(C,k,x,_)}}}finally{j=Y_}return E},startListening:f,stopListening:h,clearListeners:g}};function Yr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var QB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},n5=Dr({name:"chartLayout",initialState:QB,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:JB,setLayout:ez,setChartSize:tz,setScale:rz}=n5.actions,nz=n5.reducer;function a5(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function De(e){return Number.isFinite(e)}function aa(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(n){az(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function az(e,t,r){return(t=iz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iz(e){var t=sz(e,"string");return typeof t=="symbol"?t:t+""}function sz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wt(e,t,r){return gt(e)||gt(t)?r:vn(t)?nl(e,t,r):typeof t=="function"?t(e):r}var oz=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:l,layout:d}=t;if((d==="vertical"||d==="horizontal"&&l==="middle")&&s!=="center"&&be(e[s]))return Vo(Vo({},e),{},{[s]:e[s]+(n||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&l!=="middle"&&be(e[l]))return Vo(Vo({},e),{},{[l]:e[l]+(i||0)})}return e},ua=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",i5=(e,t,r,n)=>{if(n)return e.map(d=>d.coordinate);var i,s,l=e.map(d=>(d.coordinate===t&&(i=!0),d.coordinate===r&&(s=!0),d.coordinate));return i||l.push(t),s||l.push(r),l},s5=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:l,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:v,axisType:x}=e;if(!l)return null;var S=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,k=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(k=x==="angleAxis"&&s&&s.length>=2?Tr(s[0]-s[1])*2*k:k,g||v){var j=(g||v||[]).map((_,E)=>{var A=n?n.indexOf(_):_,T=l.map(A);return De(T)?{coordinate:T+k,value:_,offset:k,index:E}:null}).filter(Pr);return j}return f&&h?h.map((_,E)=>{var A=l.map(_);return De(A)?{coordinate:A+k,value:_,index:E,offset:k}:null}).filter(Pr):l.ticks&&p!=null?l.ticks(p).map((_,E)=>{var A=l.map(_);return De(A)?{coordinate:A+k,value:_,index:E,offset:k}:null}).filter(Pr):l.domain().map((_,E)=>{var A=l.map(_);return De(A)?{coordinate:A+k,value:n?n[_]:_,index:E,offset:k}:null}).filter(Pr)},lz=(e,t)=>{if(!t||t.length!==2||!be(t[0])||!be(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!be(e[0])||e[0]<r)&&(i[0]=r),(!be(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},cz=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,l=0,d=0;d<r;++d){var f=e[d],h=f?.[i];if(h!=null){var p=h[1],g=h[0],v=na(p)?g:p;v>=0?(h[0]=s,s+=v,h[1]=s):(h[0]=l,l+=v,h[1]=l)}}}},uz=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,l=0;l<r;++l){var d=e[l],f=d?.[i];if(f!=null){var h=na(f[1])?f[0]:f[1];h>=0?(f[0]=s,s+=h,f[1]=s):(f[0]=0,f[1]=0)}}}},dz={sign:cz,expand:PL,none:Os,silhouette:RL,wiggle:ML,positive:uz},fz=(e,t,r)=>{var n,i=(n=dz[r])!==null&&n!==void 0?n:Os,s=TL().keys(t).value((d,f)=>Number(wt(d,f,0))).order(V0).offset(i),l=s(e);return l.forEach((d,f)=>{d.forEach((h,p)=>{var g=wt(e[p],t[f],0);Array.isArray(g)&&g.length===2&&be(g[0])&&be(g[1])&&(h[0]=g[0],h[1]=g[1])})}),l};function hz(e){return e==null?void 0:String(e)}function Q_(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!gt(i[t.dataKey])){var d=hT(r,"value",i[t.dataKey]);if(d)return d.coordinate+n/2}return r!=null&&r[s]?r[s].coordinate+n/2:null}var f=wt(i,gt(l)?t.dataKey:l),h=t.scale.map(f);return be(h)?h:null}var J_=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var d=wt(s,t.dataKey,t.scale.domain()[l]);if(gt(d))return null;var f=t.scale.map(d);return be(f)?f-i/2+n:null},mz=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},pz=e=>{var t=e.flat(2).filter(be);return[Math.min(...t),Math.max(...t)]},gz=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],vz=(e,t,r)=>{if(e!=null)return gz(Object.keys(e).reduce((n,i)=>{var s=e[i];if(!s)return n;var{stackedData:l}=s,d=l.reduce((f,h)=>{var p=a5(h,t,r),g=pz(p);return!De(g[0])||!De(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],n[0]),Math.max(d[1],n[1])]},[1/0,-1/0]))},eA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zi=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=xm(t,p=>p.coordinate),s=1/0,l=1,d=i.length;l<d;l++){var f=i[l],h=i[l-1];s=Math.min((f?.coordinate||0)-(h?.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function rA(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return Vo(Vo({},t),{},{dataKey:r,payload:n,value:i,name:s})}function bl(e,t){if(e)return String(e);if(typeof t=="string")return t}var yz=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},bz=(e,t)=>t==="centric"?e.angle:e.radius,Xa=e=>e.layout.width,Za=e=>e.layout.height,xz=e=>e.layout.scale,o5=e=>e.layout.margin,Om=K(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Cm=K(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),wz="data-recharts-item-index",jz="data-recharts-item-id",Iu=60;function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){Sz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sz(e,t,r){return(t=kz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kz(e){var t=_z(e,"string");return typeof t=="symbol"?t:t+""}function _z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Az=e=>e.brush.height;function Nz(e){var t=Cm(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Iu;return r+i}return r},0)}function Ez(e){var t=Cm(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Iu;return r+i}return r},0)}function Oz(e){var t=Om(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Cz(e){var t=Om(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var rr=K([Xa,Za,o5,Az,Nz,Ez,Oz,Cz,NT,eB],(e,t,r,n,i,s,l,d,f,h)=>{var p={left:(r.left||0)+i,right:(r.right||0)+s},g={top:(r.top||0)+l,bottom:(r.bottom||0)+d},v=Rf(Rf({},g),p),x=v.bottom;v.bottom+=n,v=oz(v,f,h);var S=e-v.left-v.right,k=t-v.top-v.bottom;return Rf(Rf({brushBottom:x},v),{},{width:Math.max(S,0),height:Math.max(k,0)})}),Tz=K(rr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Ox=K(Xa,Za,(e,t)=>({x:0,y:0,width:e,height:t})),Pz=b.createContext(null),Wt=()=>b.useContext(Pz)!=null,Tm=e=>e.brush,Pm=K([Tm,rr,o5],(e,t,r)=>({height:e.height,x:be(e.x)?e.x:t.left,y:be(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:be(e.width)?e.width:t.width})),Hy={},Gy={},Ky={},aA;function Rz(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let l,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(r.apply(l,d),l=void 0,d=null)},g=()=>{h&&p(),k()};let v=null;const x=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},n)},S=()=>{v!==null&&(clearTimeout(v),v=null)},k=()=>{S(),l=void 0,d=null},j=()=>{p()},_=function(...E){if(i?.aborted)return;l=this,d=E;const A=v==null;x(),f&&A&&p()};return _.schedule=x,_.cancel=k,_.flush=j,i?.addEventListener("abort",k,{once:!0}),_}e.debounce=t})(Ky)),Ky}var iA;function Mz(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rz();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const v=t.debounce(function(...k){p=n.apply(this,k),g=null},i,{edges:h}),x=function(...k){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=n.apply(this,k),g=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,k),p)},S=()=>(v.flush(),p);return x.cancel=v.cancel,x.flush=S,x}e.debounce=r})(Gy)),Gy}var sA;function Dz(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mz();function r(n,i=0,s={}){const{leading:l=!0,trailing:d=!0}=s;return t.debounce(n,i,{leading:l,maxWait:i,trailing:d})}e.throttle=r})(Hy)),Hy}var Wy,oA;function Iz(){return oA||(oA=1,Wy=Dz().throttle),Wy}var Lz=Iz();const Bz=$n(Lz);var Ah=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&!t&&r!==void 0)var l=0},Jn={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},l5=(e,t,r)=>{var{width:n=Jn.width,height:i=Jn.height,aspect:s,maxHeight:l}=r,d=Cs(n)?e:Number(n),f=Cs(i)?t:Number(i);return s&&s>0&&(d?f=d/s:f&&(d=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:d,calculatedHeight:f}},zz={width:0,height:0,overflow:"visible"},qz={width:0,overflowX:"visible"},$z={height:0,overflowY:"visible"},Uz={},Fz=e=>{var{width:t,height:r}=e,n=Cs(t),i=Cs(r);return n&&i?zz:n?qz:i?$z:Uz};function Hz(e){var{width:t,height:r,aspect:n}=e,i=t,s=r;return i===void 0&&s===void 0?(i=Jn.width,s=Jn.height):i===void 0?i=n&&n>0?void 0:Jn.width:s===void 0&&(s=n&&n>0?void 0:Jn.height),{width:i,height:s}}function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ob.apply(null,arguments)}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){Gz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gz(e,t,r){return(t=Kz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kz(e){var t=Wz(e,"string");return typeof t=="symbol"?t:t+""}function Wz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c5=b.createContext(Jn.initialDimension);function Yz(e){return aa(e.width)&&aa(e.height)}function u5(e){var{children:t,width:r,height:n}=e,i=b.useMemo(()=>({width:r,height:n}),[r,n]);return Yz(i)?b.createElement(c5.Provider,{value:i},t):null}var Cx=()=>b.useContext(c5),Vz=b.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Jn.initialDimension,width:i,height:s,minWidth:l=Jn.minWidth,minHeight:d,maxHeight:f,children:h,debounce:p=Jn.debounce,id:g,className:v,onResize:x,style:S={}}=e,k=b.useRef(null),j=b.useRef();j.current=x,b.useImperativeHandle(t,()=>k.current);var[_,E]=b.useState({containerWidth:n.width,containerHeight:n.height}),A=b.useCallback((P,I)=>{E(q=>{var Z=Math.round(P),U=Math.round(I);return q.containerWidth===Z&&q.containerHeight===U?q:{containerWidth:Z,containerHeight:U}})},[]);b.useEffect(()=>{if(k.current==null||typeof ResizeObserver>"u")return ca;var P=U=>{var ce,$=U[0];if($!=null){var{width:te,height:L}=$.contentRect;A(te,L),(ce=j.current)===null||ce===void 0||ce.call(j,te,L)}};p>0&&(P=Bz(P,p,{trailing:!0,leading:!1}));var I=new ResizeObserver(P),{width:q,height:Z}=k.current.getBoundingClientRect();return A(q,Z),I.observe(k.current),()=>{I.disconnect()}},[A,p]);var{containerWidth:T,containerHeight:C}=_;Ah(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:O,calculatedHeight:M}=l5(T,C,{width:i,height:s,aspect:r,maxHeight:f});return Ah(O!=null&&O>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,M,i,s,l,d,r),b.createElement("div",{id:g?"".concat(g):void 0,className:Le("recharts-responsive-container",v),style:cA(cA({},S),{},{width:i,height:s,minWidth:l,minHeight:d,maxHeight:f}),ref:k},b.createElement("div",{style:Fz({width:i,height:s})},b.createElement(u5,{width:O,height:M},h)))}),xl=b.forwardRef((e,t)=>{var r=Cx();if(aa(r.width)&&aa(r.height))return e.children;var{width:n,height:i}=Hz({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=l5(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return be(s)&&be(l)?b.createElement(u5,{width:s,height:l},e.children):b.createElement(Vz,ob({},e,{width:n,height:i,ref:t}))});function Tx(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Lu=()=>{var e,t=Wt(),r=fe(Tz),n=fe(Pm),i=(e=fe(Tm))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},Xz={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},d5=()=>{var e;return(e=fe(rr))!==null&&e!==void 0?e:Xz},Px=()=>fe(Xa),Rx=()=>fe(Za),Zz=()=>fe(e=>e.layout.margin),Fe=e=>e.layout.layoutType,zs=()=>fe(Fe),f5=()=>{var e=zs();if(e==="horizontal"||e==="vertical")return e},Mx=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},h5=()=>fe(Mx),Qz=()=>{var e=zs();return e!==void 0},Bu=e=>{var t=Je(),r=Wt(),{width:n,height:i}=e,s=Cx(),l=n,d=i;return s&&(l=s.width>0?s.width:n,d=s.height>0?s.height:i),b.useEffect(()=>{!r&&aa(l)&&aa(d)&&t(tz({width:l,height:d}))},[t,r,l,d]),null},m5=Symbol.for("immer-nothing"),uA=Symbol.for("immer-draftable"),Zr=Symbol.for("immer-state");function Tn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var au=Object.getPrototypeOf;function il(e){return!!e&&!!e[Zr]}function Ps(e){return e?p5(e)||Array.isArray(e)||!!e[uA]||!!e.constructor?.[uA]||zu(e)||Mm(e):!1}var Jz=Object.prototype.constructor.toString(),dA=new WeakMap;function p5(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=dA.get(r);return n===void 0&&(n=Function.toString.call(r),dA.set(r,n)),n===Jz}function Nh(e,t,r=!0){Rm(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Rm(e){const t=e[Zr];return t?t.type_:Array.isArray(e)?1:zu(e)?2:Mm(e)?3:0}function lb(e,t){return Rm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function g5(e,t,r){const n=Rm(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function e7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function zu(e){return e instanceof Map}function Mm(e){return e instanceof Set}function gs(e){return e.copy_||e.base_}function cb(e,t){if(zu(e))return new Map(e);if(Mm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=p5(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Zr];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const l=i[s],d=n[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[l]})}return Object.create(au(e),n)}else{const n=au(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Dx(e,t=!1){return Dm(e)||il(e)||!Ps(e)||(Rm(e)>1&&Object.defineProperties(e,{set:Mf,add:Mf,clear:Mf,delete:Mf}),Object.freeze(e),t&&Object.values(e).forEach(r=>Dx(r,!0))),e}function t7(){Tn(2)}var Mf={value:t7};function Dm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var r7={};function Rs(e){const t=r7[e];return t||Tn(0,e),t}var iu;function v5(){return iu}function n7(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fA(e,t){t&&(Rs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ub(e){db(e),e.drafts_.forEach(a7),e.drafts_=null}function db(e){e===iu&&(iu=e.parent_)}function hA(e){return iu=n7(iu,e)}function a7(e){const t=e[Zr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Zr].modified_&&(ub(t),Tn(4)),Ps(e)&&(e=Eh(t,e),t.parent_||Oh(t,e)),t.patches_&&Rs("Patches").generateReplacementPatches_(r[Zr].base_,e,t.patches_,t.inversePatches_)):e=Eh(t,r,[]),ub(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==m5?e:void 0}function Eh(e,t,r){if(Dm(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Zr];if(!i)return Nh(t,(s,l)=>pA(e,i,t,s,l,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Oh(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,d=!1;i.type_===3&&(l=new Set(s),s.clear(),d=!0),Nh(l,(f,h)=>pA(e,i,s,f,h,r,d),n),Oh(e,s,!1),r&&e.patches_&&Rs("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function pA(e,t,r,n,i,s,l){if(i==null||typeof i!="object"&&!l)return;const d=Dm(i);if(!(d&&!l)){if(il(i)){const f=s&&t&&t.type_!==3&&!lb(t.assigned_,n)?s.concat(n):void 0,h=Eh(e,i,f);if(g5(r,n,h),il(h))e.canAutoFreeze_=!1;else return}else l&&r.add(i);if(Ps(i)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&d)return;Eh(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(zu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Oh(e,i)}}}function Oh(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Dx(t,r)}function i7(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:v5(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=Ix;r&&(i=[n],s=su);const{revoke:l,proxy:d}=Proxy.revocable(i,s);return n.draft_=d,n.revoke_=l,d}var Ix={get(e,t){if(t===Zr)return e;const r=gs(e);if(!lb(r,t))return s7(e,r,t);const n=r[t];return e.finalized_||!Ps(n)?n:n===Yy(e.base_,t)?(Vy(e),e.copy_[t]=hb(n,e)):n},has(e,t){return t in gs(e)},ownKeys(e){return Reflect.ownKeys(gs(e))},set(e,t,r){const n=y5(gs(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Yy(gs(e),t),s=i?.[Zr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(e7(r,i)&&(r!==void 0||lb(e.base_,t)))return!0;Vy(e),fb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Yy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Vy(e),fb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=gs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Tn(11)},getPrototypeOf(e){return au(e.base_)},setPrototypeOf(){Tn(12)}},su={};Nh(Ix,(e,t)=>{su[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});su.deleteProperty=function(e,t){return su.set.call(this,e,t,void 0)};su.set=function(e,t,r){return Ix.set.call(this,e[0],t,r,e[0])};function Yy(e,t){const r=e[Zr];return(r?gs(r):e)[t]}function s7(e,t,r){const n=y5(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function y5(e,t){if(!(t in e))return;let r=au(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=au(r)}}function fb(e){e.modified_||(e.modified_=!0,e.parent_&&fb(e.parent_))}function Vy(e){e.copy_||(e.copy_=cb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var o7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(f=s,...h){return l.produce(f,p=>r.call(this,p,...h))}}typeof r!="function"&&Tn(6),n!==void 0&&typeof n!="function"&&Tn(7);let i;if(Ps(t)){const s=hA(this),l=hb(t,void 0);let d=!0;try{i=r(l),d=!1}finally{d?ub(s):db(s)}return fA(s,n),mA(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===m5&&(i=void 0),this.autoFreeze_&&Dx(i,!0),n){const s=[],l=[];Rs("Patches").generateReplacementPatches_(t,i,s,l),n(s,l)}return i}else Tn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...d)=>this.produceWithPatches(l,f=>t(f,...d));let n,i;return[this.produce(t,r,(l,d)=>{n=l,i=d}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ps(e)||Tn(8),il(e)&&(e=l7(e));const t=hA(this),r=hb(e,void 0);return r[Zr].isManual_=!0,db(t),r}finishDraft(e,t){const r=e&&e[Zr];(!r||!r.isManual_)&&Tn(9);const{scope_:n}=r;return fA(n,t),mA(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Rs("Patches").applyPatches_;return il(e)?n(e,t):this.produce(e,i=>n(i,t))}};function hb(e,t){const r=zu(e)?Rs("MapSet").proxyMap_(e,t):Mm(e)?Rs("MapSet").proxySet_(e,t):i7(e,t);return(t?t.scope_:v5()).drafts_.push(r),r}function l7(e){return il(e)||Tn(10,e),b5(e)}function b5(e){if(!Ps(e)||Dm(e))return e;const t=e[Zr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=cb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=cb(e,!0);return Nh(r,(i,s)=>{g5(r,i,b5(s))},n),t&&(t.finalized_=!1),r}var c7=new o7;c7.produce;var u7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},x5=Dr({name:"legend",initialState:u7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:yt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=In(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:yt()},removeLegendPayload:{reducer(e,t){var r=In(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:yt()}}}),{setLegendSize:gA,setLegendSettings:d7,addLegendPayload:w5,replaceLegendPayload:j5,removeLegendPayload:S5}=x5.actions,f7=x5.reducer,h7=["contextPayload"];function mb(){return mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mb.apply(null,arguments)}function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){m7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m7(e,t,r){return(t=p7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p7(e){var t=g7(e,"string");return typeof t=="symbol"?t:t+""}function g7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v7(e,t){if(e==null)return{};var r,n,i=y7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function y7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function b7(e){return e.value}function x7(e){var{contextPayload:t}=e,r=v7(e,h7),n=ST(t,e.payloadUniqBy,b7),i=sl(sl({},r),{},{payload:n});return b.isValidElement(e.content)?b.cloneElement(e.content,i):typeof e.content=="function"?b.createElement(e.content,i):b.createElement(c8,i)}function w7(e,t,r,n,i,s){var{layout:l,align:d,verticalAlign:f}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&l==="vertical"?h={left:((n||0)-s.width)/2}:h=d==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?p={top:((i||0)-s.height)/2}:p=f==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),sl(sl({},h),p)}function j7(e){var t=Je();return b.useEffect(()=>{t(d7(e))},[t,e]),null}function S7(e){var t=Je();return b.useEffect(()=>(t(gA(e)),()=>{t(gA({width:0,height:0}))}),[t,e]),null}function k7(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var _7={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function k5(e){var t=jt(e,_7),r=nB(),n=tL(),i=Zz(),{width:s,height:l,wrapperStyle:d,portal:f}=t,[h,p]=ET([r]),g=Px(),v=Rx();if(g==null||v==null)return null;var x=g-(i?.left||0)-(i?.right||0),S=k7(t.layout,l,s,x),k=f?d:sl(sl({position:"absolute",width:S?.width||s||"auto",height:S?.height||l||"auto"},w7(d,t,i,g,v,h)),d),j=f??n;if(j==null||r==null)return null;var _=b.createElement("div",{className:"recharts-legend-wrapper",style:k,ref:p},b.createElement(j7,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&b.createElement(S7,{width:h.width,height:h.height}),b.createElement(x7,mb({},t,S,{margin:i,chartWidth:g,chartHeight:v,contextPayload:r})));return ox.createPortal(_,j)}k5.displayName="Legend";function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pb.apply(null,arguments)}function yA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(r),!0).forEach(function(n){A7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A7(e,t,r){return(t=N7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N7(e){var t=E7(e,"string");return typeof t=="symbol"?t:t+""}function E7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O7(e){return Array.isArray(e)&&vn(e[0])&&vn(e[1])?e.join(" ~ "):e}var Do={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},C7=e=>{var{separator:t=Do.separator,contentStyle:r,itemStyle:n,labelStyle:i=Do.labelStyle,payload:s,formatter:l,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:v=Do.accessibilityLayer}=e,x=()=>{if(s&&s.length){var C={padding:0,margin:0},O=(d?xm(s,d):s).map((M,P)=>{if(M.type==="none")return null;var I=M.formatter||l||O7,{value:q,name:Z}=M,U=q,ce=Z;if(I){var $=I(q,Z,M,P,s);if(Array.isArray($))[U,ce]=$;else if($!=null)U=$;else return null}var te=Rc(Rc({},Do.itemStyle),{},{color:M.color||Do.itemStyle.color},n);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:te},vn(ce)?b.createElement("span",{className:"recharts-tooltip-item-name"},ce):null,vn(ce)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},U),b.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:C},O)}return null},S=Rc(Rc({},Do.contentStyle),r),k=Rc({margin:0},i),j=!gt(p),_=j?p:"",E=Le("recharts-default-tooltip",f),A=Le("recharts-tooltip-label",h);j&&g&&s!==void 0&&s!==null&&(_=g(p,s));var T=v?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",pb({className:E,style:S},T),b.createElement("p",{className:A,style:k},b.isValidElement(_)?_:"".concat(_)),x())},Mc="recharts-tooltip-wrapper",T7={visibility:"hidden"};function P7(e){var{coordinate:t,translateX:r,translateY:n}=e;return Le(Mc,{["".concat(Mc,"-right")]:be(r)&&t&&be(t.x)&&r>=t.x,["".concat(Mc,"-left")]:be(r)&&t&&be(t.x)&&r<t.x,["".concat(Mc,"-bottom")]:be(n)&&t&&be(t.y)&&n>=t.y,["".concat(Mc,"-top")]:be(n)&&t&&be(t.y)&&n<t.y})}function bA(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:s,reverseDirection:l,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=e;if(s&&be(s[n]))return s[n];var p=r[n]-d-(i>0?i:0),g=r[n]+i;if(t[n])return l[n]?p:g;var v=f[n];if(v==null)return 0;if(l[n]){var x=p,S=v;return x<S?Math.max(g,v):Math.max(p,v)}if(h==null)return 0;var k=g+d,j=v+h;return k>j?Math.max(p,v):Math.max(g,v)}function R7(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function M7(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:i,position:s,reverseDirection:l,tooltipBox:d,useTranslate3d:f,viewBox:h}=e,p,g,v;return d.height>0&&d.width>0&&r?(g=bA({allowEscapeViewBox:t,coordinate:r,key:"x",offset:i,position:s,reverseDirection:l,tooltipDimension:d.width,viewBox:h,viewBoxDimension:h.width}),v=bA({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:s,reverseDirection:l,tooltipDimension:d.height,viewBox:h,viewBoxDimension:h.height}),p=R7({translateX:g,translateY:v,useTranslate3d:f})):p=T7,{cssProperties:p,cssClasses:P7({translateX:g,translateY:v,coordinate:r})}}function xA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Df(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(r),!0).forEach(function(n){gb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gb(e,t,r){return(t=D7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D7(e){var t=I7(e,"string");return typeof t=="symbol"?t:t+""}function I7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class L7 extends b.PureComponent{constructor(){super(...arguments),gb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),gb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:l,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:v,viewBox:x,wrapperStyle:S,lastBoundingBox:k,innerRef:j,hasPortalFromProps:_}=this.props,E=typeof h=="number"?h:h.x,A=typeof h=="number"?h:h.y,{cssClasses:T,cssProperties:C}=M7({allowEscapeViewBox:r,coordinate:l,offsetLeft:E,offsetTop:A,position:p,reverseDirection:g,tooltipBox:{height:k.height,width:k.width},useTranslate3d:v,viewBox:x}),O=_?{}:Df(Df({transition:f&&t?"transform ".concat(n,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),M=Df(Df({},O),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},S);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:T,style:M,ref:j},s)}}var _5=()=>{var e;return(e=fe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vb.apply(null,arguments)}function wA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(r),!0).forEach(function(n){B7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B7(e,t,r){return(t=z7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z7(e){var t=q7(e,"string");return typeof t=="symbol"?t:t+""}function q7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SA={curveBasisClosed:xL,curveBasisOpen:wL,curveBasis:bL,curveBumpX:iL,curveBumpY:sL,curveLinearClosed:jL,curveLinear:vm,curveMonotoneX:SL,curveMonotoneY:kL,curveNatural:_L,curveStep:AL,curveStepAfter:EL,curveStepBefore:NL},Ch=e=>De(e.x)&&De(e.y),kA=e=>e.base!=null&&Ch(e.base)&&Ch(e),Dc=e=>e.x,Ic=e=>e.y,$7=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ru(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=SA["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return SA[r]||vm},_A={connectNulls:!1,type:"linear"},U7=e=>{var{type:t=_A.type,points:r=[],baseLine:n,layout:i,connectNulls:s=_A.connectNulls}=e,l=$7(t,i),d=s?r.filter(Ch):r;if(Array.isArray(n)){var f,h=r.map((S,k)=>jA(jA({},S),{},{base:n[k]}));i==="vertical"?f=Nf().y(Ic).x1(Dc).x0(S=>S.base.x):f=Nf().x(Dc).y1(Ic).y0(S=>S.base.y);var p=f.defined(kA).curve(l),g=s?h.filter(kA):h;return p(g)}var v;i==="vertical"&&be(n)?v=Nf().y(Ic).x1(Dc).x0(n):be(n)?v=Nf().x(Dc).y1(Ic).y0(n):v=eT().x(Dc).y(Ic);var x=v.defined(Ch).curve(l);return x(d)},A5=e=>{var{className:t,points:r,path:n,pathRef:i}=e,s=zs();if((!r||!r.length)&&!n)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},d=r&&r.length?U7(l):n;return b.createElement("path",vb({},Ct(e),vx(e),{className:Le("recharts-curve",t),d:d===null?void 0:d,ref:i}))},F7=["x","y","top","left","width","height","className"];function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yb.apply(null,arguments)}function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function H7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(r),!0).forEach(function(n){G7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G7(e,t,r){return(t=K7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K7(e){var t=W7(e,"string");return typeof t=="symbol"?t:t+""}function W7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y7(e,t){if(e==null)return{};var r,n,i=V7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function V7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var X7=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),Z7=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:l=0,className:d}=e,f=Y7(e,F7),h=H7({x:t,y:r,top:n,left:i,width:s,height:l},f);return!be(t)||!be(r)||!be(s)||!be(l)||!be(n)||!be(i)?null:b.createElement("path",yb({},Mt(h),{className:Le("recharts-cross",d),d:X7(t,r,s,l,n,i)}))};function Q7(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function NA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(r),!0).forEach(function(n){J7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J7(e,t,r){return(t=eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eq(e){var t=tq(e,"string");return typeof t=="symbol"?t:t+""}function tq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rq=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),N5=(e,t,r)=>e.map(n=>"".concat(rq(n)," ").concat(t,"ms ").concat(r)).join(","),nq=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),ou=(e,t)=>Object.keys(t).reduce((r,n)=>EA(EA({},r),{},{[n]:e(n,t[n])}),{});function OA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(r),!0).forEach(function(n){aq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aq(e,t,r){return(t=iq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iq(e){var t=sq(e,"string");return typeof t=="symbol"?t:t+""}function sq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Th=(e,t,r)=>e+(t-e)*r,bb=e=>{var{from:t,to:r}=e;return t!==r},E5=(e,t,r)=>{var n=ou((i,s)=>{if(bb(s)){var[l,d]=e(s.from,s.to,s.velocity);return Kt(Kt({},s),{},{from:l,velocity:d})}return s},t);return r<1?ou((i,s)=>bb(s)&&n[i]!=null?Kt(Kt({},s),{},{velocity:Th(s.velocity,n[i].velocity,r),from:Th(s.from,n[i].from,r)}):s,t):E5(e,n,r-1)};function oq(e,t,r,n,i,s){var l,d=n.reduce((v,x)=>Kt(Kt({},v),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),f=()=>ou((v,x)=>x.from,d),h=()=>!Object.values(d).filter(bb).length,p=null,g=v=>{l||(l=v);var x=v-l,S=x/r.dt;d=E5(r,d,S),i(Kt(Kt(Kt({},e),t),f())),l=v,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var v;(v=p)===null||v===void 0||v()})}function lq(e,t,r,n,i,s,l){var d=null,f=i.reduce((g,v)=>{var x=e[v],S=t[v];return x==null||S==null?g:Kt(Kt({},g),{},{[v]:[x,S]})},{}),h,p=g=>{h||(h=g);var v=(g-h)/n,x=ou((k,j)=>Th(...j,r(v)),f);if(s(Kt(Kt(Kt({},e),t),x)),v<1)d=l.setTimeout(p);else{var S=ou((k,j)=>Th(...j,r(1)),f);s(Kt(Kt(Kt({},e),t),S))}};return()=>(d=l.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const cq=(e,t,r,n,i,s)=>{var l=nq(e,t);return r==null?()=>(i(Kt(Kt({},e),t)),()=>{}):r.isStepper===!0?oq(e,t,r,l,i,s):lq(e,t,r,n,l,i,s)};var Ph=1e-4,O5=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],C5=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),CA=(e,t)=>r=>{var n=O5(e,t);return C5(n,r)},uq=(e,t)=>r=>{var n=O5(e,t),i=[...n.map((s,l)=>s*l).slice(1),0];return C5(i,r)},dq=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},fq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=dq(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},hq=(e,t,r,n)=>{var i=CA(e,r),s=CA(t,n),l=uq(e,r),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,v=0;v<8;++v){var x=i(g)-p,S=l(g);if(Math.abs(x-p)<Ph||S<Ph)return s(g);g=d(g-x/S)}return s(g)};return f.isStepper=!1,f},TA=function(){return hq(...fq(...arguments))},mq=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(l,d,f)=>{var h=-(l-d)*r,p=f*n,g=f+(h-p)*i/1e3,v=f*i/1e3+l;return Math.abs(v-d)<Ph&&Math.abs(g)<Ph?[d,0]:[v,g]};return s.isStepper=!0,s.dt=i,s},pq=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TA(e);case"spring":return mq();default:if(e.split("(")[0]==="cubic-bezier")return TA(e)}return typeof e=="function"?e:null};function gq(e){var t,r=()=>null,n=!1,i=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var d=l,[f,...h]=d;if(typeof f=="number"){i=e.setTimeout(s.bind(null,h),f);return}s(f),i=e.setTimeout(s.bind(null,h));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,i&&(i(),i=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class vq{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function yq(){return gq(new vq)}var bq=b.createContext(yq);function xq(e,t){var r=b.useContext(bq);return b.useMemo(()=>t??r(e),[e,t,r])}var wq=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Im={isSsr:wq()},jq={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},PA={t:0},Xy={t:1};function qu(e){var t=jt(e,jq),{isActive:r,canBegin:n,duration:i,easing:s,begin:l,onAnimationEnd:d,onAnimationStart:f,children:h}=t,p=r==="auto"?!Im.isSsr:r,g=xq(t.animationId,t.animationManager),[v,x]=b.useState(p?PA:Xy),S=b.useRef(null);return b.useEffect(()=>{p||x(Xy)},[p]),b.useEffect(()=>{if(!p||!n)return ca;var k=cq(PA,Xy,pq(s),i,x,g.getTimeoutController()),j=()=>{S.current=k()};return g.start([f,l,j,i,d]),()=>{g.stop(),S.current&&S.current(),d()}},[p,n,i,s,l,f,d,g]),h(v.t)}function $u(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=b.useRef(eu(t)),n=b.useRef(e);return n.current!==e&&(r.current=eu(t),n.current=e),r.current}var Sq=["radius"],kq=["radius"],RA,MA,DA,IA,LA,BA,zA,qA,$A,UA;function FA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(r),!0).forEach(function(n){_q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _q(e,t,r){return(t=Aq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aq(e){var t=Nq(e,"string");return typeof t=="symbol"?t:t+""}function Nq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rh.apply(null,arguments)}function GA(e,t){if(e==null)return{};var r,n,i=Eq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Eq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var KA=(e,t,r,n,i)=>{var s=Ii(r),l=Ii(n),d=Math.min(Math.abs(s)/2,Math.abs(l)/2),f=l>=0?1:-1,h=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,g;if(d>0&&Array.isArray(i)){for(var v=[0,0,0,0],x=0,S=4;x<S;x++){var k,j=(k=i[x])!==null&&k!==void 0?k:0;v[x]=j>d?d:j}g=St(RA||(RA=Vn(["M",",",""])),e,t+f*v[0]),v[0]>0&&(g+=St(MA||(MA=Vn(["A ",",",",0,0,",",",",",""])),v[0],v[0],p,e+h*v[0],t)),g+=St(DA||(DA=Vn(["L ",",",""])),e+r-h*v[1],t),v[1]>0&&(g+=St(IA||(IA=Vn(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],p,e+r,t+f*v[1])),g+=St(LA||(LA=Vn(["L ",",",""])),e+r,t+n-f*v[2]),v[2]>0&&(g+=St(BA||(BA=Vn(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],p,e+r-h*v[2],t+n)),g+=St(zA||(zA=Vn(["L ",",",""])),e+h*v[3],t+n),v[3]>0&&(g+=St(qA||(qA=Vn(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],p,e,t+n-f*v[3])),g+="Z"}else if(d>0&&i===+i&&i>0){var _=Math.min(d,i);g=St($A||($A=Vn(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*_,_,_,p,e+h*_,t,e+r-h*_,t,_,_,p,e+r,t+f*_,e+r,t+n-f*_,_,_,p,e+r-h*_,t+n,e+h*_,t+n,_,_,p,e,t+n-f*_)}else g=St(UA||(UA=Vn(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return g},WA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},T5=e=>{var t=jt(e,WA),r=b.useRef(null),[n,i]=b.useState(-1);b.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var F=r.current.getTotalLength();F&&i(F)}catch{}},[]);var{x:s,y:l,width:d,height:f,radius:h,className:p}=t,{animationEasing:g,animationDuration:v,animationBegin:x,isAnimationActive:S,isUpdateAnimationActive:k}=t,j=b.useRef(d),_=b.useRef(f),E=b.useRef(s),A=b.useRef(l),T=b.useMemo(()=>({x:s,y:l,width:d,height:f,radius:h}),[s,l,d,f,h]),C=$u(T,"rectangle-");if(s!==+s||l!==+l||d!==+d||f!==+f||d===0||f===0)return null;var O=Le("recharts-rectangle",p);if(!k){var M=Mt(t),{radius:P}=M,I=GA(M,Sq);return b.createElement("path",Rh({},I,{x:Ii(s),y:Ii(l),width:Ii(d),height:Ii(f),radius:typeof h=="number"?h:void 0,className:O,d:KA(s,l,d,f,h)}))}var q=j.current,Z=_.current,U=E.current,ce=A.current,$="0px ".concat(n===-1?1:n,"px"),te="".concat(n,"px 0px"),L=N5(["strokeDasharray"],v,typeof g=="string"?g:WA.animationEasing);return b.createElement(qu,{animationId:C,key:C,canBegin:n>0,duration:v,easing:g,isActive:k,begin:x},F=>{var ae=ut(q,d,F),ue=ut(Z,f,F),ee=ut(U,s,F),D=ut(ce,l,F);r.current&&(j.current=ae,_.current=ue,E.current=ee,A.current=D);var H;S?F>0?H={transition:L,strokeDasharray:te}:H={strokeDasharray:$}:H={strokeDasharray:te};var Q=Mt(t),{radius:ie}=Q,me=GA(Q,kq);return b.createElement("path",Rh({},me,{radius:typeof h=="number"?h:void 0,className:O,d:KA(ee,D,ae,ue,h),ref:r,style:HA(HA({},H),t.style)}))})};function YA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function VA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(r),!0).forEach(function(n){Oq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oq(e,t,r){return(t=Cq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cq(e){var t=Tq(e,"string");return typeof t=="symbol"?t:t+""}function Tq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mh=Math.PI/180,Dh=e=>e*Math.PI/180,Pq=e=>e*180/Math.PI,at=(e,t,r,n)=>({x:e+Math.cos(-Mh*n)*r,y:t+Math.sin(-Mh*n)*r}),Rq=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Mq=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},Dq=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,l=Mq({x:r,y:n},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var d=(r-i)/l,f=Math.acos(d);return n>s&&(f=2*Math.PI-f),{radius:l,angle:Pq(f),angleInRadian:f}},Iq=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},Lq=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(i,s);return e+l*360},Bq=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:s}=Dq({x:r,y:n},t),{innerRadius:l,outerRadius:d}=t;if(i<l||i>d||i===0)return null;var{startAngle:f,endAngle:h}=Iq(t),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?VA(VA({},t),{},{radius:i,angle:Lq(p,t)}):null};function P5(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,l=at(t,r,n,i),d=at(t,r,n,s);return{points:[l,d],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}var XA,ZA,QA,JA,eN,tN,rN;function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xb.apply(null,arguments)}function ws(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var zq=(e,t)=>{var r=Tr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},If=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:l,cornerRadius:d,cornerIsExternal:f}=e,h=d*(l?1:-1)+n,p=Math.asin(d/h)/Mh,g=f?i:i+s*p,v=at(t,r,h,g),x=at(t,r,n,g),S=f?i-s*p:i,k=at(t,r,h*Math.cos(p*Mh),S);return{center:v,circleTangency:x,lineTangency:k,theta:p}},R5=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:l}=e,d=zq(s,l),f=s+d,h=at(t,r,i,s),p=at(t,r,i,f),g=St(XA||(XA=ws(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(d)>180),+(s>f),p.x,p.y);if(n>0){var v=at(t,r,n,s),x=at(t,r,n,f);g+=St(ZA||(ZA=ws(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,n,n,+(Math.abs(d)>180),+(s<=f),v.x,v.y)}else g+=St(QA||(QA=ws(["L ",","," Z"])),t,r);return g},qq=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:d,startAngle:f,endAngle:h}=e,p=Tr(h-f),{circleTangency:g,lineTangency:v,theta:x}=If({cx:t,cy:r,radius:i,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:S,lineTangency:k,theta:j}=If({cx:t,cy:r,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),_=d?Math.abs(f-h):Math.abs(f-h)-x-j;if(_<0)return l?St(JA||(JA=ws(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,s,s,s*2,s,s,-s*2):R5({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:f,endAngle:h});var E=St(eN||(eN=ws(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,s,s,+(p<0),g.x,g.y,i,i,+(_>180),+(p<0),S.x,S.y,s,s,+(p<0),k.x,k.y);if(n>0){var{circleTangency:A,lineTangency:T,theta:C}=If({cx:t,cy:r,radius:n,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:O,lineTangency:M,theta:P}=If({cx:t,cy:r,radius:n,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),I=d?Math.abs(f-h):Math.abs(f-h)-C-P;if(I<0&&s===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+=St(tN||(tN=ws(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),M.x,M.y,s,s,+(p<0),O.x,O.y,n,n,+(I>180),+(p>0),A.x,A.y,s,s,+(p<0),T.x,T.y)}else E+=St(rN||(rN=ws(["L",",","Z"])),t,r);return E},$q={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},M5=e=>{var t=jt(e,$q),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=t;if(s<i||h===p)return null;var v=Le("recharts-sector",g),x=s-i,S=Bn(l,x,0,!0),k;return S>0&&Math.abs(h-p)<360?k=qq({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(S,x/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):k=R5({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),b.createElement("path",xb({},Mt(t),{className:v,d:k}))};function Uq(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(pT(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:s,outerRadius:l,angle:d}=t,f=at(n,i,s,d),h=at(n,i,l,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return P5(t)}}var Zy={},Qy={},Jy={},nN;function Fq(){return nN||(nN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_T();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Jy)),Jy}var aN;function Hq(){return aN||(aN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fq();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Qy)),Qy}var iN;function Gq(){return iN||(iN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AT(),r=Hq();function n(i,s,l){l&&typeof l!="number"&&t.isIterateeCall(i,s,l)&&(s=l=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),l=l===void 0?i<s?1:-1:r.toFinite(l);const d=Math.max(Math.ceil((s-i)/(l||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=i,i+=l;return f}e.range=n})(Zy)),Zy}var e0,sN;function Kq(){return sN||(sN=1,e0=Gq().range),e0}var Wq=Kq();const D5=$n(Wq);function Li(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Yq(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Lx(e){let t,r,n;e.length!==2?(t=Li,r=(d,f)=>Li(e(d),f),n=(d,f)=>e(d)-f):(t=e===Li||e===Yq?e:Vq,r=e,n=e);function i(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;r(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;r(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(d,f,h=0,p=d.length){const g=i(d,f,h,p-1);return g>h&&n(d[g-1],f)>-n(d[g],f)?g-1:g}return{left:i,center:l,right:s}}function Vq(){return 0}function I5(e){return e===null?NaN:+e}function*Xq(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Zq=Lx(Li),Uu=Zq.right;Lx(I5).center;class oN extends Map{constructor(t,r=e$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(lN(this,t))}has(t){return super.has(lN(this,t))}set(t,r){return super.set(Qq(this,t),r)}delete(t){return super.delete(Jq(this,t))}}function lN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Qq({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Jq({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function e$(e){return e!==null&&typeof e=="object"?e.valueOf():e}function t$(e=Li){if(e===Li)return L5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function L5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const r$=Math.sqrt(50),n$=Math.sqrt(10),a$=Math.sqrt(2);function Ih(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),l=s>=r$?10:s>=n$?5:s>=a$?2:1;let d,f,h;return i<0?(h=Math.pow(10,-i)/l,d=Math.round(e*h),f=Math.round(t*h),d/h<e&&++d,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*l,d=Math.round(e/h),f=Math.round(t/h),d*h<e&&++d,f*h>t&&--f),f<d&&.5<=r&&r<2?Ih(e,t,r*2):[d,f,h]}function wb(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,l]=n?Ih(t,e,r):Ih(e,t,r);if(!(s>=i))return[];const d=s-i+1,f=new Array(d);if(n)if(l<0)for(let h=0;h<d;++h)f[h]=(s-h)/-l;else for(let h=0;h<d;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<d;++h)f[h]=(i+h)/-l;else for(let h=0;h<d;++h)f[h]=(i+h)*l;return f}function jb(e,t,r){return t=+t,e=+e,r=+r,Ih(e,t,r)[2]}function Sb(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?jb(t,e,r):jb(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function cN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function uN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function B5(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?L5:t$(i);n>r;){if(n-r>600){const f=n-r+1,h=t-r+1,p=Math.log(f),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),x=Math.max(r,Math.floor(t-h*g/f+v)),S=Math.min(n,Math.floor(t+(f-h)*g/f+v));B5(e,t,x,S,i)}const s=e[t];let l=r,d=n;for(Lc(e,r,t),i(e[n],s)>0&&Lc(e,r,n);l<d;){for(Lc(e,l,d),++l,--d;i(e[l],s)<0;)++l;for(;i(e[d],s)>0;)--d}i(e[r],s)===0?Lc(e,r,d):(++d,Lc(e,d,n)),d<=t&&(r=d+1),t<=d&&(n=d-1)}return e}function Lc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function i$(e,t,r){if(e=Float64Array.from(Xq(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return uN(e);if(t>=1)return cN(e);var n,i=(n-1)*t,s=Math.floor(i),l=cN(B5(e,s).subarray(0,s+1)),d=uN(e.subarray(s+1));return l+(d-l)*(i-s)}}function s$(e,t,r=I5){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),l=+r(e[s],s,e),d=+r(e[s+1],s+1,e);return l+(d-l)*(i-s)}}function o$(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function xn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Qa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kb=Symbol("implicit");function Bx(){var e=new oN,t=[],r=[],n=kb;function i(s){let l=e.get(s);if(l===void 0){if(n!==kb)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new oN;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Bx(t,r).unknown(n)},xn.apply(i,arguments),i}function zx(){var e=Bx().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,l,d=!1,f=0,h=0,p=.5;delete e.unknown;function g(){var v=t().length,x=i<n,S=x?i:n,k=x?n:i;s=(k-S)/Math.max(1,v-f+h*2),d&&(s=Math.floor(s)),S+=(k-S-s*(v-f))*p,l=s*(1-f),d&&(S=Math.round(S),l=Math.round(l));var j=o$(v).map(function(_){return S+s*_});return r(x?j.reverse():j)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,g()):[n,i]},e.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,d=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(v){return arguments.length?(d=!!v,g()):d},e.padding=function(v){return arguments.length?(f=Math.min(1,h=+v),g()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),g()):f},e.paddingOuter=function(v){return arguments.length?(h=+v,g()):h},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),g()):p},e.copy=function(){return zx(t(),[n,i]).round(d).paddingInner(f).paddingOuter(h).align(p)},xn.apply(g(),arguments)}function z5(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return z5(t())},e}function l$(){return z5(zx.apply(null,arguments).paddingInner(1))}function qx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function q5(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Fu(){}var lu=.7,Lh=1/lu,el="\\s*([+-]?\\d+)\\s*",cu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ra="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c$=/^#([0-9a-f]{3,8})$/,u$=new RegExp(`^rgb\\(${el},${el},${el}\\)$`),d$=new RegExp(`^rgb\\(${ra},${ra},${ra}\\)$`),f$=new RegExp(`^rgba\\(${el},${el},${el},${cu}\\)$`),h$=new RegExp(`^rgba\\(${ra},${ra},${ra},${cu}\\)$`),m$=new RegExp(`^hsl\\(${cu},${ra},${ra}\\)$`),p$=new RegExp(`^hsla\\(${cu},${ra},${ra},${cu}\\)$`),dN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qx(Fu,uu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:fN,formatHex:fN,formatHex8:g$,formatHsl:v$,formatRgb:hN,toString:hN});function fN(){return this.rgb().formatHex()}function g$(){return this.rgb().formatHex8()}function v$(){return $5(this).formatHsl()}function hN(){return this.rgb().formatRgb()}function uu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=c$.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?mN(t):r===3?new Rr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Lf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Lf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=u$.exec(e))?new Rr(t[1],t[2],t[3],1):(t=d$.exec(e))?new Rr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=f$.exec(e))?Lf(t[1],t[2],t[3],t[4]):(t=h$.exec(e))?Lf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=m$.exec(e))?vN(t[1],t[2]/100,t[3]/100,1):(t=p$.exec(e))?vN(t[1],t[2]/100,t[3]/100,t[4]):dN.hasOwnProperty(e)?mN(dN[e]):e==="transparent"?new Rr(NaN,NaN,NaN,0):null}function mN(e){return new Rr(e>>16&255,e>>8&255,e&255,1)}function Lf(e,t,r,n){return n<=0&&(e=t=r=NaN),new Rr(e,t,r,n)}function y$(e){return e instanceof Fu||(e=uu(e)),e?(e=e.rgb(),new Rr(e.r,e.g,e.b,e.opacity)):new Rr}function _b(e,t,r,n){return arguments.length===1?y$(e):new Rr(e,t,r,n??1)}function Rr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}qx(Rr,_b,q5(Fu,{brighter(e){return e=e==null?Lh:Math.pow(Lh,e),new Rr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?lu:Math.pow(lu,e),new Rr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rr(Ns(this.r),Ns(this.g),Ns(this.b),Bh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pN,formatHex:pN,formatHex8:b$,formatRgb:gN,toString:gN}));function pN(){return`#${js(this.r)}${js(this.g)}${js(this.b)}`}function b$(){return`#${js(this.r)}${js(this.g)}${js(this.b)}${js((isNaN(this.opacity)?1:this.opacity)*255)}`}function gN(){const e=Bh(this.opacity);return`${e===1?"rgb(":"rgba("}${Ns(this.r)}, ${Ns(this.g)}, ${Ns(this.b)}${e===1?")":`, ${e})`}`}function Bh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ns(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function js(e){return e=Ns(e),(e<16?"0":"")+e.toString(16)}function vN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Pn(e,t,r,n)}function $5(e){if(e instanceof Pn)return new Pn(e.h,e.s,e.l,e.opacity);if(e instanceof Fu||(e=uu(e)),!e)return new Pn;if(e instanceof Pn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,d=s-i,f=(s+i)/2;return d?(t===s?l=(r-n)/d+(r<n)*6:r===s?l=(n-t)/d+2:l=(t-r)/d+4,d/=f<.5?s+i:2-s-i,l*=60):d=f>0&&f<1?0:l,new Pn(l,d,f,e.opacity)}function x$(e,t,r,n){return arguments.length===1?$5(e):new Pn(e,t,r,n??1)}function Pn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}qx(Pn,x$,q5(Fu,{brighter(e){return e=e==null?Lh:Math.pow(Lh,e),new Pn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?lu:Math.pow(lu,e),new Pn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Rr(t0(e>=240?e-240:e+120,i,n),t0(e,i,n),t0(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Pn(yN(this.h),Bf(this.s),Bf(this.l),Bh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bh(this.opacity);return`${e===1?"hsl(":"hsla("}${yN(this.h)}, ${Bf(this.s)*100}%, ${Bf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function yN(e){return e=(e||0)%360,e<0?e+360:e}function Bf(e){return Math.max(0,Math.min(1,e||0))}function t0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const $x=e=>()=>e;function w$(e,t){return function(r){return e+r*t}}function j$(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function S$(e){return(e=+e)==1?U5:function(t,r){return r-t?j$(t,r,e):$x(isNaN(t)?r:t)}}function U5(e,t){var r=t-e;return r?w$(e,r):$x(isNaN(e)?t:e)}const bN=(function e(t){var r=S$(t);function n(i,s){var l=r((i=_b(i)).r,(s=_b(s)).r),d=r(i.g,s.g),f=r(i.b,s.b),h=U5(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=d(p),i.b=f(p),i.opacity=h(p),i+""}}return n.gamma=e,n})(1);function k$(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function _$(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function A$(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)i[l]=wl(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(d){for(l=0;l<n;++l)s[l]=i[l](d);return s}}function N$(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function zh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function E$(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=wl(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Ab=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,r0=new RegExp(Ab.source,"g");function O$(e){return function(){return e}}function C$(e){return function(t){return e(t)+""}}function T$(e,t){var r=Ab.lastIndex=r0.lastIndex=0,n,i,s,l=-1,d=[],f=[];for(e=e+"",t=t+"";(n=Ab.exec(e))&&(i=r0.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),d[l]?d[l]+=s:d[++l]=s),(n=n[0])===(i=i[0])?d[l]?d[l]+=i:d[++l]=i:(d[++l]=null,f.push({i:l,x:zh(n,i)})),r=r0.lastIndex;return r<t.length&&(s=t.slice(r),d[l]?d[l]+=s:d[++l]=s),d.length<2?f[0]?C$(f[0].x):O$(t):(t=f.length,function(h){for(var p=0,g;p<t;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function wl(e,t){var r=typeof t,n;return t==null||r==="boolean"?$x(t):(r==="number"?zh:r==="string"?(n=uu(t))?(t=n,bN):T$:t instanceof uu?bN:t instanceof Date?N$:_$(t)?k$:Array.isArray(t)?A$:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?E$:zh)(e,t)}function Ux(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function P$(e,t){t===void 0&&(t=e,e=wl);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(l){var d=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[d](l-d)}}function R$(e){return function(){return e}}function qh(e){return+e}var xN=[0,1];function wr(e){return e}function Nb(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:R$(isNaN(t)?NaN:.5)}function M$(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function D$(e,t,r){var n=e[0],i=e[1],s=t[0],l=t[1];return i<n?(n=Nb(i,n),s=r(l,s)):(n=Nb(n,i),s=r(s,l)),function(d){return s(n(d))}}function I$(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)i[l]=Nb(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(d){var f=Uu(e,d,1,n)-1;return s[f](i[f](d))}}function Hu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Lm(){var e=xN,t=xN,r=wl,n,i,s,l=wr,d,f,h;function p(){var v=Math.min(e.length,t.length);return l!==wr&&(l=M$(e[0],e[v-1])),d=v>2?I$:D$,f=h=null,g}function g(v){return v==null||isNaN(v=+v)?s:(f||(f=d(e.map(n),t,r)))(n(l(v)))}return g.invert=function(v){return l(i((h||(h=d(t,e.map(n),zh)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,qh),p()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),r=Ux,p()},g.clamp=function(v){return arguments.length?(l=v?!0:wr,p()):l!==wr},g.interpolate=function(v){return arguments.length?(r=v,p()):r},g.unknown=function(v){return arguments.length?(s=v,g):s},function(v,x){return n=v,i=x,p()}}function Fx(){return Lm()(wr,wr)}function L$(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $h(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ol(e){return e=$h(Math.abs(e)),e?e[1]:NaN}function B$(e,t){return function(r,n){for(var i=r.length,s=[],l=0,d=e[0],f=0;i>0&&d>0&&(f+d+1>n&&(d=Math.max(1,n-f)),s.push(r.substring(i-=d,i+d)),!((f+=d+1)>n));)d=e[l=(l+1)%e.length];return s.reverse().join(t)}}function z$(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var q$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function du(e){if(!(t=q$.exec(e)))throw new Error("invalid format: "+e);var t;return new Hx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}du.prototype=Hx.prototype;function Hx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Hx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $$(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Uh;function U$(e,t){var r=$h(e,t);if(!r)return Uh=void 0,e.toPrecision(t);var n=r[0],i=r[1],s=i-(Uh=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+$h(e,Math.max(0,t+s-1))[0]}function wN(e,t){var r=$h(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const jN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:L$,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>wN(e*100,t),r:wN,s:U$,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function SN(e){return e}var kN=Array.prototype.map,_N=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function F$(e){var t=e.grouping===void 0||e.thousands===void 0?SN:B$(kN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?SN:z$(kN.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(g,v){g=du(g);var x=g.fill,S=g.align,k=g.sign,j=g.symbol,_=g.zero,E=g.width,A=g.comma,T=g.precision,C=g.trim,O=g.type;O==="n"?(A=!0,O="g"):jN[O]||(T===void 0&&(T=12),C=!0,O="g"),(_||x==="0"&&S==="=")&&(_=!0,x="0",S="=");var M=(v&&v.prefix!==void 0?v.prefix:"")+(j==="$"?r:j==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),P=(j==="$"?n:/[%p]/.test(O)?l:"")+(v&&v.suffix!==void 0?v.suffix:""),I=jN[O],q=/[defgprs%]/.test(O);T=T===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function Z(U){var ce=M,$=P,te,L,F;if(O==="c")$=I(U)+$,U="";else{U=+U;var ae=U<0||1/U<0;if(U=isNaN(U)?f:I(Math.abs(U),T),C&&(U=$$(U)),ae&&+U==0&&k!=="+"&&(ae=!1),ce=(ae?k==="("?k:d:k==="-"||k==="("?"":k)+ce,$=(O==="s"&&!isNaN(U)&&Uh!==void 0?_N[8+Uh/3]:"")+$+(ae&&k==="("?")":""),q){for(te=-1,L=U.length;++te<L;)if(F=U.charCodeAt(te),48>F||F>57){$=(F===46?i+U.slice(te+1):U.slice(te))+$,U=U.slice(0,te);break}}}A&&!_&&(U=t(U,1/0));var ue=ce.length+U.length+$.length,ee=ue<E?new Array(E-ue+1).join(x):"";switch(A&&_&&(U=t(ee+U,ee.length?E-$.length:1/0),ee=""),S){case"<":U=ce+U+$+ee;break;case"=":U=ce+ee+U+$;break;case"^":U=ee.slice(0,ue=ee.length>>1)+ce+U+$+ee.slice(ue);break;default:U=ee+ce+U+$;break}return s(U)}return Z.toString=function(){return g+""},Z}function p(g,v){var x=Math.max(-8,Math.min(8,Math.floor(ol(v)/3)))*3,S=Math.pow(10,-x),k=h((g=du(g),g.type="f",g),{suffix:_N[8+x/3]});return function(j){return k(S*j)}}return{format:h,formatPrefix:p}}var zf,Gx,F5;H$({thousands:",",grouping:[3],currency:["$",""]});function H$(e){return zf=F$(e),Gx=zf.format,F5=zf.formatPrefix,zf}function G$(e){return Math.max(0,-ol(Math.abs(e)))}function K$(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ol(t)/3)))*3-ol(Math.abs(e)))}function W$(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ol(t)-ol(e))+1}function H5(e,t,r,n){var i=Sb(e,t,r),s;switch(n=du(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=K$(i,l))&&(n.precision=s),F5(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=W$(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=G$(i))&&(n.precision=s-(n.type==="%")*2);break}}return Gx(n)}function Fi(e){var t=e.domain;return e.ticks=function(r){var n=t();return wb(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return H5(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,l=n[i],d=n[s],f,h,p=10;for(d<l&&(h=l,l=d,d=h,h=i,i=s,s=h);p-- >0;){if(h=jb(l,d,r),h===f)return n[i]=l,n[s]=d,t(n);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;f=h}return e},e}function G5(){var e=Fx();return e.copy=function(){return Hu(e,G5())},xn.apply(e,arguments),Fi(e)}function K5(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,qh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return K5(e).unknown(t)},e=arguments.length?Array.from(e,qh):[0,1],Fi(r)}function W5(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],l;return s<i&&(l=r,r=n,n=l,l=i,i=s,s=l),e[r]=t.floor(i),e[n]=t.ceil(s),e}function AN(e){return Math.log(e)}function NN(e){return Math.exp(e)}function Y$(e){return-Math.log(-e)}function V$(e){return-Math.exp(-e)}function X$(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Z$(e){return e===10?X$:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Q$(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function EN(e){return(t,r)=>-e(-t,r)}function Kx(e){const t=e(AN,NN),r=t.domain;let n=10,i,s;function l(){return i=Q$(n),s=Z$(n),r()[0]<0?(i=EN(i),s=EN(s),e(Y$,V$)):e(AN,NN),t}return t.base=function(d){return arguments.length?(n=+d,l()):n},t.domain=function(d){return arguments.length?(r(d),l()):r()},t.ticks=d=>{const f=r();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let v=i(h),x=i(p),S,k;const j=d==null?10:+d;let _=[];if(!(n%1)&&x-v<j){if(v=Math.floor(v),x=Math.ceil(x),h>0){for(;v<=x;++v)for(S=1;S<n;++S)if(k=v<0?S/s(-v):S*s(v),!(k<h)){if(k>p)break;_.push(k)}}else for(;v<=x;++v)for(S=n-1;S>=1;--S)if(k=v>0?S/s(-v):S*s(v),!(k<h)){if(k>p)break;_.push(k)}_.length*2<j&&(_=wb(h,p,j))}else _=wb(v,x,Math.min(x-v,j)).map(s);return g?_.reverse():_},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=du(f)).precision==null&&(f.trim=!0),f=Gx(f)),d===1/0)return f;const h=Math.max(1,n*d/t.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*n<n-.5&&(g*=n),g<=h?f(p):""}},t.nice=()=>r(W5(r(),{floor:d=>s(Math.floor(i(d))),ceil:d=>s(Math.ceil(i(d)))})),t}function Y5(){const e=Kx(Lm()).domain([1,10]);return e.copy=()=>Hu(e,Y5()).base(e.base()),xn.apply(e,arguments),e}function ON(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function CN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Wx(e){var t=1,r=e(ON(t),CN(t));return r.constant=function(n){return arguments.length?e(ON(t=+n),CN(t)):t},Fi(r)}function V5(){var e=Wx(Lm());return e.copy=function(){return Hu(e,V5()).constant(e.constant())},xn.apply(e,arguments)}function TN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function J$(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function eU(e){return e<0?-e*e:e*e}function Yx(e){var t=e(wr,wr),r=1;function n(){return r===1?e(wr,wr):r===.5?e(J$,eU):e(TN(r),TN(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Fi(t)}function Vx(){var e=Yx(Lm());return e.copy=function(){return Hu(e,Vx()).exponent(e.exponent())},xn.apply(e,arguments),e}function tU(){return Vx.apply(null,arguments).exponent(.5)}function PN(e){return Math.sign(e)*e*e}function rU(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function X5(){var e=Fx(),t=[0,1],r=!1,n;function i(s){var l=rU(e(s));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(s){return e.invert(PN(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,qh)).map(PN)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return X5(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},xn.apply(i,arguments),Fi(i)}function Z5(){var e=[],t=[],r=[],n;function i(){var l=0,d=Math.max(1,t.length);for(r=new Array(d-1);++l<d;)r[l-1]=s$(e,l/d);return s}function s(l){return l==null||isNaN(l=+l)?n:t[Uu(r,l)]}return s.invertExtent=function(l){var d=t.indexOf(l);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let d of l)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Li),i()},s.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return Z5().domain(e).range(t).unknown(n)},xn.apply(s,arguments)}function Q5(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[Uu(n,f,0,r)]:s}function d(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},l.range=function(f){return arguments.length?(r=(i=Array.from(f)).length-1,d()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return n.slice()},l.copy=function(){return Q5().domain([e,t]).range(i).unknown(s)},xn.apply(Fi(l),arguments)}function J5(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Uu(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return J5().domain(e).range(t).unknown(r)},xn.apply(i,arguments)}const n0=new Date,a0=new Date;function Yt(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const l=i(s),d=i.ceil(s);return s-l<d-s?l:d},i.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,d)=>{const f=[];if(s=i.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return f;let h;do f.push(h=new Date(+s)),t(s,d),e(s);while(h<s&&s<l);return f},i.filter=s=>Yt(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;t(l,-1),!s(l););else for(;--d>=0;)for(;t(l,1),!s(l););}),r&&(i.count=(s,l)=>(n0.setTime(+s),a0.setTime(+l),e(n0),e(a0),Math.floor(r(n0,a0))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?l=>n(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const Fh=Yt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Fh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Fh);Fh.range;const La=1e3,gn=La*60,Ba=gn*60,Fa=Ba*24,Xx=Fa*7,RN=Fa*30,i0=Fa*365,Ss=Yt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*La)},(e,t)=>(t-e)/La,e=>e.getUTCSeconds());Ss.range;const Zx=Yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*La)},(e,t)=>{e.setTime(+e+t*gn)},(e,t)=>(t-e)/gn,e=>e.getMinutes());Zx.range;const Qx=Yt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gn)},(e,t)=>(t-e)/gn,e=>e.getUTCMinutes());Qx.range;const Jx=Yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*La-e.getMinutes()*gn)},(e,t)=>{e.setTime(+e+t*Ba)},(e,t)=>(t-e)/Ba,e=>e.getHours());Jx.range;const ew=Yt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ba)},(e,t)=>(t-e)/Ba,e=>e.getUTCHours());ew.range;const Gu=Yt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gn)/Fa,e=>e.getDate()-1);Gu.range;const Bm=Yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fa,e=>e.getUTCDate()-1);Bm.range;const eP=Yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fa,e=>Math.floor(e/Fa));eP.range;function qs(e){return Yt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*gn)/Xx)}const zm=qs(0),Hh=qs(1),nU=qs(2),aU=qs(3),ll=qs(4),iU=qs(5),sU=qs(6);zm.range;Hh.range;nU.range;aU.range;ll.range;iU.range;sU.range;function $s(e){return Yt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Xx)}const qm=$s(0),Gh=$s(1),oU=$s(2),lU=$s(3),cl=$s(4),cU=$s(5),uU=$s(6);qm.range;Gh.range;oU.range;lU.range;cl.range;cU.range;uU.range;const tw=Yt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());tw.range;const rw=Yt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());rw.range;const Ha=Yt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ha.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ha.range;const Ga=Yt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ga.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ga.range;function tP(e,t,r,n,i,s){const l=[[Ss,1,La],[Ss,5,5*La],[Ss,15,15*La],[Ss,30,30*La],[s,1,gn],[s,5,5*gn],[s,15,15*gn],[s,30,30*gn],[i,1,Ba],[i,3,3*Ba],[i,6,6*Ba],[i,12,12*Ba],[n,1,Fa],[n,2,2*Fa],[r,1,Xx],[t,1,RN],[t,3,3*RN],[e,1,i0]];function d(h,p,g){const v=p<h;v&&([h,p]=[p,h]);const x=g&&typeof g.range=="function"?g:f(h,p,g),S=x?x.range(h,+p+1):[];return v?S.reverse():S}function f(h,p,g){const v=Math.abs(p-h)/g,x=Lx(([,,j])=>j).right(l,v);if(x===l.length)return e.every(Sb(h/i0,p/i0,g));if(x===0)return Fh.every(Math.max(Sb(h,p,g),1));const[S,k]=l[v/l[x-1][2]<l[x][2]/v?x-1:x];return S.every(k)}return[d,f]}const[dU,fU]=tP(Ga,rw,qm,eP,ew,Qx),[hU,mU]=tP(Ha,tw,zm,Gu,Jx,Zx);function s0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function o0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function pU(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,l=e.shortDays,d=e.months,f=e.shortMonths,h=zc(i),p=qc(i),g=zc(s),v=qc(s),x=zc(l),S=qc(l),k=zc(d),j=qc(d),_=zc(f),E=qc(f),A={a:F,A:ae,b:ue,B:ee,c:null,d:zN,e:zN,f:BU,g:YU,G:XU,H:DU,I:IU,j:LU,L:rP,m:zU,M:qU,p:D,q:H,Q:UN,s:FN,S:$U,u:UU,U:FU,V:HU,w:GU,W:KU,x:null,X:null,y:WU,Y:VU,Z:ZU,"%":$N},T={a:Q,A:ie,b:me,B:le,c:null,d:qN,e:qN,f:tF,g:dF,G:hF,H:QU,I:JU,j:eF,L:aP,m:rF,M:nF,p:he,q:ot,Q:UN,s:FN,S:aF,u:iF,U:sF,V:oF,w:lF,W:cF,x:null,X:null,y:uF,Y:fF,Z:mF,"%":$N},C={a:q,A:Z,b:U,B:ce,c:$,d:LN,e:LN,f:TU,g:IN,G:DN,H:BN,I:BN,j:NU,L:CU,m:AU,M:EU,p:I,q:_U,Q:RU,s:MU,S:OU,u:xU,U:wU,V:jU,w:bU,W:SU,x:te,X:L,y:IN,Y:DN,Z:kU,"%":PU};A.x=O(r,A),A.X=O(n,A),A.c=O(t,A),T.x=O(r,T),T.X=O(n,T),T.c=O(t,T);function O(re,Ce){return function(Ie){var de=[],It=-1,Be=0,_t=re.length,Lt,wn,ni;for(Ie instanceof Date||(Ie=new Date(+Ie));++It<_t;)re.charCodeAt(It)===37&&(de.push(re.slice(Be,It)),(wn=MN[Lt=re.charAt(++It)])!=null?Lt=re.charAt(++It):wn=Lt==="e"?" ":"0",(ni=Ce[Lt])&&(Lt=ni(Ie,wn)),de.push(Lt),Be=It+1);return de.push(re.slice(Be,It)),de.join("")}}function M(re,Ce){return function(Ie){var de=Bc(1900,void 0,1),It=P(de,re,Ie+="",0),Be,_t;if(It!=Ie.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Ce&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Be=o0(Bc(de.y,0,1)),_t=Be.getUTCDay(),Be=_t>4||_t===0?Gh.ceil(Be):Gh(Be),Be=Bm.offset(Be,(de.V-1)*7),de.y=Be.getUTCFullYear(),de.m=Be.getUTCMonth(),de.d=Be.getUTCDate()+(de.w+6)%7):(Be=s0(Bc(de.y,0,1)),_t=Be.getDay(),Be=_t>4||_t===0?Hh.ceil(Be):Hh(Be),Be=Gu.offset(Be,(de.V-1)*7),de.y=Be.getFullYear(),de.m=Be.getMonth(),de.d=Be.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),_t="Z"in de?o0(Bc(de.y,0,1)).getUTCDay():s0(Bc(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(_t+5)%7:de.w+de.U*7-(_t+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,o0(de)):s0(de)}}function P(re,Ce,Ie,de){for(var It=0,Be=Ce.length,_t=Ie.length,Lt,wn;It<Be;){if(de>=_t)return-1;if(Lt=Ce.charCodeAt(It++),Lt===37){if(Lt=Ce.charAt(It++),wn=C[Lt in MN?Ce.charAt(It++):Lt],!wn||(de=wn(re,Ie,de))<0)return-1}else if(Lt!=Ie.charCodeAt(de++))return-1}return de}function I(re,Ce,Ie){var de=h.exec(Ce.slice(Ie));return de?(re.p=p.get(de[0].toLowerCase()),Ie+de[0].length):-1}function q(re,Ce,Ie){var de=x.exec(Ce.slice(Ie));return de?(re.w=S.get(de[0].toLowerCase()),Ie+de[0].length):-1}function Z(re,Ce,Ie){var de=g.exec(Ce.slice(Ie));return de?(re.w=v.get(de[0].toLowerCase()),Ie+de[0].length):-1}function U(re,Ce,Ie){var de=_.exec(Ce.slice(Ie));return de?(re.m=E.get(de[0].toLowerCase()),Ie+de[0].length):-1}function ce(re,Ce,Ie){var de=k.exec(Ce.slice(Ie));return de?(re.m=j.get(de[0].toLowerCase()),Ie+de[0].length):-1}function $(re,Ce,Ie){return P(re,t,Ce,Ie)}function te(re,Ce,Ie){return P(re,r,Ce,Ie)}function L(re,Ce,Ie){return P(re,n,Ce,Ie)}function F(re){return l[re.getDay()]}function ae(re){return s[re.getDay()]}function ue(re){return f[re.getMonth()]}function ee(re){return d[re.getMonth()]}function D(re){return i[+(re.getHours()>=12)]}function H(re){return 1+~~(re.getMonth()/3)}function Q(re){return l[re.getUTCDay()]}function ie(re){return s[re.getUTCDay()]}function me(re){return f[re.getUTCMonth()]}function le(re){return d[re.getUTCMonth()]}function he(re){return i[+(re.getUTCHours()>=12)]}function ot(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var Ce=O(re+="",A);return Ce.toString=function(){return re},Ce},parse:function(re){var Ce=M(re+="",!1);return Ce.toString=function(){return re},Ce},utcFormat:function(re){var Ce=O(re+="",T);return Ce.toString=function(){return re},Ce},utcParse:function(re){var Ce=M(re+="",!0);return Ce.toString=function(){return re},Ce}}}var MN={"-":"",_:" ",0:"0"},nr=/^\s*\d+/,gU=/^%/,vU=/[\\^$*+?|[\]().{}]/g;function Ye(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function yU(e){return e.replace(vU,"\\$&")}function zc(e){return new RegExp("^(?:"+e.map(yU).join("|")+")","i")}function qc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function bU(e,t,r){var n=nr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function xU(e,t,r){var n=nr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function wU(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function jU(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function SU(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function DN(e,t,r){var n=nr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function IN(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function kU(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function _U(e,t,r){var n=nr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function AU(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function LN(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function NU(e,t,r){var n=nr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function BN(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function EU(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function OU(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function CU(e,t,r){var n=nr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function TU(e,t,r){var n=nr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function PU(e,t,r){var n=gU.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function RU(e,t,r){var n=nr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function MU(e,t,r){var n=nr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function zN(e,t){return Ye(e.getDate(),t,2)}function DU(e,t){return Ye(e.getHours(),t,2)}function IU(e,t){return Ye(e.getHours()%12||12,t,2)}function LU(e,t){return Ye(1+Gu.count(Ha(e),e),t,3)}function rP(e,t){return Ye(e.getMilliseconds(),t,3)}function BU(e,t){return rP(e,t)+"000"}function zU(e,t){return Ye(e.getMonth()+1,t,2)}function qU(e,t){return Ye(e.getMinutes(),t,2)}function $U(e,t){return Ye(e.getSeconds(),t,2)}function UU(e){var t=e.getDay();return t===0?7:t}function FU(e,t){return Ye(zm.count(Ha(e)-1,e),t,2)}function nP(e){var t=e.getDay();return t>=4||t===0?ll(e):ll.ceil(e)}function HU(e,t){return e=nP(e),Ye(ll.count(Ha(e),e)+(Ha(e).getDay()===4),t,2)}function GU(e){return e.getDay()}function KU(e,t){return Ye(Hh.count(Ha(e)-1,e),t,2)}function WU(e,t){return Ye(e.getFullYear()%100,t,2)}function YU(e,t){return e=nP(e),Ye(e.getFullYear()%100,t,2)}function VU(e,t){return Ye(e.getFullYear()%1e4,t,4)}function XU(e,t){var r=e.getDay();return e=r>=4||r===0?ll(e):ll.ceil(e),Ye(e.getFullYear()%1e4,t,4)}function ZU(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ye(t/60|0,"0",2)+Ye(t%60,"0",2)}function qN(e,t){return Ye(e.getUTCDate(),t,2)}function QU(e,t){return Ye(e.getUTCHours(),t,2)}function JU(e,t){return Ye(e.getUTCHours()%12||12,t,2)}function eF(e,t){return Ye(1+Bm.count(Ga(e),e),t,3)}function aP(e,t){return Ye(e.getUTCMilliseconds(),t,3)}function tF(e,t){return aP(e,t)+"000"}function rF(e,t){return Ye(e.getUTCMonth()+1,t,2)}function nF(e,t){return Ye(e.getUTCMinutes(),t,2)}function aF(e,t){return Ye(e.getUTCSeconds(),t,2)}function iF(e){var t=e.getUTCDay();return t===0?7:t}function sF(e,t){return Ye(qm.count(Ga(e)-1,e),t,2)}function iP(e){var t=e.getUTCDay();return t>=4||t===0?cl(e):cl.ceil(e)}function oF(e,t){return e=iP(e),Ye(cl.count(Ga(e),e)+(Ga(e).getUTCDay()===4),t,2)}function lF(e){return e.getUTCDay()}function cF(e,t){return Ye(Gh.count(Ga(e)-1,e),t,2)}function uF(e,t){return Ye(e.getUTCFullYear()%100,t,2)}function dF(e,t){return e=iP(e),Ye(e.getUTCFullYear()%100,t,2)}function fF(e,t){return Ye(e.getUTCFullYear()%1e4,t,4)}function hF(e,t){var r=e.getUTCDay();return e=r>=4||r===0?cl(e):cl.ceil(e),Ye(e.getUTCFullYear()%1e4,t,4)}function mF(){return"+0000"}function $N(){return"%"}function UN(e){return+e}function FN(e){return Math.floor(+e/1e3)}var Io,sP,oP;pF({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pF(e){return Io=pU(e),sP=Io.format,Io.parse,oP=Io.utcFormat,Io.utcParse,Io}function gF(e){return new Date(e)}function vF(e){return e instanceof Date?+e:+new Date(+e)}function nw(e,t,r,n,i,s,l,d,f,h){var p=Fx(),g=p.invert,v=p.domain,x=h(".%L"),S=h(":%S"),k=h("%I:%M"),j=h("%I %p"),_=h("%a %d"),E=h("%b %d"),A=h("%B"),T=h("%Y");function C(O){return(f(O)<O?x:d(O)<O?S:l(O)<O?k:s(O)<O?j:n(O)<O?i(O)<O?_:E:r(O)<O?A:T)(O)}return p.invert=function(O){return new Date(g(O))},p.domain=function(O){return arguments.length?v(Array.from(O,vF)):v().map(gF)},p.ticks=function(O){var M=v();return e(M[0],M[M.length-1],O??10)},p.tickFormat=function(O,M){return M==null?C:h(M)},p.nice=function(O){var M=v();return(!O||typeof O.range!="function")&&(O=t(M[0],M[M.length-1],O??10)),O?v(W5(M,O)):p},p.copy=function(){return Hu(p,nw(e,t,r,n,i,s,l,d,f,h))},p}function yF(){return xn.apply(nw(hU,mU,Ha,tw,zm,Gu,Jx,Zx,Ss,sP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bF(){return xn.apply(nw(dU,fU,Ga,rw,qm,Bm,ew,Qx,Ss,oP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $m(){var e=0,t=1,r,n,i,s,l=wr,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(i===0?.5:(g=(s(g)-r)*i,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(v){var x,S;return arguments.length?([x,S]=v,l=g(x,S),h):[l(0),l(1)]}}return h.range=p(wl),h.rangeRound=p(Ux),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,r=g(e),n=g(t),i=r===n?0:1/(n-r),h}}function Hi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function lP(){var e=Fi($m()(wr));return e.copy=function(){return Hi(e,lP())},Qa.apply(e,arguments)}function cP(){var e=Kx($m()).domain([1,10]);return e.copy=function(){return Hi(e,cP()).base(e.base())},Qa.apply(e,arguments)}function uP(){var e=Wx($m());return e.copy=function(){return Hi(e,uP()).constant(e.constant())},Qa.apply(e,arguments)}function aw(){var e=Yx($m());return e.copy=function(){return Hi(e,aw()).exponent(e.exponent())},Qa.apply(e,arguments)}function xF(){return aw.apply(null,arguments).exponent(.5)}function dP(){var e=[],t=wr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Uu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Li),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>i$(e,s/n))},r.copy=function(){return dP(t).domain(e)},Qa.apply(r,arguments)}function Um(){var e=0,t=.5,r=1,n=1,i,s,l,d,f,h=wr,p,g=!1,v;function x(k){return isNaN(k=+k)?v:(k=.5+((k=+p(k))-s)*(n*k<n*s?d:f),h(g?Math.max(0,Math.min(1,k)):k))}x.domain=function(k){return arguments.length?([e,t,r]=k,i=p(e=+e),s=p(t=+t),l=p(r=+r),d=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),n=s<i?-1:1,x):[e,t,r]},x.clamp=function(k){return arguments.length?(g=!!k,x):g},x.interpolator=function(k){return arguments.length?(h=k,x):h};function S(k){return function(j){var _,E,A;return arguments.length?([_,E,A]=j,h=P$(k,[_,E,A]),x):[h(0),h(.5),h(1)]}}return x.range=S(wl),x.rangeRound=S(Ux),x.unknown=function(k){return arguments.length?(v=k,x):v},function(k){return p=k,i=k(e),s=k(t),l=k(r),d=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),n=s<i?-1:1,x}}function fP(){var e=Fi(Um()(wr));return e.copy=function(){return Hi(e,fP())},Qa.apply(e,arguments)}function hP(){var e=Kx(Um()).domain([.1,1,10]);return e.copy=function(){return Hi(e,hP()).base(e.base())},Qa.apply(e,arguments)}function mP(){var e=Wx(Um());return e.copy=function(){return Hi(e,mP()).constant(e.constant())},Qa.apply(e,arguments)}function iw(){var e=Yx(Um());return e.copy=function(){return Hi(e,iw()).exponent(e.exponent())},Qa.apply(e,arguments)}function wF(){return iw.apply(null,arguments).exponent(.5)}const Gc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zx,scaleDiverging:fP,scaleDivergingLog:hP,scaleDivergingPow:iw,scaleDivergingSqrt:wF,scaleDivergingSymlog:mP,scaleIdentity:K5,scaleImplicit:kb,scaleLinear:G5,scaleLog:Y5,scaleOrdinal:Bx,scalePoint:l$,scalePow:Vx,scaleQuantile:Z5,scaleQuantize:Q5,scaleRadial:X5,scaleSequential:lP,scaleSequentialLog:cP,scaleSequentialPow:aw,scaleSequentialQuantile:dP,scaleSequentialSqrt:xF,scaleSequentialSymlog:uP,scaleSqrt:tU,scaleSymlog:V5,scaleThreshold:J5,scaleTime:yF,scaleUtc:bF,tickFormat:H5},Symbol.toStringTag,{value:"Module"}));var Ja=e=>e.chartData,Fm=K([Ja],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),sw=(e,t,r,n)=>n?Fm(e):Ja(e),jF=(e,t,r)=>r?Fm(e):Ja(e);function Ka(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(De(t)&&De(r))return!0}return!1}function HN(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function pP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(De(r))i=r;else if(typeof r=="function")return;if(De(n))s=n;else if(typeof n=="function")return;var l=[i,s];if(Ka(l))return l}}function SF(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ka(n))return HN(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,l,d;if(i==="auto")t!=null&&(l=Math.min(...t));else if(be(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t?.[0]))}catch{}else if(typeof i=="string"&&eA.test(i)){var f=eA.exec(i);if(f==null||f[1]==null||t==null)l=void 0;else{var h=+f[1];l=t[0]-h}}else l=t?.[0];if(s==="auto")t!=null&&(d=Math.max(...t));else if(be(s))d=s;else if(typeof s=="function")try{t!=null&&(d=s(t?.[1]))}catch{}else if(typeof s=="string"&&tA.test(s)){var p=tA.exec(s);if(p==null||p[1]==null||t==null)d=void 0;else{var g=+p[1];d=t[1]+g}}else d=t?.[1];var v=[l,d];if(Ka(v))return t==null?v:HN(v,t,r)}}}var jl=1e9,kF={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lw,bt=!0,bn="[DecimalError] ",Es=bn+"Invalid argument: ",ow=bn+"Exponent out of range: ",Sl=Math.floor,vs=Math.pow,_F=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gr,er=1e7,mt=7,gP=9007199254740991,Kh=Sl(gP/mt),ge={};ge.absoluteValue=ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ge.comparedTo=ge.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*mt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ge.dividedBy=ge.div=function(e){return za(this,new this.constructor(e))};ge.dividedToIntegerBy=ge.idiv=function(e){var t=this,r=t.constructor;return st(za(t,new r(e),0,1),r.precision)};ge.equals=ge.eq=function(e){return!this.cmp(e)};ge.exponent=function(){return Ft(this)};ge.greaterThan=ge.gt=function(e){return this.cmp(e)>0};ge.greaterThanOrEqualTo=ge.gte=function(e){return this.cmp(e)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(e){return this.cmp(e)<0};ge.lessThanOrEqualTo=ge.lte=function(e){return this.cmp(e)<1};ge.logarithm=ge.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Gr))throw Error(bn+"NaN");if(r.s<1)throw Error(bn+(r.s?"NaN":"-Infinity"));return r.eq(Gr)?new n(0):(bt=!1,t=za(fu(r,s),fu(e,s),s),bt=!0,st(t,i))};ge.minus=ge.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bP(t,e):vP(t,(e.s=-e.s,e))};ge.modulo=ge.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(bn+"NaN");return r.s?(bt=!1,t=za(r,e,0,1).times(e),bt=!0,r.minus(t)):st(new n(r),i)};ge.naturalExponential=ge.exp=function(){return yP(this)};ge.naturalLogarithm=ge.ln=function(){return fu(this)};ge.negated=ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ge.plus=ge.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vP(t,e):bP(t,(e.s=-e.s,e))};ge.precision=ge.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Es+e);if(t=Ft(i)+1,n=i.d.length-1,r=n*mt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ge.squareRoot=ge.sqrt=function(){var e,t,r,n,i,s,l,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(bn+"NaN")}for(e=Ft(d),bt=!1,i=Math.sqrt(+d),i==0||i==1/0?(t=ea(d.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Sl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(i.toString()),r=f.precision,i=l=r+3;;)if(s=n,n=s.plus(za(d,s,l+2)).times(.5),ea(s.d).slice(0,l)===(t=ea(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(st(s,r+1,0),s.times(s).eq(d)){n=s;break}}else if(t!="9999")break;l+=4}return bt=!0,st(n,r)};ge.times=ge.mul=function(e){var t,r,n,i,s,l,d,f,h,p=this,g=p.constructor,v=p.d,x=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,r=p.e+e.e,f=v.length,h=x.length,f<h&&(s=v,v=x,x=s,l=f,f=h,h=l),s=[],l=f+h,n=l;n--;)s.push(0);for(n=h;--n>=0;){for(t=0,i=f+n;i>n;)d=s[i]+x[n]*v[i-n-1]+t,s[i--]=d%er|0,t=d/er|0;s[i]=(s[i]+t)%er|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,bt?st(e,g.precision):e};ge.toDecimalPlaces=ge.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ia(e,0,jl),t===void 0?t=n.rounding:ia(t,0,8),st(r,e+Ft(r)+1,t))};ge.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ms(n,!0):(ia(e,0,jl),t===void 0?t=i.rounding:ia(t,0,8),n=st(new i(n),e+1,t),r=Ms(n,!0,e+1)),r};ge.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Ms(i):(ia(e,0,jl),t===void 0?t=s.rounding:ia(t,0,8),n=st(new s(i),e+Ft(i)+1,t),r=Ms(n.abs(),!1,e+Ft(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ge.toInteger=ge.toint=function(){var e=this,t=e.constructor;return st(new t(e),Ft(e)+1,t.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(e){var t,r,n,i,s,l,d=this,f=d.constructor,h=12,p=+(e=new f(e));if(!e.s)return new f(Gr);if(d=new f(d),!d.s){if(e.s<1)throw Error(bn+"Infinity");return d}if(d.eq(Gr))return d;if(n=f.precision,e.eq(Gr))return st(d,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=d.s,l){if((r=p<0?-p:p)<=gP){for(i=new f(Gr),t=Math.ceil(n/mt+4),bt=!1;r%2&&(i=i.times(d),KN(i.d,t)),r=Sl(r/2),r!==0;)d=d.times(d),KN(d.d,t);return bt=!0,e.s<0?new f(Gr).div(i):st(i,n)}}else if(s<0)throw Error(bn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,bt=!1,i=e.times(fu(d,n+h)),bt=!0,i=yP(i),i.s=s,i};ge.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=Ft(i),n=Ms(i,r<=s.toExpNeg||r>=s.toExpPos)):(ia(e,1,jl),t===void 0?t=s.rounding:ia(t,0,8),i=st(new s(i),e,t),r=Ft(i),n=Ms(i,e<=r||r<=s.toExpNeg,e)),n};ge.toSignificantDigits=ge.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ia(e,1,jl),t===void 0?t=n.rounding:ia(t,0,8)),st(new n(r),e,t)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ft(e),r=e.constructor;return Ms(e,t<=r.toExpNeg||t>=r.toExpPos)};function vP(e,t){var r,n,i,s,l,d,f,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),bt?st(t,g):t;if(f=e.d,h=t.d,l=e.e,i=t.e,f=f.slice(),s=l-i,s){for(s<0?(n=f,s=-s,d=h.length):(n=h,i=l,d=f.length),l=Math.ceil(g/mt),d=l>d?l+1:d+1,s>d&&(s=d,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,n=h,h=f,f=n),r=0;s;)r=(f[--s]=f[s]+h[s]+r)/er|0,f[s]%=er;for(r&&(f.unshift(r),++i),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=i,bt?st(t,g):t}function ia(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Es+e)}function ea(e){var t,r,n,i=e.length-1,s="",l=e[0];if(i>0){for(s+=l,t=1;t<i;t++)n=e[t]+"",r=mt-n.length,r&&(s+=Ti(r)),s+=n;l=e[t],n=l+"",r=mt-n.length,r&&(s+=Ti(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var za=(function(){function e(n,i){var s,l=0,d=n.length;for(n=n.slice();d--;)s=n[d]*i+l,n[d]=s%er|0,l=s/er|0;return l&&n.unshift(l),n}function t(n,i,s,l){var d,f;if(s!=l)f=s>l?1:-1;else for(d=f=0;d<s;d++)if(n[d]!=i[d]){f=n[d]>i[d]?1:-1;break}return f}function r(n,i,s){for(var l=0;s--;)n[s]-=l,l=n[s]<i[s]?1:0,n[s]=l*er+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,l){var d,f,h,p,g,v,x,S,k,j,_,E,A,T,C,O,M,P,I=n.constructor,q=n.s==i.s?1:-1,Z=n.d,U=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(bn+"Division by zero");for(f=n.e-i.e,M=U.length,C=Z.length,x=new I(q),S=x.d=[],h=0;U[h]==(Z[h]||0);)++h;if(U[h]>(Z[h]||0)&&--f,s==null?E=s=I.precision:l?E=s+(Ft(n)-Ft(i))+1:E=s,E<0)return new I(0);if(E=E/mt+2|0,h=0,M==1)for(p=0,U=U[0],E++;(h<C||p)&&E--;h++)A=p*er+(Z[h]||0),S[h]=A/U|0,p=A%U|0;else{for(p=er/(U[0]+1)|0,p>1&&(U=e(U,p),Z=e(Z,p),M=U.length,C=Z.length),T=M,k=Z.slice(0,M),j=k.length;j<M;)k[j++]=0;P=U.slice(),P.unshift(0),O=U[0],U[1]>=er/2&&++O;do p=0,d=t(U,k,M,j),d<0?(_=k[0],M!=j&&(_=_*er+(k[1]||0)),p=_/O|0,p>1?(p>=er&&(p=er-1),g=e(U,p),v=g.length,j=k.length,d=t(g,k,v,j),d==1&&(p--,r(g,M<v?P:U,v))):(p==0&&(d=p=1),g=U.slice()),v=g.length,v<j&&g.unshift(0),r(k,g,j),d==-1&&(j=k.length,d=t(U,k,M,j),d<1&&(p++,r(k,M<j?P:U,j))),j=k.length):d===0&&(p++,k=[0]),S[h++]=p,d&&k[0]?k[j++]=Z[T]||0:(k=[Z[T]],j=1);while((T++<C||k[0]!==void 0)&&E--)}return S[0]||S.shift(),x.e=f,st(x,l?s+Ft(x)+1:s)}})();function yP(e,t){var r,n,i,s,l,d,f=0,h=0,p=e.constructor,g=p.precision;if(Ft(e)>16)throw Error(ow+Ft(e));if(!e.s)return new p(Gr);for(bt=!1,d=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(n=Math.log(vs(2,h))/Math.LN10*2+5|0,d+=n,r=i=s=new p(Gr),p.precision=d;;){if(i=st(i.times(e),d),r=r.times(++f),l=s.plus(za(i,r,d)),ea(l.d).slice(0,d)===ea(s.d).slice(0,d)){for(;h--;)s=st(s.times(s),d);return p.precision=g,t==null?(bt=!0,st(s,g)):s}s=l}}function Ft(e){for(var t=e.e*mt,r=e.d[0];r>=10;r/=10)t++;return t}function l0(e,t,r){if(t>e.LN10.sd())throw bt=!0,r&&(e.precision=r),Error(bn+"LN10 precision limit exceeded");return st(new e(e.LN10),t)}function Ti(e){for(var t="";e--;)t+="0";return t}function fu(e,t){var r,n,i,s,l,d,f,h,p,g=1,v=10,x=e,S=x.d,k=x.constructor,j=k.precision;if(x.s<1)throw Error(bn+(x.s?"NaN":"-Infinity"));if(x.eq(Gr))return new k(0);if(t==null?(bt=!1,h=j):h=t,x.eq(10))return t==null&&(bt=!0),l0(k,h);if(h+=v,k.precision=h,r=ea(S),n=r.charAt(0),s=Ft(x),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=ea(x.d),n=r.charAt(0),g++;s=Ft(x),n>1?(x=new k("0."+r),s++):x=new k(n+"."+r.slice(1))}else return f=l0(k,h+2,j).times(s+""),x=fu(new k(n+"."+r.slice(1)),h-v).plus(f),k.precision=j,t==null?(bt=!0,st(x,j)):x;for(d=l=x=za(x.minus(Gr),x.plus(Gr),h),p=st(x.times(x),h),i=3;;){if(l=st(l.times(p),h),f=d.plus(za(l,new k(i),h)),ea(f.d).slice(0,h)===ea(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(l0(k,h+2,j).times(s+""))),d=za(d,new k(g),h),k.precision=j,t==null?(bt=!0,st(d,j)):d;d=f,i+=2}}function GN(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Sl(r/mt),e.d=[],n=(r+1)%mt,r<0&&(n+=mt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=mt;n<i;)e.d.push(+t.slice(n,n+=mt));t=t.slice(n),n=mt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),bt&&(e.e>Kh||e.e<-Kh))throw Error(ow+r)}else e.s=0,e.e=0,e.d=[0];return e}function st(e,t,r){var n,i,s,l,d,f,h,p,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=mt,i=t,h=g[p=0];else{if(p=Math.ceil((n+1)/mt),s=g.length,p>=s)return e;for(h=s=g[p],l=1;s>=10;s/=10)l++;n%=mt,i=n-mt+l}if(r!==void 0&&(s=vs(10,l-i-1),d=h/s%10|0,f=t<0||g[p+1]!==void 0||h%s,f=r<4?(d||f)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||f||r==6&&(n>0?i>0?h/vs(10,l-i):0:g[p-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return f?(s=Ft(e),g.length=1,t=t-s-1,g[0]=vs(10,(mt-t%mt)%mt),e.e=Sl(-t/mt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=p,s=1,p--):(g.length=p+1,s=vs(10,mt-n),g[p]=i>0?(h/vs(10,l-i)%vs(10,i)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==er&&(g[0]=1,++e.e);break}else{if(g[p]+=s,g[p]!=er)break;g[p--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(bt&&(e.e>Kh||e.e<-Kh))throw Error(ow+Ft(e));return e}function bP(e,t){var r,n,i,s,l,d,f,h,p,g,v=e.constructor,x=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),bt?st(t,x):t;if(f=e.d,g=t.d,n=t.e,h=e.e,f=f.slice(),l=h-n,l){for(p=l<0,p?(r=f,l=-l,d=g.length):(r=g,n=h,d=f.length),i=Math.max(Math.ceil(x/mt),d)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=f.length,d=g.length,p=i<d,p&&(d=i),i=0;i<d;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}l=0}for(p&&(r=f,f=g,g=r,t.s=-t.s),d=f.length,i=g.length-d;i>0;--i)f[d++]=0;for(i=g.length;i>l;){if(f[--i]<g[i]){for(s=i;s&&f[--s]===0;)f[s]=er-1;--f[s],f[i]+=er}f[i]-=g[i]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,bt?st(t,x):t):new v(0)}function Ms(e,t,r){var n,i=Ft(e),s=ea(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+Ti(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ti(-i-1)+s,r&&(n=r-l)>0&&(s+=Ti(n))):i>=l?(s+=Ti(i+1-l),r&&(n=r-i-1)>0&&(s=s+"."+Ti(n))):((n=i+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(s+="."),s+=Ti(n))),e.s<0?"-"+s:s}function KN(e,t){if(e.length>t)return e.length=t,!0}function xP(e){var t,r,n;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Es+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return GN(l,s.toString())}else if(typeof s!="string")throw Error(Es+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,_F.test(s))GN(l,s);else throw Error(Es+s)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=xP,i.config=i.set=AF,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function AF(e){if(!e||typeof e!="object")throw Error(bn+"Object expected");var t,r,n,i=["precision",1,jl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Sl(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Es+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Es+r+": "+n);return this}var lw=xP(kF);Gr=new lw(1);const Qe=lw;function wP(e){var t;return e===0?t=1:t=Math.floor(new Qe(e).abs().log(10).toNumber())+1,t}function jP(e,t,r){for(var n=new Qe(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var SP=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},kP=(e,t,r)=>{if(e.lte(0))return new Qe(0);var n=wP(e.toNumber()),i=new Qe(10).pow(n),s=e.div(i),l=n!==1?.05:.1,d=new Qe(Math.ceil(s.div(l).toNumber())).add(r).mul(l),f=d.mul(i);return t?new Qe(f.toNumber()):new Qe(Math.ceil(f.toNumber()))},NF=(e,t,r)=>{var n=new Qe(1),i=new Qe(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new Qe(10).pow(wP(e)-1),i=new Qe(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Qe(Math.floor(e)))}else e===0?i=new Qe(Math.floor((t-1)/2)):r||(i=new Qe(Math.floor(e)));for(var l=Math.floor((t-1)/2),d=[],f=0;f<t;f++)d.push(i.add(new Qe(f-l).mul(n)).toNumber());return d},_P=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Qe(0),tickMin:new Qe(0),tickMax:new Qe(0)};var l=kP(new Qe(r).sub(t).div(n-1),i,s),d;t<=0&&r>=0?d=new Qe(0):(d=new Qe(t).add(r).div(2),d=d.sub(new Qe(d).mod(l)));var f=Math.ceil(d.sub(t).div(l).toNumber()),h=Math.ceil(new Qe(r).sub(d).div(l).toNumber()),p=f+h+1;return p>n?_P(t,r,n,i,s+1):(p<n&&(h=r>0?h+(n-p):h,f=r>0?f:f+(n-p)),{step:l,tickMin:d.sub(new Qe(f).mul(l)),tickMax:d.add(new Qe(h).mul(l))})},EF=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[d,f]=SP([r,n]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),f];return r>n?h.reverse():h}if(d===f)return NF(d,i,s);var{step:p,tickMin:g,tickMax:v}=_P(d,f,l,s,0),x=jP(g,v.add(new Qe(.1).mul(p)),p);return r>n?x.reverse():x},OF=function(t,r){var[n,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,d]=SP([n,i]);if(l===-1/0||d===1/0)return[n,i];if(l===d)return[l];var f=Math.max(r,2),h=kP(new Qe(d).sub(l).div(f-1),s,0),p=[...jP(new Qe(l),new Qe(d),h),d];return s===!1&&(p=p.map(g=>Math.round(g))),n>i?p.reverse():p},AP=e=>e.rootProps.maxBarSize,CF=e=>e.rootProps.barGap,NP=e=>e.rootProps.barCategoryGap,TF=e=>e.rootProps.barSize,Ku=e=>e.rootProps.stackOffset,EP=e=>e.rootProps.reverseStackOrder,cw=e=>e.options.chartName,uw=e=>e.rootProps.syncId,OP=e=>e.rootProps.syncMethod,dw=e=>e.options.eventEmitter,kt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ci={allowDecimals:!1,allowDuplicatedCategory:!0,allowDataOverflow:!1,angle:0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,hide:!1,includeHidden:!1,label:!1,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"auto",zIndex:kt.axis},An={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,tickLine:!0,type:"auto",zIndex:kt.axis},Hm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function kl(e,t,r){if(r!=="auto")return r;if(e!=null)return ua(e,t)?"category":"number"}function WN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(r),!0).forEach(function(n){PF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PF(e,t,r){return(t=RF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RF(e){var t=MF(e,"string");return typeof t=="symbol"?t:t+""}function MF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YN={allowDataOverflow:Ci.allowDataOverflow,allowDecimals:Ci.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ci.angleAxisId,includeHidden:!1,name:void 0,reversed:Ci.reversed,scale:Ci.scale,tick:Ci.tick,tickCount:void 0,ticks:void 0,type:Ci.type,unit:void 0},VN={allowDataOverflow:An.allowDataOverflow,allowDecimals:An.allowDecimals,allowDuplicatedCategory:An.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:An.radiusAxisId,includeHidden:An.includeHidden,name:void 0,reversed:An.reversed,scale:An.scale,tick:An.tick,tickCount:An.tickCount,ticks:void 0,type:An.type,unit:void 0},DF=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},_l=K([DF,Mx],(e,t)=>{var r;if(e!=null)return e;var n=(r=kl(t,"angleAxis",YN.type))!==null&&r!==void 0?r:"category";return Wh(Wh({},YN),{},{type:n})}),IF=(e,t)=>e.polarAxis.radiusAxis[t],Wu=K([IF,Mx],(e,t)=>{var r;if(e!=null)return e;var n=(r=kl(t,"radiusAxis",VN.type))!==null&&r!==void 0?r:"category";return Wh(Wh({},VN),{},{type:n})}),Gm=e=>e.polarOptions,fw=K([Xa,Za,rr],Rq),CP=K([Gm,fw],(e,t)=>{if(e!=null)return Bn(e.innerRadius,t,0)}),TP=K([Gm,fw],(e,t)=>{if(e!=null)return Bn(e.outerRadius,t,t*.8)}),LF=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},PP=K([Gm],LF),BF=K([_l,PP],Hm),RP=K([fw,CP,TP],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]}),zF=K([Wu,RP],Hm),Al=K([Fe,Gm,CP,TP,Xa,Za],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:d,startAngle:f,endAngle:h}=t;return{cx:Bn(l,i,i/2),cy:Bn(d,s,s/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:h,clockWise:!1}}}),dt=(e,t)=>t,Yu=(e,t,r)=>r;function hw(e){return e?.id}function MP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=r,l=new Map;return e.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:n;if(!(h==null||h.length===0)){var p=hw(d);h.forEach((g,v)=>{var x=s==null||i?v:String(wt(g,s,null)),S=wt(g,d.dataKey,0),k;l.has(x)?k=l.get(x):k={},Object.assign(k,{[p]:S}),l.set(x,k)})}}),Array.from(l.values())}function Km(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Wm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ym(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function qF(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var ar=e=>{var t=Fe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Nl=e=>e.tooltip.settings.axisId;function $F(e){if(e in Gc)return Gc[e]();var t="scale".concat(Ru(e));if(t in Gc)return Gc[t]()}function XN(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(s){function l(){return s.apply(this,arguments)}return l.toString=function(){return s.toString()},l})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var l=i[0],d=i[1];return l<=d?s>=l&&s<=d:s>=d&&s<=l},bandwidth:r?()=>r.call(e):void 0,ticks:t?s=>t.call(e,s):void 0,map:(s,l)=>{var d=e(s);if(d!=null){if(e.bandwidth&&l!==null&&l!==void 0&&l.position){var f=e.bandwidth();switch(l.position){case"middle":d+=f/2;break;case"end":d+=f;break}}return d}}}}function ZN(e,t,r){if(typeof e=="function")return XN(e.copy().domain(t).range(r));if(e!=null){var n=$F(e);if(n!=null)return n.domain(t).range(r),XN(n)}}var DP=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Ka(t)){for(var r,n,i=0;i<t.length;i++){var s=t[i];De(s)&&((r===void 0||s<r)&&(r=s),(n===void 0||s>n)&&(n=s))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function QN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(r),!0).forEach(function(n){UF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UF(e,t,r){return(t=FF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FF(e){var t=HF(e,"string");return typeof t=="symbol"?t:t+""}function HF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eb=[0,"auto"],Qt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},IP=(e,t)=>e.cartesianAxis.xAxis[t],da=(e,t)=>{var r=IP(e,t);return r??Qt},Jt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Eb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Iu},LP=(e,t)=>e.cartesianAxis.yAxis[t],fa=(e,t)=>{var r=LP(e,t);return r??Jt},GF={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},mw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??GF},Tt=(e,t,r)=>{switch(t){case"xAxis":return da(e,r);case"yAxis":return fa(e,r);case"zAxis":return mw(e,r);case"angleAxis":return _l(e,r);case"radiusAxis":return Wu(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},KF=(e,t,r)=>{switch(t){case"xAxis":return da(e,r);case"yAxis":return fa(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Us=(e,t,r)=>{switch(t){case"xAxis":return da(e,r);case"yAxis":return fa(e,r);case"angleAxis":return _l(e,r);case"radiusAxis":return Wu(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},BP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function pw(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Vm=e=>e.graphicalItems.cartesianItems,WF=K([dt,Yu],pw),gw=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Vu=K([Vm,Tt,WF],gw,{memoizeOptions:{resultEqualityCheck:Ym}}),zP=K([Vu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Km)),qP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),YF=K([Vu],qP),vw=e=>e.map(t=>t.data).filter(Boolean).flat(1),VF=K([Vu],vw,{memoizeOptions:{resultEqualityCheck:Ym}}),yw=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},bw=K([VF,sw],yw),xw=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:wt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:wt(i,n)}))):e.map(n=>({value:n})),Xm=K([bw,Tt,Vu],xw);function $P(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function nh(e){if(vn(e)||e instanceof Date){var t=Number(e);if(De(t))return t}}function JN(e){if(Array.isArray(e)){var t=[nh(e[0]),nh(e[1])];return Ka(t)?t:void 0}var r=nh(e);if(r!=null)return[r,r]}function Wa(e){return e.map(nh).filter(Pr)}function XF(e,t,r){return!r||typeof t!="number"||na(t)?[]:r.length?Wa(r.flatMap(n=>{var i=wt(e,n.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!De(s)||!De(l)))return[t-s,t+l]})):[]}var Vt=e=>{var t=ar(e),r=Nl(e);return Us(e,t,r)},Xu=K([Vt],e=>e?.dataKey),ZF=K([zP,sw,Vt],MP),UP=(e,t,r,n)=>{var i={},s=t.reduce((l,d)=>{if(d.stackId==null)return l;var f=l[d.stackId];return f==null&&(f=[]),f.push(d),l[d.stackId]=f,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[d,f]=l,h=n?[...f].reverse():f,p=h.map(hw);return[d,{stackedData:fz(e,p,r),graphicalItems:h}]}))},Ob=K([ZF,zP,Ku,EP],UP),FP=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var l=vz(e,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},QF=K([Tt],e=>e.allowDataOverflow),ww=e=>{var t;if(e==null||!("domain"in e))return Eb;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Wa(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Eb},jw=K([Tt],ww),Sw=K([jw,QF],pP),JF=K([Ob,Ja,dt,Sw],FP,{memoizeOptions:{resultEqualityCheck:Wm}}),Zm=e=>e.errorBars,e9=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>$P(r,n)),Vh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),d=Math.max(...s);return[l,d]}},kw=(e,t,r,n,i)=>{var s,l;if(r.length>0&&e.forEach(d=>{r.forEach(f=>{var h,p,g=(h=n[f.id])===null||h===void 0?void 0:h.filter(_=>$P(i,_)),v=wt(d,(p=t.dataKey)!==null&&p!==void 0?p:f.dataKey),x=XF(d,v,g);if(x.length>=2){var S=Math.min(...x),k=Math.max(...x);(s==null||S<s)&&(s=S),(l==null||k>l)&&(l=k)}var j=JN(v);j!=null&&(s=s==null?j[0]:Math.min(s,j[0]),l=l==null?j[1]:Math.max(l,j[1]))})}),t?.dataKey!=null&&e.forEach(d=>{var f=JN(wt(d,t.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),De(s)&&De(l))return[s,l]},t9=K([bw,Tt,YF,Zm,dt],kw,{memoizeOptions:{resultEqualityCheck:Wm}});function r9(e){var{value:t}=e;if(vn(t)||t instanceof Date)return t}var n9=(e,t,r)=>{var n=e.map(r9).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&fT(n))?D5(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},HP=e=>e.referenceElements.dots,El=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),a9=K([HP,dt,Yu],El),GP=e=>e.referenceElements.areas,i9=K([GP,dt,Yu],El),KP=e=>e.referenceElements.lines,s9=K([KP,dt,Yu],El),WP=(e,t)=>{if(e!=null){var r=Wa(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},o9=K(a9,dt,WP),YP=(e,t)=>{if(e!=null){var r=Wa(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},l9=K([i9,dt],YP);function c9(e){var t;if(e.x!=null)return Wa([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Wa(r)}function u9(e){var t;if(e.y!=null)return Wa([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Wa(r)}var VP=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?c9(n):u9(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},d9=K([s9,dt],VP),f9=K(o9,d9,l9,(e,t,r)=>Vh(e,r,t)),_w=(e,t,r,n,i,s,l,d)=>{if(r!=null)return r;var f=l==="vertical"&&d==="xAxis"||l==="horizontal"&&d==="yAxis",h=f?Vh(n,s,i):Vh(s,i);return SF(t,h,e.allowDataOverflow)},h9=K([Tt,jw,Sw,JF,t9,f9,Fe,dt],_w,{memoizeOptions:{resultEqualityCheck:Wm}}),m9=[0,1],Aw=(e,t,r,n,i,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:d,type:f}=e,h=ua(t,s);if(h&&d==null){var p;return D5(0,(p=r?.length)!==null&&p!==void 0?p:0)}return f==="category"?n9(n,e,h):i==="expand"?m9:l}},Nw=K([Tt,Fe,bw,Xm,Ku,dt,h9],Aw);function p9(e){return e in Gc}var XP=(e,t,r)=>{if(e!=null){var{scale:n,type:i}=e;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var s="scale".concat(Ru(n));return p9(s)?s:"point"}}},ha=K([Tt,BP,cw],XP);function Qm(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?ZN(e.scale,r,n):ZN(t,r,n)}var Ew=(e,t,r)=>{var n=ww(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ka(e))return EF(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ka(e))return OF(e,t.tickCount,t.allowDecimals)}},Ow=K([Nw,Us,ha],Ew),Cw=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Ka(t)&&Array.isArray(r)&&r.length>0){var i,s,l=t[0],d=(i=r[0])!==null&&i!==void 0?i:0,f=t[1],h=(s=r[r.length-1])!==null&&s!==void 0?s:0;return[Math.min(l,d),Math.max(f,h)]}return t},g9=K([Tt,Nw,Ow,dt],Cw),v9=K(Xm,Tt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Wa(e.map(g=>g.value))).sort((g,v)=>g-v),i=n[0],s=n[n.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var d=0;d<n.length-1;d++){var f=n[d],h=n[d+1];if(!(f==null||h==null)){var p=h-f;r=Math.min(r,p)}}return r/l}}),ZP=K(v9,Fe,NP,rr,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!De(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var l=Bn(r,e*s),d=e*s/2;return d-l-(d-l)/s*l}return 0}),y9=(e,t,r)=>{var n=da(e,t);return n==null||typeof n.padding!="string"?0:ZP(e,"xAxis",t,r,n.padding)},b9=(e,t,r)=>{var n=fa(e,t);return n==null||typeof n.padding!="string"?0:ZP(e,"yAxis",t,r,n.padding)},x9=K(da,y9,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),w9=K(fa,b9,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),j9=K([rr,x9,Pm,Tm,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),S9=K([rr,Fe,w9,Pm,Tm,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:l}=i;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Zu=(e,t,r,n)=>{var i;switch(t){case"xAxis":return j9(e,r,n);case"yAxis":return S9(e,r,n);case"zAxis":return(i=mw(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return PP(e);case"radiusAxis":return RP(e,r);default:return}},QP=K([Tt,Zu],Hm),k9=K([ha,g9],DP),ul=K([Tt,ha,k9,QP],Qm);K([Vu,Zm,dt],e9);function JP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Jm=(e,t)=>t,ep=(e,t,r)=>r,_9=K(Om,Jm,ep,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(JP)),A9=K(Cm,Jm,ep,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(JP)),e4=(e,t)=>({width:e.width,height:t.height}),N9=(e,t)=>{var r=typeof t.width=="number"?t.width:Iu;return{width:r,height:e.height}},t4=K(rr,da,e4),E9=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},O9=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},C9=K(Za,rr,_9,Jm,ep,(e,t,r,n,i)=>{var s={},l;return r.forEach(d=>{var f=e4(t,d);l==null&&(l=E9(t,n,e));var h=n==="top"&&!i||n==="bottom"&&i;s[d.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),T9=K(Xa,rr,A9,Jm,ep,(e,t,r,n,i)=>{var s={},l;return r.forEach(d=>{var f=N9(t,d);l==null&&(l=O9(t,n,e));var h=n==="left"&&!i||n==="right"&&i;s[d.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),P9=(e,t)=>{var r=da(e,t);if(r!=null)return C9(e,r.orientation,r.mirror)},R9=K([rr,da,P9,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),M9=(e,t)=>{var r=fa(e,t);if(r!=null)return T9(e,r.orientation,r.mirror)},D9=K([rr,fa,M9,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),r4=K(rr,fa,(e,t)=>{var r=typeof t.width=="number"?t.width:Iu;return{width:r,height:e.height}}),eE=(e,t,r)=>{switch(t){case"xAxis":return t4(e,r).width;case"yAxis":return r4(e,r).height;default:return}},n4=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=r,d=ua(e,n),f=t.map(h=>h.value);if(l&&d&&s==="category"&&i&&fT(f))return f}},Qu=K([Fe,Xm,Tt,dt],n4),Tw=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,l=ua(e,n);if(l&&(i==="number"||s!=="auto"))return t.map(d=>d.value)}},Pw=K([Fe,Xm,Us,dt],Tw),tE=K([Fe,KF,ha,ul,Qu,Pw,Zu,Ow,dt],(e,t,r,n,i,s,l,d,f)=>{if(t!=null){var h=ua(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:d,range:l,realScaleType:r,scale:n}}}),a4=(e,t,r,n,i,s,l,d,f)=>{if(!(t==null||n==null)){var h=ua(e,f),{type:p,ticks:g,tickCount:v}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,S=p==="category"&&n.bandwidth?n.bandwidth()/x:0;S=f==="angleAxis"&&s!=null&&s.length>=2?Tr(s[0]-s[1])*2*S:S;var k=g||i;return k?k.map((j,_)=>{var E=l?l.indexOf(j):j,A=n.map(E);return De(A)?{index:_,coordinate:A+S,value:j,offset:S}:null}).filter(Pr):h&&d?d.map((j,_)=>{var E=n.map(j);return De(E)?{coordinate:E+S,value:j,index:_,offset:S}:null}).filter(Pr):n.ticks?n.ticks(v).map((j,_)=>{var E=n.map(j);return De(E)?{coordinate:E+S,value:j,index:_,offset:S}:null}).filter(Pr):n.domain().map((j,_)=>{var E=n.map(j);return De(E)?{coordinate:E+S,value:l?l[j]:j,index:_,offset:S}:null}).filter(Pr)}},i4=K([Fe,Us,ha,ul,Ow,Zu,Qu,Pw,dt],a4),s4=(e,t,r,n,i,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var d=ua(e,l),{tickCount:f}=t,h=0;return h=l==="angleAxis"&&n?.length>=2?Tr(n[0]-n[1])*2*h:h,d&&s?s.map((p,g)=>{var v=r.map(p);return De(v)?{coordinate:v+h,value:p,index:g,offset:h}:null}).filter(Pr):r.ticks?r.ticks(f).map((p,g)=>{var v=r.map(p);return De(v)?{coordinate:v+h,value:p,index:g,offset:h}:null}).filter(Pr):r.domain().map((p,g)=>{var v=r.map(p);return De(v)?{coordinate:v+h,value:i?i[p]:p,index:g,offset:h}:null}).filter(Pr)}},qi=K([Fe,Us,ul,Zu,Qu,Pw,dt],s4),$i=K(Tt,ul,(e,t)=>{if(!(e==null||t==null))return Yh(Yh({},e),{},{scale:t})}),I9=K([Tt,ha,Nw,QP],Qm);K((e,t,r)=>mw(e,r),I9,(e,t)=>{if(!(e==null||t==null))return Yh(Yh({},e),{},{scale:t})});var L9=K([Fe,Om,Cm],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),o4=e=>e.options.defaultTooltipEventType,l4=e=>e.options.validateTooltipEventTypes;function c4(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Rw(e,t){var r=o4(e),n=l4(e);return c4(t,r,n)}function B9(e){return fe(t=>Rw(t,e))}var u4=(e,t)=>{var r,n=Number(t);if(!(na(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},z9=e=>e.tooltip.settings,Mi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},q9={itemInteraction:{click:Mi,hover:Mi},axisInteraction:{click:Mi,hover:Mi},keyboardInteraction:Mi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},d4=Dr({name:"tooltip",initialState:q9,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:yt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=In(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:yt()},removeTooltipEntrySettings:{reducer(e,t){var r=In(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:yt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:$9,replaceTooltipEntrySettings:U9,removeTooltipEntrySettings:F9,setTooltipSettingsState:H9,setActiveMouseOverItemIndex:f4,mouseLeaveItem:G9,mouseLeaveChart:h4,setActiveClickItemIndex:K9,setMouseOverAxisIndex:m4,setMouseClickAxisIndex:W9,setSyncInteraction:Cb,setKeyboardInteraction:Tb}=d4.actions,Y9=d4.reducer;function rE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(r),!0).forEach(function(n){V9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V9(e,t,r){return(t=X9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X9(e){var t=Z9(e,"string");return typeof t=="symbol"?t:t+""}function Z9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q9(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function J9(e){return e.index!=null}var p4=(e,t,r,n)=>{if(t==null)return Mi;var i=Q9(e,t,r);if(i==null)return Mi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(J9(i)){if(s)return qf(qf({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return qf(qf({},Mi),{},{coordinate:i.coordinate})};function eH(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function tH(e,t){var r=eH(e),n=t[0],i=t[1];if(r===void 0)return!1;var s=Math.min(n,i),l=Math.max(n,i);return r>=s&&r<=l}function rH(e,t,r){if(r==null||t==null)return!0;var n=wt(e,t);return n==null||!Ka(r)?!0:tH(n,r)}var Mw=(e,t,r,n)=>{var i=e?.index;if(i==null)return null;var s=Number(i);if(!De(s))return i;var l=0,d=1/0;t.length>0&&(d=t.length-1);var f=Math.max(l,Math.min(s,d)),h=t[f];return h==null||rH(h,r,n)?String(f):null},g4=(e,t,r,n,i,s,l)=>{if(s!=null){var d=l[0],f=d?.getPosition(s);if(f!=null)return f;var h=i?.[Number(s)];if(h)return r==="horizontal"?{x:h.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:h.coordinate}}},v4=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(l=>{var d;return((d=l.settings)===null||d===void 0?void 0:d.graphicalItemId)===i})},y4=e=>e.options.tooltipPayloadSearcher,Ol=e=>e.tooltip;function nE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(r),!0).forEach(function(n){nH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nH(e,t,r){return(t=aH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aH(e){var t=iH(e,"string");return typeof t=="symbol"?t:t+""}function iH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sH(e,t){return e??t}var b4=(e,t,r,n,i,s,l)=>{if(!(t==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=r,g=[];return e.reduce((v,x)=>{var S,{dataDefinedOnItem:k,settings:j}=x,_=sH(k,d),E=Array.isArray(_)?a5(_,h,p):_,A=(S=j?.dataKey)!==null&&S!==void 0?S:n,T=j?.nameKey,C;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&l==="axis"?C=hT(E,n,i):C=s(E,t,f,T),Array.isArray(C))C.forEach(M=>{var P=aE(aE({},j),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});v.push(rA({tooltipEntrySettings:P,dataKey:M.dataKey,payload:M.payload,value:wt(M.payload,M.dataKey),name:M.name}))});else{var O;v.push(rA({tooltipEntrySettings:j,dataKey:A,payload:C,value:wt(C,A),name:(O=wt(C,T))!==null&&O!==void 0?O:j?.name}))}return v},g)}},Dw=K([Vt,BP,cw],XP),oH=K([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),lH=K([ar,Nl],pw),Cl=K([oH,Vt,lH],gw,{memoizeOptions:{resultEqualityCheck:Ym}}),cH=K([Cl],e=>e.filter(Km)),uH=K([Cl],vw,{memoizeOptions:{resultEqualityCheck:Ym}}),Tl=K([uH,Ja],yw),dH=K([cH,Ja,Vt],MP),Iw=K([Tl,Vt,Cl],xw),x4=K([Vt],ww),fH=K([Vt],e=>e.allowDataOverflow),w4=K([x4,fH],pP),hH=K([Cl],e=>e.filter(Km)),mH=K([dH,hH,Ku,EP],UP),pH=K([mH,Ja,ar,w4],FP),gH=K([Cl],qP),vH=K([Tl,Vt,gH,Zm,ar],kw,{memoizeOptions:{resultEqualityCheck:Wm}}),yH=K([HP,ar,Nl],El),bH=K([yH,ar],WP),xH=K([GP,ar,Nl],El),wH=K([xH,ar],YP),jH=K([KP,ar,Nl],El),SH=K([jH,ar],VP),kH=K([bH,SH,wH],Vh),_H=K([Vt,x4,w4,pH,vH,kH,Fe,ar],_w),Ju=K([Vt,Fe,Tl,Iw,Ku,ar,_H],Aw),AH=K([Ju,Vt,Dw],Ew),NH=K([Vt,Ju,AH,ar],Cw),j4=e=>{var t=ar(e),r=Nl(e),n=!1;return Zu(e,t,r,n)},S4=K([Vt,j4],Hm),k4=K([Vt,Dw,NH,S4],Qm),EH=K([Fe,Iw,Vt,ar],n4),OH=K([Fe,Iw,Vt,ar],Tw),CH=(e,t,r,n,i,s,l,d)=>{if(t){var{type:f}=t,h=ua(e,d);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=f==="category"&&n.bandwidth?n.bandwidth()/p:0;return g=d==="angleAxis"&&i!=null&&i?.length>=2?Tr(i[0]-i[1])*2*g:g,h&&l?l.map((v,x)=>{var S=n.map(v);return De(S)?{coordinate:S+g,value:v,index:x,offset:g}:null}).filter(Pr):n.domain().map((v,x)=>{var S=n.map(v);return De(S)?{coordinate:S+g,value:s?s[v]:v,index:x,offset:g}:null}).filter(Pr)}}},ei=K([Fe,Vt,Dw,k4,j4,EH,OH,ar],CH),Lw=K([o4,l4,z9],(e,t,r)=>c4(r.shared,e,t)),_4=e=>e.tooltip.settings.trigger,Bw=e=>e.tooltip.settings.defaultIndex,ed=K([Ol,Lw,_4,Bw],p4),Ds=K([ed,Tl,Xu,Ju],Mw),A4=K([ei,Ds],u4),N4=K([ed],e=>{if(e)return e.dataKey});K([ed],e=>{if(e)return e.graphicalItemId});var E4=K([Ol,Lw,_4,Bw],v4),TH=K([Xa,Za,Fe,rr,ei,Bw,E4],g4),PH=K([ed,TH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),RH=K([ed],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),MH=K([E4,Ds,Ja,Xu,A4,y4,Lw],b4),DH=K([MH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function iE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iE(Object(r),!0).forEach(function(n){IH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IH(e,t,r){return(t=LH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LH(e){var t=BH(e,"string");return typeof t=="symbol"?t:t+""}function BH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zH=()=>fe(Vt),qH=()=>{var e=zH(),t=fe(ei),r=fe(k4);return zi(!e||!r?void 0:sE(sE({},e),{},{scale:r}),t)};function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(r),!0).forEach(function(n){$H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $H(e,t,r){return(t=UH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UH(e){var t=FH(e,"string");return typeof t=="symbol"?t:t+""}function FH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HH=(e,t,r,n)=>{var i=t.find(s=>s&&s.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},GH=(e,t,r,n)=>{var i=t.find(h=>h&&h.index===r);if(i){if(e==="centric"){var s=i.coordinate,{radius:l}=n;return Lo(Lo(Lo({},n),at(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var d=i.coordinate,{angle:f}=n;return Lo(Lo(Lo({},n),at(n.cx,n.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function KH(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var O4=(e,t,r,n,i)=>{var s,l=(s=t?.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<l;d++){var f,h,p,g,v,x=d>0?(f=r[d-1])===null||f===void 0?void 0:f.coordinate:(h=r[l-1])===null||h===void 0?void 0:h.coordinate,S=(p=r[d])===null||p===void 0?void 0:p.coordinate,k=d>=l-1?(g=r[0])===null||g===void 0?void 0:g.coordinate:(v=r[d+1])===null||v===void 0?void 0:v.coordinate,j=void 0;if(!(x==null||S==null||k==null))if(Tr(S-x)!==Tr(k-S)){var _=[];if(Tr(k-S)===Tr(i[1]-i[0])){j=k;var E=S+i[1]-i[0];_[0]=Math.min(E,(E+x)/2),_[1]=Math.max(E,(E+x)/2)}else{j=x;var A=k+i[1]-i[0];_[0]=Math.min(S,(A+S)/2),_[1]=Math.max(S,(A+S)/2)}var T=[Math.min(S,(j+S)/2),Math.max(S,(j+S)/2)];if(e>T[0]&&e<=T[1]||e>=_[0]&&e<=_[1]){var C;return(C=r[d])===null||C===void 0?void 0:C.index}}else{var O=Math.min(x,k),M=Math.max(x,k);if(e>(O+S)/2&&e<=(M+S)/2){var P;return(P=r[d])===null||P===void 0?void 0:P.index}}}else if(t)for(var I=0;I<l;I++){var q=t[I];if(q!=null){var Z=t[I+1],U=t[I-1];if(I===0&&Z!=null&&e<=(q.coordinate+Z.coordinate)/2||I===l-1&&U!=null&&e>(q.coordinate+U.coordinate)/2||I>0&&I<l-1&&U!=null&&Z!=null&&e>(q.coordinate+U.coordinate)/2&&e<=(q.coordinate+Z.coordinate)/2)return q.index}}return-1},WH=()=>fe(cw),zw=(e,t)=>t,C4=(e,t,r)=>r,qw=(e,t,r,n)=>n,YH=K(ei,e=>xm(e,t=>t.coordinate)),$w=K([Ol,zw,C4,qw],p4),Uw=K([$w,Tl,Xu,Ju],Mw),VH=(e,t,r)=>{if(t!=null){var n=Ol(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},T4=K([Ol,zw,C4,qw],v4),Xh=K([Xa,Za,Fe,rr,ei,qw,T4],g4),XH=K([$w,Xh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),P4=K([ei,Uw],u4),ZH=K([T4,Uw,Ja,Xu,P4,y4,zw],b4),QH=K([$w,Uw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),JH=(e,t,r,n,i,s,l)=>{if(!(!e||!r||!n||!i)&&KH(e,l)){var d=yz(e,t),f=O4(d,s,i,r,n),h=HH(t,i,f,e);return{activeIndex:String(f),activeCoordinate:h}}},eG=(e,t,r,n,i,s,l)=>{if(!(!e||!n||!i||!s||!r)){var d=Bq(e,r);if(d){var f=bz(d,t),h=O4(f,l,s,n,i),p=GH(t,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},tG=(e,t,r,n,i,s,l,d)=>{if(!(!e||!t||!n||!i||!s))return t==="horizontal"||t==="vertical"?JH(e,t,n,i,s,l,d):eG(e,t,r,n,i,s,l)},rG=K(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),nG=K(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(kt)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:qF}});function lE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(r),!0).forEach(function(n){aG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aG(e,t,r){return(t=iG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iG(e){var t=sG(e,"string");return typeof t=="symbol"?t:t+""}function sG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oG={},lG={zIndexMap:Object.values(kt).reduce((e,t)=>cE(cE({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),oG)},cG=new Set(Object.values(kt));function uG(e){return cG.has(e)}var R4=Dr({name:"zIndex",initialState:lG,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:yt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!uG(r)&&delete e.zIndexMap[r])},prepare:yt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:yt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:yt()}}}),{registerZIndexPortal:dG,unregisterZIndexPortal:fG,registerZIndexPortalElement:hG,unregisterZIndexPortalElement:mG}=R4.actions,pG=R4.reducer;function mr(e){var{zIndex:t,children:r}=e,n=Qz(),i=n&&t!==void 0&&t!==0,s=Wt(),l=Je();b.useLayoutEffect(()=>i?(l(dG({zIndex:t})),()=>{l(fG({zIndex:t}))}):ca,[l,t,i]);var d=fe(f=>rG(f,t,s));return i?d?ox.createPortal(r,d):null:r}function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pb.apply(null,arguments)}function uE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $f(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(r),!0).forEach(function(n){gG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gG(e,t,r){return(t=vG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e){var t=yG(e,"string");return typeof t=="symbol"?t:t+""}function yG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bG(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return b.isValidElement(t)?b.cloneElement(t,n):b.createElement(r,n)}function xG(e){var t,{coordinate:r,payload:n,index:i,offset:s,tooltipAxisBandSize:l,layout:d,cursor:f,tooltipEventType:h,chartName:p}=e,g=r,v=n,x=i;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var S,k,j;if(p==="ScatterChart")S=g,k=Z7,j=kt.cursorLine;else if(p==="BarChart")S=Q7(d,g,s,l),k=T5,j=kt.cursorRectangle;else if(d==="radial"&&pT(g)){var{cx:_,cy:E,radius:A,startAngle:T,endAngle:C}=P5(g);S={cx:_,cy:E,startAngle:T,endAngle:C,innerRadius:A,outerRadius:A},k=M5,j=kt.cursorLine}else S={points:Uq(d,g,s)},k=A5,j=kt.cursorLine;var O=typeof f=="object"&&"className"in f?f.className:void 0,M=$f($f($f($f({stroke:"#ccc",pointerEvents:"none"},s),S),Bs(f)),{},{payload:v,payloadIndex:x,className:Le("recharts-tooltip-cursor",O)});return b.createElement(mr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:j},b.createElement(bG,{cursor:f,cursorComp:k,cursorProps:M}))}function wG(e){var t=qH(),r=d5(),n=zs(),i=WH();return t==null||r==null||n==null||i==null?null:b.createElement(xG,Pb({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var M4=b.createContext(null),jG=()=>b.useContext(M4),c0={exports:{}},dE;function SG(){return dE||(dE=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,g||f,v),S=r?r+h:h;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],x]:f._events[S].push(x):(f._events[S]=x,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)t.call(p,g)&&h.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=r?r+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,x=g.length,S=new Array(x);v<x;v++)S[v]=g[v].fn;return S},d.prototype.listenerCount=function(h){var p=r?r+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,v,x,S){var k=r?r+h:h;if(!this._events[k])return!1;var j=this._events[k],_=arguments.length,E,A;if(j.fn){switch(j.once&&this.removeListener(h,j.fn,void 0,!0),_){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,p),!0;case 3:return j.fn.call(j.context,p,g),!0;case 4:return j.fn.call(j.context,p,g,v),!0;case 5:return j.fn.call(j.context,p,g,v,x),!0;case 6:return j.fn.call(j.context,p,g,v,x,S),!0}for(A=1,E=new Array(_-1);A<_;A++)E[A-1]=arguments[A];j.fn.apply(j.context,E)}else{var T=j.length,C;for(A=0;A<T;A++)switch(j[A].once&&this.removeListener(h,j[A].fn,void 0,!0),_){case 1:j[A].fn.call(j[A].context);break;case 2:j[A].fn.call(j[A].context,p);break;case 3:j[A].fn.call(j[A].context,p,g);break;case 4:j[A].fn.call(j[A].context,p,g,v);break;default:if(!E)for(C=1,E=new Array(_-1);C<_;C++)E[C-1]=arguments[C];j[A].fn.apply(j[A].context,E)}}return!0},d.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,v){var x=r?r+h:h;if(!this._events[x])return this;if(!p)return l(this,x),this;var S=this._events[x];if(S.fn)S.fn===p&&(!v||S.once)&&(!g||S.context===g)&&l(this,x);else{for(var k=0,j=[],_=S.length;k<_;k++)(S[k].fn!==p||v&&!S[k].once||g&&S[k].context!==g)&&j.push(S[k]);j.length?this._events[x]=j.length===1?j[0]:j:l(this,x)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d})(c0)),c0.exports}var kG=SG();const _G=$n(kG);var hu=new _G,Rb="recharts.syncEvent.tooltip",fE="recharts.syncEvent.brush",Fw=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!na(r))return e[r]}},AG={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},D4=Dr({name:"options",initialState:AG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),NG=D4.reducer,{createEventEmitter:EG}=D4.actions;function OG(e){return e.tooltip.syncInteraction}var CG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},I4=Dr({name:"chartData",initialState:CG,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:hE,setDataStartEndIndexes:TG,setComputedData:lse}=I4.actions,PG=I4.reducer,RG=["x","y"];function mE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(r),!0).forEach(function(n){MG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MG(e,t,r){return(t=DG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DG(e){var t=IG(e,"string");return typeof t=="symbol"?t:t+""}function IG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LG(e,t){if(e==null)return{};var r,n,i=BG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zG(){var e=fe(uw),t=fe(dw),r=Je(),n=fe(OP),i=fe(ei),s=zs(),l=Lu(),d=fe(f=>f.rootProps.className);b.useEffect(()=>{if(e==null)return ca;var f=(h,p,g)=>{if(t!==g&&e===h){if(n==="index"){var v;if(l&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate&&p.payload.sourceViewBox){var x=p.payload.coordinate,{x:S,y:k}=x,j=LG(x,RG),{x:_,y:E,width:A,height:T}=p.payload.sourceViewBox,C=Bo(Bo({},j),{},{x:l.x+(A?(S-_)/A:0)*l.width,y:l.y+(T?(k-E)/T:0)*l.height});r(Bo(Bo({},p),{},{payload:Bo(Bo({},p.payload),{},{coordinate:C})}))}else r(p);return}if(i!=null){var O;if(typeof n=="function"){var M={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},P=n(i,M);O=i[P]}else n==="value"&&(O=i.find(L=>String(L.value)===p.payload.label));var{coordinate:I}=p.payload;if(O==null||p.payload.active===!1||I==null||l==null){r(Cb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:Z}=I,U=Math.min(q,l.x+l.width),ce=Math.min(Z,l.y+l.height),$={x:s==="horizontal"?O.coordinate:U,y:s==="horizontal"?ce:O.coordinate},te=Cb({active:p.payload.active,coordinate:$,dataKey:p.payload.dataKey,index:String(O.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});r(te)}}};return hu.on(Rb,f),()=>{hu.off(Rb,f)}},[d,r,t,e,n,i,s,l])}function qG(){var e=fe(uw),t=fe(dw),r=Je();b.useEffect(()=>{if(e==null)return ca;var n=(i,s,l)=>{t!==l&&e===i&&r(TG(s))};return hu.on(fE,n),()=>{hu.off(fE,n)}},[r,t,e])}function $G(){var e=Je();b.useEffect(()=>{e(EG())},[e]),zG(),qG()}function UG(e,t,r,n,i,s){var l=fe(x=>VH(x,e,t)),d=fe(dw),f=fe(uw),h=fe(OP),p=fe(OG),g=p?.active,v=Lu();b.useEffect(()=>{if(!g&&f!=null&&d!=null){var x=Cb({active:s,coordinate:r,dataKey:l,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:v,graphicalItemId:void 0});hu.emit(Rb,f,x,d)}},[g,r,l,i,n,d,f,h,s,v])}function pE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(r),!0).forEach(function(n){FG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FG(e,t,r){return(t=HG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HG(e){var t=GG(e,"string");return typeof t=="symbol"?t:t+""}function GG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KG(e){return e.dataKey}function WG(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(C7,t)}var vE=[],YG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Pl(e){var t,r,n=jt(e,YG),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:v,position:x,reverseDirection:S,useTranslate3d:k,wrapperStyle:j,cursor:_,shared:E,trigger:A,defaultIndex:T,portal:C,axisId:O}=n,M=Je(),P=typeof T=="number"?String(T):T;b.useEffect(()=>{M(H9({shared:E,trigger:A,axisId:O,active:i,defaultIndex:P}))},[M,E,A,O,i,P]);var I=Lu(),q=_5(),Z=B9(E),{activeIndex:U,isActive:ce}=(t=fe(he=>QH(he,Z,A,P)))!==null&&t!==void 0?t:{},$=fe(he=>ZH(he,Z,A,P)),te=fe(he=>P4(he,Z,A,P)),L=fe(he=>XH(he,Z,A,P)),F=$,ae=jG(),ue=(r=i??ce)!==null&&r!==void 0?r:!1,[ee,D]=ET([F,ue]),H=Z==="axis"?te:void 0;UG(Z,A,L,H,U,ue);var Q=C??ae;if(Q==null||I==null||Z==null)return null;var ie=F??vE;ue||(ie=vE),h&&ie.length&&(ie=ST(ie.filter(he=>he.value!=null&&(he.hide!==!0||n.includeHidden)),v,KG));var me=ie.length>0,le=b.createElement(L7,{allowEscapeViewBox:s,animationDuration:l,animationEasing:d,isAnimationActive:p,active:ue,coordinate:L,hasPayload:me,offset:g,position:x,reverseDirection:S,useTranslate3d:k,viewBox:I,wrapperStyle:j,lastBoundingBox:ee,innerRef:D,hasPortalFromProps:!!C},WG(f,gE(gE({},n),{},{payload:ie,label:H,active:ue,activeIndex:U,coordinate:L,accessibilityLayer:q})));return b.createElement(b.Fragment,null,ox.createPortal(le,Q),ue&&b.createElement(wG,{cursor:_,tooltipEventType:Z,coordinate:L,payload:ie,index:U}))}var Hw=e=>null;Hw.displayName="Cell";function VG(e,t,r){return(t=XG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XG(e){var t=ZG(e,"string");return typeof t=="symbol"?t:t+""}function ZG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class QG{constructor(t){VG(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function yE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(r),!0).forEach(function(n){eK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eK(e,t,r){return(t=tK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tK(e){var t=rK(e,"string");return typeof t=="symbol"?t:t+""}function rK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nK={cacheSize:2e3,enableCache:!0},L4=JG({},nK),bE=new QG(L4.cacheSize),aK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xE="recharts_measurement_span";function iK(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(d)}var wE=(e,t)=>{try{var r=document.getElementById(xE);r||(r=document.createElement("span"),r.setAttribute("id",xE),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,aK,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Yc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Im.isSsr)return{width:0,height:0};if(!L4.enableCache)return wE(t,r);var n=iK(t,r),i=bE.get(n);if(i)return i;var s=wE(t,r);return bE.set(n,s),s},B4;function sK(e,t,r){return(t=oK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oK(e){var t=lK(e,"string");return typeof t=="symbol"?t:t+""}function lK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,uK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fK=["cm","mm","pt","pc","in","Q","px"];function hK(e){return fK.includes(e)}var Xo="NaN";function mK(e,t){return e*dK[t]}class hr{static parse(t){var r,[,n,i]=(r=uK.exec(t))!==null&&r!==void 0?r:[];return n==null?hr.NaN:new hr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,na(t)&&(this.unit=""),r!==""&&!cK.test(r)&&(this.num=NaN,this.unit=""),hK(r)&&(this.num=mK(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new hr(NaN,""):new hr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new hr(NaN,""):new hr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hr(NaN,""):new hr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hr(NaN,""):new hr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return na(this.num)}}B4=hr;sK(hr,"NaN",new B4(NaN,""));function z4(e){if(e==null||e.includes(Xo))return Xo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=jE.exec(t))!==null&&r!==void 0?r:[],l=hr.parse(n??""),d=hr.parse(s??""),f=i==="*"?l.multiply(d):l.divide(d);if(f.isNaN())return Xo;t=t.replace(jE,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,g,v]=(h=SE.exec(t))!==null&&h!==void 0?h:[],x=hr.parse(p??""),S=hr.parse(v??""),k=g==="+"?x.add(S):x.subtract(S);if(k.isNaN())return Xo;t=t.replace(SE,k.toString())}return t}var kE=/\(([^()]*)\)/;function pK(e){for(var t=e,r;(r=kE.exec(t))!=null;){var[,n]=r;t=t.replace(kE,z4(n))}return t}function gK(e){var t=e.replace(/\s+/g,"");return t=pK(t),t=z4(t),t}function vK(e){try{return gK(e)}catch{return Xo}}function u0(e){var t=vK(e.slice(5,-1));return t===Xo?"":t}var yK=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],bK=["dx","dy","angle","className","breakAll"];function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mb.apply(null,arguments)}function _E(e,t){if(e==null)return{};var r,n,i=xK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var q4=/[ \f\n\r\t\v\u2028\u2029]+/,$4=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];gt(t)||(r?i=t.toString().split(""):i=t.toString().split(q4));var s=i.map(d=>({word:d,width:Yc(d,n).width})),l=r?0:Yc("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function wK(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var U4=(e,t,r,n)=>e.reduce((i,s)=>{var{word:l,width:d}=s,f=i[i.length-1];if(f&&d!=null&&(t==null||n||f.width+d+r<Number(t)))f.words.push(l),f.width+=d+r;else{var h={words:[l],width:d};i.push(h)}return i},[]),F4=e=>e.reduce((t,r)=>t.width>r.width?t:r),jK="",AE=(e,t,r,n,i,s,l,d)=>{var f=e.slice(0,t),h=$4({breakAll:r,style:n,children:f+jK});if(!h)return[!1,[]];var p=U4(h.wordsWithComputedWidth,s,l,d),g=p.length>i||F4(p).width>Number(s);return[g,p]},SK=(e,t,r,n,i)=>{var{maxLines:s,children:l,style:d,breakAll:f}=e,h=be(s),p=String(l),g=U4(t,n,r,i);if(!h||i)return g;var v=g.length>s||F4(g).width>Number(n);if(!v)return g;for(var x=0,S=p.length-1,k=0,j;x<=S&&k<=p.length-1;){var _=Math.floor((x+S)/2),E=_-1,[A,T]=AE(p,E,f,d,s,n,r,i),[C]=AE(p,_,f,d,s,n,r,i);if(!A&&!C&&(x=_+1),A&&C&&(S=_-1),!A&&C){j=T;break}k++}return j||g},NE=e=>{var t=gt(e)?[]:e.toString().split(q4);return[{words:t,width:void 0}]},kK=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:l}=e;if((t||r)&&!Im.isSsr){var d,f,h=$4({breakAll:s,children:n,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return NE(n);return SK({breakAll:s,children:n,maxLines:l,style:i},d,f,t,!!r)}return NE(n)},H4="#808080",_K={angle:0,breakAll:!1,capHeight:"0.71em",fill:H4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},td=b.forwardRef((e,t)=>{var r=jt(e,_K),{x:n,y:i,lineHeight:s,capHeight:l,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=r,g=_E(r,yK),v=b.useMemo(()=>kK({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:x,dy:S,angle:k,className:j,breakAll:_}=g,E=_E(g,bK);if(!vn(n)||!vn(i)||v.length===0)return null;var A=Number(n)+(be(x)?x:0),T=Number(i)+(be(S)?S:0);if(!De(A)||!De(T))return null;var C;switch(p){case"start":C=u0("calc(".concat(l,")"));break;case"middle":C=u0("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:C=u0("calc(".concat(v.length-1," * -").concat(s,")"));break}var O=[],M=v[0];if(f&&M!=null){var P=M.width,{width:I}=g;O.push("scale(".concat(be(I)&&be(P)?I/P:1,")"))}return k&&O.push("rotate(".concat(k,", ").concat(A,", ").concat(T,")")),O.length&&(E.transform=O.join(" ")),b.createElement("text",Mb({},Mt(E),{ref:t,x:A,y:T,className:Le("recharts-text",j),textAnchor:h,fill:d.includes("url")?H4:d}),v.map((q,Z)=>{var U=q.words.join(_?"":" ");return b.createElement("tspan",{x:A,dy:Z===0?C:s,key:"".concat(U,"-").concat(Z)},U)}))});td.displayName="Text";function EE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(r),!0).forEach(function(n){AK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AK(e,t,r){return(t=NK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NK(e){var t=EK(e,"string");return typeof t=="symbol"?t:t+""}function EK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OK=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i}=e,{x:s,y:l,height:d,upperWidth:f,lowerWidth:h}=Tx(t),p=s,g=s+(f-h)/2,v=(p+g)/2,x=(f+h)/2,S=p+f/2,k=d>=0?1:-1,j=k*n,_=k>0?"end":"start",E=k>0?"start":"end",A=f>=0?1:-1,T=A*n,C=A>0?"end":"start",O=A>0?"start":"end",M=i;if(r==="top"){var P={x:p+f/2,y:l-j,horizontalAnchor:"middle",verticalAnchor:_};return M&&(P.height=Math.max(l-M.y,0),P.width=f),P}if(r==="bottom"){var I={x:g+h/2,y:l+d+j,horizontalAnchor:"middle",verticalAnchor:E};return M&&(I.height=Math.max(M.y+M.height-(l+d),0),I.width=h),I}if(r==="left"){var q={x:v-T,y:l+d/2,horizontalAnchor:C,verticalAnchor:"middle"};return M&&(q.width=Math.max(q.x-M.x,0),q.height=d),q}if(r==="right"){var Z={x:v+x+T,y:l+d/2,horizontalAnchor:O,verticalAnchor:"middle"};return M&&(Z.width=Math.max(M.x+M.width-Z.x,0),Z.height=d),Z}var U=M?{width:x,height:d}:{};return r==="insideLeft"?Xn({x:v+T,y:l+d/2,horizontalAnchor:O,verticalAnchor:"middle"},U):r==="insideRight"?Xn({x:v+x-T,y:l+d/2,horizontalAnchor:C,verticalAnchor:"middle"},U):r==="insideTop"?Xn({x:p+f/2,y:l+j,horizontalAnchor:"middle",verticalAnchor:E},U):r==="insideBottom"?Xn({x:g+h/2,y:l+d-j,horizontalAnchor:"middle",verticalAnchor:_},U):r==="insideTopLeft"?Xn({x:p+T,y:l+j,horizontalAnchor:O,verticalAnchor:E},U):r==="insideTopRight"?Xn({x:p+f-T,y:l+j,horizontalAnchor:C,verticalAnchor:E},U):r==="insideBottomLeft"?Xn({x:g+T,y:l+d-j,horizontalAnchor:O,verticalAnchor:_},U):r==="insideBottomRight"?Xn({x:g+h-T,y:l+d-j,horizontalAnchor:C,verticalAnchor:_},U):r&&typeof r=="object"&&(be(r.x)||Cs(r.x))&&(be(r.y)||Cs(r.y))?Xn({x:s+Bn(r.x,x),y:l+Bn(r.y,d),horizontalAnchor:"end",verticalAnchor:"end"},U):Xn({x:S,y:l+d/2,horizontalAnchor:"middle",verticalAnchor:"middle"},U)},CK=["labelRef"],TK=["content"];function OE(e,t){if(e==null)return{};var r,n,i=PK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function CE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(r),!0).forEach(function(n){RK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RK(e,t,r){return(t=MK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MK(e){var t=DK(e,"string");return typeof t=="symbol"?t:t+""}function DK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ia.apply(null,arguments)}var G4=b.createContext(null),K4=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:l,children:d}=e,f=b.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:l}),[t,r,n,i,s,l]);return b.createElement(G4.Provider,{value:f},d)},W4=()=>{var e=b.useContext(G4),t=Lu();return e||(t?Tx(t):void 0)},Y4=b.createContext(null),IK=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:l,clockWise:d,children:f}=e,h=b.useMemo(()=>({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:l,clockWise:d}),[t,r,n,i,s,l,d]);return b.createElement(Y4.Provider,{value:h},f)},V4=()=>{var e=b.useContext(Y4),t=fe(Al);return e||t},LK=e=>{var{value:t,formatter:r}=e,n=gt(e.children)?t:e.children;return typeof r=="function"?r(n):n},Gw=e=>e!=null&&typeof e=="function",BK=(e,t)=>{var r=Tr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},zK=(e,t,r,n,i)=>{var{offset:s,className:l}=e,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:v,clockWise:x}=i,S=(h+p)/2,k=BK(g,v),j=k>=0?1:-1,_,E;switch(t){case"insideStart":_=g+j*s,E=x;break;case"insideEnd":_=v-j*s,E=!x;break;case"end":_=v+j*s,E=x;break;default:throw new Error("Unsupported position ".concat(t))}E=k<=0?E:!E;var A=at(d,f,S,_),T=at(d,f,S,_+(E?1:-1)*359),C="M".concat(A.x,",").concat(A.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(E?0:1,`,
    `).concat(T.x,",").concat(T.y),O=gt(e.id)?eu("recharts-radial-line-"):e.id;return b.createElement("text",Ia({},n,{dominantBaseline:"central",className:Le("recharts-radial-bar-label",l)}),b.createElement("defs",null,b.createElement("path",{id:O,d:C})),b.createElement("textPath",{xlinkHref:"#".concat(O)},r))},qK=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:l,startAngle:d,endAngle:f}=e,h=(d+f)/2;if(r==="outside"){var{x:p,y:g}=at(n,i,l+t,h);return{x:p,y:g,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(s+l)/2,{x,y:S}=at(n,i,v,h);return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},ah=e=>e!=null&&"cx"in e&&be(e.cx),$K={angle:0,offset:5,zIndex:kt.label,position:"middle",textBreakAll:!1};function UK(e){if(!ah(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=n*2;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function Pi(e){var t=jt(e,$K),{viewBox:r,parentViewBox:n,position:i,value:s,children:l,content:d,className:f="",textBreakAll:h,labelRef:p}=t,g=V4(),v=W4(),x=i==="center"?v:g??v,S,k,j;r==null?S=x:ah(r)?S=r:S=Tx(r);var _=UK(S);if(!S||gt(s)&&gt(l)&&!b.isValidElement(d)&&typeof d!="function")return null;var E=Kc(Kc({},t),{},{viewBox:S});if(b.isValidElement(d)){var{labelRef:A}=E,T=OE(E,CK);return b.cloneElement(d,T)}if(typeof d=="function"){var{content:C}=E,O=OE(E,TK);if(k=b.createElement(d,O),b.isValidElement(k))return k}else k=LK(t);var M=Mt(t);if(ah(S)){if(i==="insideStart"||i==="insideEnd"||i==="end")return zK(t,i,k,M,S);j=qK(S,t.offset,t.position)}else{if(!_)return null;var P=OK({viewBox:_,position:i,offset:t.offset,parentViewBox:ah(n)?void 0:n});j=Kc(Kc({x:P.x,y:P.y,textAnchor:P.horizontalAnchor,verticalAnchor:P.verticalAnchor},P.width!==void 0?{width:P.width}:{}),P.height!==void 0?{height:P.height}:{})}return b.createElement(mr,{zIndex:t.zIndex},b.createElement(td,Ia({ref:p,className:Le("recharts-label",f)},M,j,{textAnchor:wK(M.textAnchor)?M.textAnchor:j.textAnchor,breakAll:h}),k))}Pi.displayName="Label";var X4=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?b.createElement(Pi,Ia({key:"label-implicit"},n)):vn(e)?b.createElement(Pi,Ia({key:"label-implicit",value:e},n)):b.isValidElement(e)?e.type===Pi?b.cloneElement(e,Kc({key:"label-implicit"},n)):b.createElement(Pi,Ia({key:"label-implicit",content:e},n)):Gw(e)?b.createElement(Pi,Ia({key:"label-implicit",content:e},n)):e&&typeof e=="object"?b.createElement(Pi,Ia({},e,{key:"label-implicit"},n)):null};function Z4(e){var{label:t,labelRef:r}=e,n=W4();return X4(t,n,r)||null}function FK(e){var{label:t}=e,r=V4();return X4(t,r)||null}var d0={},f0={},TE;function HK(){return TE||(TE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(f0)),f0}var h0={},PE;function GK(){return PE||(PE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(h0)),h0}var RE;function KK(){return RE||(RE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HK(),r=GK(),n=yx();function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(d0)),d0}var m0,ME;function WK(){return ME||(ME=1,m0=KK().last),m0}var YK=WK();const Q4=$n(YK);var VK=["valueAccessor"],XK=["dataKey","clockWise","id","textBreakAll","zIndex"];function Zh(){return Zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zh.apply(null,arguments)}function DE(e,t){if(e==null)return{};var r,n,i=ZK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ZK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var QK=e=>Array.isArray(e.value)?Q4(e.value):e.value,J4=b.createContext(void 0),Kw=J4.Provider,e3=b.createContext(void 0);e3.Provider;function JK(){return b.useContext(J4)}function eW(){return b.useContext(e3)}function ih(e){var{valueAccessor:t=QK}=e,r=DE(e,VK),{dataKey:n,clockWise:i,id:s,textBreakAll:l,zIndex:d}=r,f=DE(r,XK),h=JK(),p=eW(),g=h||p;return!g||!g.length?null:b.createElement(mr,{zIndex:d??kt.label},b.createElement(Dt,{className:"recharts-label-list"},g.map((v,x)=>{var S,k=gt(n)?t(v,x):wt(v.payload,n),j=gt(s)?{}:{id:"".concat(s,"-").concat(x)};return b.createElement(Pi,Zh({key:"label-".concat(x)},Mt(v),f,j,{fill:(S=r.fill)!==null&&S!==void 0?S:v.fill,parentViewBox:v.parentViewBox,value:k,textBreakAll:l,viewBox:v.viewBox,index:x,zIndex:0}))})))}ih.displayName="LabelList";function Ww(e){var{label:t}=e;return t?t===!0?b.createElement(ih,{key:"labelList-implicit"}):b.isValidElement(t)||Gw(t)?b.createElement(ih,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(ih,Zh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var tW=["points","className","baseLinePoints","connectNulls"],IE;function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zo.apply(null,arguments)}function rW(e,t){if(e==null)return{};var r,n,i=nW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aW(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var LE=e=>e!=null&&e.x===+e.x&&e.y===+e.y,iW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];t.forEach(l=>{var d=r[r.length-1];LE(l)?d&&d.push(l):d&&d.length>0&&r.push([])});var n=t[0],i=r[r.length-1];LE(n)&&i&&i.push(n);var s=r[r.length-1];return s&&s.length<=0&&(r=r.slice(0,-1)),r},Vc=(e,t)=>{var r=iW(e);t&&(r=[r.reduce((i,s)=>[...i,...s],[])]);var n=r.map(i=>i.reduce((s,l,d)=>St(IE||(IE=aW(["","","",",",""])),s,d===0?"M":"L",l.x,l.y),"")).join("");return r.length===1?"".concat(n,"Z"):n},sW=(e,t,r)=>{var n=Vc(e,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(Vc(Array.from(t).reverse(),r).slice(1))},t3=e=>{var{points:t,className:r,baseLinePoints:n,connectNulls:i}=e,s=rW(e,tW);if(!t||!t.length)return null;var l=Le("recharts-polygon",r);if(n&&n.length){var d=s.stroke&&s.stroke!=="none",f=sW(t,n,i);return b.createElement("g",{className:l},b.createElement("path",Zo({},Mt(s),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),d?b.createElement("path",Zo({},Mt(s),{fill:"none",d:Vc(t,i)})):null,d?b.createElement("path",Zo({},Mt(s),{fill:"none",d:Vc(n,i)})):null)}var h=Vc(t,i);return b.createElement("path",Zo({},Mt(s),{fill:h.slice(-1)==="Z"?s.fill:"none",className:l,d:h}))};function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Db.apply(null,arguments)}var Yw=e=>{var{cx:t,cy:r,r:n,className:i}=e,s=Le("recharts-dot",i);return be(t)&&be(r)&&be(n)?b.createElement("circle",Db({},Ct(e),vx(e),{className:s,cx:t,cy:r,r:n})):null},r3=e=>e.graphicalItems.polarItems,oW=K([dt,Yu],pw),tp=K([r3,Tt,oW],gw),lW=K([tp],vw),rp=K([lW,Fm],yw),n3=K([rp,Tt,tp],xw);K([rp,Tt,tp],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var s,l=wt(n,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:wt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var BE=()=>{},cW=K([rp,Tt,tp,Zm,dt],kw),uW=K([Tt,jw,Sw,BE,cW,BE,Fe,dt],_w),a3=K([Tt,Fe,rp,n3,Ku,dt,uW],Aw),i3=K([a3,Us,ha],Ew),dW=K([Tt,a3,i3,dt],Cw),fW=K([ha,dW],DP),Vw=(e,t,r)=>{switch(t){case"angleAxis":return _l(e,r);case"radiusAxis":return Wu(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Xw=(e,t,r)=>{switch(t){case"angleAxis":return BF(e,r);case"radiusAxis":return zF(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Rl=K([Vw,ha,fW,Xw],Qm),s3=K([Fe,n3,Us,dt],Tw),Ml=K([Fe,Vw,ha,Rl,i3,Xw,Qu,s3,dt],a4),hW=K([Ml],e=>{if(e){var t=new Map;return e.forEach(r=>{var n=(r.coordinate+360)%360;t.has(n)||t.set(n,r)}),Array.from(t.values())}});K([Fe,Vw,Rl,Xw,Qu,s3,dt],s4);var mW=(e,t)=>Ml(e,"angleAxis",t,!1),pW=K([mW],e=>{if(e)return e.map(t=>t.coordinate)}),gW=(e,t)=>Ml(e,"radiusAxis",t,!1),vW=K([gW],e=>{if(e)return e.map(t=>t.coordinate)}),yW=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius","zIndex"];function bW(e,t){if(e==null)return{};var r,n,i=xW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mn.apply(null,arguments)}function zE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function np(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(r),!0).forEach(function(n){wW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wW(e,t,r){return(t=jW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jW(e){var t=SW(e,"string");return typeof t=="symbol"?t:t+""}function SW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kW=(e,t,r,n)=>{var i="";return n.forEach((s,l)=>{var d=at(t,r,e,s);l?i+="L ".concat(d.x,",").concat(d.y):i+="M ".concat(d.x,",").concat(d.y)}),i+="Z",i},_W=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,polarAngles:s,radialLines:l}=e;if(!s||!s.length||!l)return null;var d=np({stroke:"#ccc"},Ct(e));return b.createElement("g",{className:"recharts-polar-grid-angle"},s.map(f=>{var h=at(t,r,n,f),p=at(t,r,i,f);return b.createElement("line",Mn({key:"line-".concat(f)},d,{x1:h.x,y1:h.y,x2:p.x,y2:p.y}))}))},qE=e=>{var{cx:t,cy:r,radius:n}=e,i=np({stroke:"#ccc",fill:"none"},Ct(e));return b.createElement("circle",Mn({},i,{className:Le("recharts-polar-grid-concentric-circle",e.className),cx:t,cy:r,r:n}))},$E=e=>{var{radius:t}=e,r=np({stroke:"#ccc",fill:"none"},Ct(e));return b.createElement("path",Mn({},r,{className:Le("recharts-polar-grid-concentric-polygon",e.className),d:kW(t,e.cx,e.cy,e.polarAngles)}))},AW=e=>{var{polarRadius:t,gridType:r}=e;if(!t||!t.length)return null;var n=Math.max(...t),i=e.fill&&e.fill!=="none";return b.createElement("g",{className:"recharts-polar-grid-concentric"},i&&r==="circle"&&b.createElement(qE,Mn({},e,{radius:n})),i&&r!=="circle"&&b.createElement($E,Mn({},e,{radius:n})),t.map((s,l)=>{var d=l;return r==="circle"?b.createElement(qE,Mn({key:d},e,{fill:"none",radius:s})):b.createElement($E,Mn({key:d},e,{fill:"none",radius:s}))}))},NW={angleAxisId:0,radiusAxisId:0,gridType:"polygon",radialLines:!0,zIndex:kt.grid},Zw=e=>{var t,r,n,i,s,l,d,f,h=jt(e,NW),{gridType:p,radialLines:g,angleAxisId:v,radiusAxisId:x,cx:S,cy:k,innerRadius:j,outerRadius:_,polarAngles:E,polarRadius:A,zIndex:T}=h,C=bW(h,yW),O=fe(Al),M=fe(ce=>pW(ce,v)),P=fe(ce=>vW(ce,x)),I=Array.isArray(E)?E:M,q=Array.isArray(A)?A:P;if(I==null||q==null)return null;var Z=np({cx:(t=(r=O?.cx)!==null&&r!==void 0?r:S)!==null&&t!==void 0?t:0,cy:(n=(i=O?.cy)!==null&&i!==void 0?i:k)!==null&&n!==void 0?n:0,innerRadius:(s=(l=O?.innerRadius)!==null&&l!==void 0?l:j)!==null&&s!==void 0?s:0,outerRadius:(d=(f=O?.outerRadius)!==null&&f!==void 0?f:_)!==null&&d!==void 0?d:0,polarAngles:I,polarRadius:q,zIndex:T},C),{outerRadius:U}=Z;return U<=0?null:b.createElement(mr,{zIndex:Z.zIndex},b.createElement("g",{className:"recharts-polar-grid"},b.createElement(AW,Mn({gridType:p,radialLines:g},Z,{polarAngles:I,polarRadius:q})),b.createElement(_W,Mn({gridType:p,radialLines:g},Z,{polarAngles:I,polarRadius:q}))))};Zw.displayName="PolarGrid";var p0={},g0={},UE;function EW(){return UE||(UE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],s=n(i,0,r);for(let l=1;l<r.length;l++){const d=r[l],f=n(d,l,r);f>s&&(s=f,i=d)}return i}e.maxBy=t})(g0)),g0}var FE;function OW(){return FE||(FE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EW(),r=bm(),n=xx();function i(s,l){if(s!=null)return t.maxBy(Array.from(s),n.iteratee(l??r.identity))}e.maxBy=i})(p0)),p0}var v0,HE;function CW(){return HE||(HE=1,v0=OW().maxBy),v0}var TW=CW();const PW=$n(TW);var y0={},b0={},GE;function RW(){return GE||(GE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],s=n(i,0,r);for(let l=1;l<r.length;l++){const d=r[l],f=n(d,l,r);f<s&&(s=f,i=d)}return i}e.minBy=t})(b0)),b0}var KE;function MW(){return KE||(KE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RW(),r=bm(),n=xx();function i(s,l){if(s!=null)return t.minBy(Array.from(s),n.iteratee(l??r.identity))}e.minBy=i})(y0)),y0}var x0,WE;function DW(){return WE||(WE=1,x0=MW().minBy),x0}var IW=DW();const LW=$n(IW);var BW={radiusAxis:{},angleAxis:{}},o3=Dr({name:"polarAxis",initialState:BW,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:zW,removeRadiusAxis:qW,addAngleAxis:$W,removeAngleAxis:UW}=o3.actions,FW=o3.reducer;function Qw(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var HW=["type"],GW=["cx","cy","angle","axisLine"],KW=["angle","tickFormatter","stroke","tick"];function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mu.apply(null,arguments)}function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(n){WW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WW(e,t,r){return(t=YW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YW(e){var t=VW(e,"string");return typeof t=="symbol"?t:t+""}function VW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jw(e,t){if(e==null)return{};var r,n,i=XW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZW="radiusAxis";function QW(e){var t=Je(),r=h5(),n=b.useMemo(()=>{var{type:i}=e,s=Jw(e,HW),l=kl(r,"radiusAxis",i);if(l!=null)return Dn(Dn({},s),{},{type:l})},[e,r]);return b.useEffect(()=>n==null?ca:(t(zW(n)),()=>{t(qW(n))}),[t,n]),null}var JW=(e,t,r,n)=>{var{coordinate:i}=e;return at(r,n,i,t)},eY=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},tY=(e,t,r,n)=>{var i=PW(n,l=>l.coordinate||0),s=LW(n,l=>l.coordinate||0);return{cx:t,cy:r,startAngle:e,endAngle:e,innerRadius:s?.coordinate||0,outerRadius:i?.coordinate||0,clockWise:!1}},rY=(e,t)=>{var{cx:r,cy:n,angle:i,axisLine:s}=e,l=Jw(e,GW),d=t.reduce((g,v)=>[Math.min(g[0],v.coordinate),Math.max(g[1],v.coordinate)],[1/0,-1/0]),f=at(r,n,d[0],i),h=at(r,n,d[1],i),p=Dn(Dn(Dn({},Ct(l)),{},{fill:"none"},Ct(s)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return b.createElement("line",mu({className:"recharts-polar-radius-axis-line"},p))},nY=(e,t,r)=>{var n;return b.isValidElement(e)?n=b.cloneElement(e,t):typeof e=="function"?n=e(t):n=b.createElement(td,mu({},t,{className:"recharts-polar-radius-axis-tick-value"}),r),n},aY=(e,t)=>{var{angle:r,tickFormatter:n,stroke:i,tick:s}=e,l=Jw(e,KW),d=eY(e.orientation),f=Ct(l),h=Bs(s),p=t.map((g,v)=>{var x=JW(g,e.angle,e.cx,e.cy),S=Dn(Dn(Dn(Dn({textAnchor:d,transform:"rotate(".concat(90-r,", ").concat(x.x,", ").concat(x.y,")")},f),{},{stroke:"none",fill:i},h),{},{index:v},x),{},{payload:g});return b.createElement(Dt,mu({className:Le("recharts-polar-radius-axis-tick",Qw(s)),key:"tick-".concat(g.coordinate)},yl(e,g,v)),nY(s,S,n?n(g.value,v):g.value))});return b.createElement(Dt,{className:"recharts-polar-radius-axis-ticks"},p)},iY=e=>{var{radiusAxisId:t}=e,r=fe(Al),n=fe(f=>Rl(f,"radiusAxis",t)),i=fe(f=>Ml(f,"radiusAxis",t,!1));if(r==null||!i||!i.length||n==null)return null;var s=Dn(Dn({},e),{},{scale:n},r),{tick:l,axisLine:d}=s;return b.createElement(mr,{zIndex:s.zIndex},b.createElement(Dt,{className:Le("recharts-polar-radius-axis",ZW,s.className)},d&&rY(s,i),l&&aY(s,i),b.createElement(IK,tY(s.angle,s.cx,s.cy,i),b.createElement(FK,{label:s.label}),s.children)))};function e1(e){var t=jt(e,An);return b.createElement(b.Fragment,null,b.createElement(QW,{domain:t.domain,id:t.radiusAxisId,scale:t.scale,type:t.type,dataKey:t.dataKey,unit:void 0,name:t.name,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDataOverflow:t.allowDataOverflow,reversed:t.reversed,includeHidden:t.includeHidden,allowDecimals:t.allowDecimals,ticks:t.ticks,tickCount:t.tickCount,tick:t.tick}),b.createElement(iY,t))}e1.displayName="PolarRadiusAxis";var sY=["children","type"];function Is(){return Is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Is.apply(null,arguments)}function VE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(r),!0).forEach(function(n){oY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oY(e,t,r){return(t=lY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lY(e){var t=cY(e,"string");return typeof t=="symbol"?t:t+""}function cY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uY(e,t){if(e==null)return{};var r,n,i=dY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XE=1e-5,fY=Math.cos(Dh(45)),hY="angleAxis";function mY(e){var t=Je(),r=h5(),n=b.useMemo(()=>{var{children:l,type:d}=e,f=uY(e,sY),h=kl(r,"angleAxis",d);if(h!=null)return pn(pn({},f),{},{type:h})},[e,r]),i=fe(l=>_l(l,n?.id)),s=n===i;return b.useEffect(()=>n==null?ca:(t($W(n)),()=>{t(UW(n))}),[t,n]),s?e.children:null}var pY=(e,t)=>{var{cx:r,cy:n,radius:i,orientation:s,tickSize:l}=t,d=l||8,f=at(r,n,i,e.coordinate),h=at(r,n,i+(s==="inner"?-1:1)*d,e.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}},gY=(e,t)=>{var r=Math.cos(Dh(-e.coordinate));return r>XE?t==="outer"?"start":"end":r<-XE?t==="outer"?"end":"start":"middle"},vY=e=>{var t=Math.cos(Dh(-e.coordinate)),r=Math.sin(Dh(-e.coordinate));return Math.abs(t)<=fY?r>0?"start":"end":"middle"},yY=e=>{var{cx:t,cy:r,radius:n,axisLineType:i,axisLine:s,ticks:l}=e;if(!s)return null;var d=pn(pn({},Ct(e)),{},{fill:"none"},Ct(s));if(i==="circle")return b.createElement(Yw,Is({className:"recharts-polar-angle-axis-line"},d,{cx:t,cy:r,r:n}));var f=l.map(h=>at(t,r,n,h.coordinate));return b.createElement(t3,Is({className:"recharts-polar-angle-axis-line"},d,{points:f}))},bY=e=>{var{tick:t,tickProps:r,value:n}=e;return t?b.isValidElement(t)?b.cloneElement(t,r):typeof t=="function"?t(r):b.createElement(td,Is({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},xY=e=>{var{tick:t,tickLine:r,tickFormatter:n,stroke:i,ticks:s}=e,l=Ct(e),d=Bs(t),f=pn(pn({},l),{},{fill:"none"},Ct(r)),h=s.map((p,g)=>{var v=pY(p,e),x=gY(p,e.orientation),S=vY(p),k=pn(pn(pn({},l),{},{textAnchor:x,verticalAnchor:S,stroke:"none",fill:i},d),{},{index:g,payload:p,x:v.x2,y:v.y2});return b.createElement(Dt,Is({className:Le("recharts-polar-angle-axis-tick",Qw(t)),key:"tick-".concat(p.coordinate)},yl(e,p,g)),r&&b.createElement("line",Is({className:"recharts-polar-angle-axis-tick-line"},f,v)),b.createElement(bY,{tick:t,tickProps:k,value:n?n(p.value,g):p.value}))});return b.createElement(Dt,{className:"recharts-polar-angle-axis-ticks"},h)},wY=e=>{var{angleAxisId:t}=e,r=fe(Al),n=fe(d=>Rl(d,"angleAxis",t)),i=Wt(),s=fe(d=>hW(d,"angleAxis",t,i));if(r==null||!s||!s.length||n==null)return null;var l=pn(pn(pn({},e),{},{scale:n},r),{},{radius:r.outerRadius,ticks:s});return b.createElement(mr,{zIndex:l.zIndex},b.createElement(Dt,{className:Le("recharts-polar-angle-axis",hY,l.className)},b.createElement(yY,l),b.createElement(xY,l)))};function t1(e){var t=jt(e,Ci);return b.createElement(mY,{id:t.angleAxisId,scale:t.scale,type:t.type,dataKey:t.dataKey,unit:void 0,name:t.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:t.reversed,includeHidden:!1,allowDecimals:t.allowDecimals,tickCount:t.tickCount,ticks:t.ticks,tick:t.tick,domain:t.domain},b.createElement(wY,t))}t1.displayName="PolarAngleAxis";var w0={exports:{}},nt={};var ZE;function jY(){if(ZE)return nt;ZE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function S(k){if(typeof k=="object"&&k!==null){var j=k.$$typeof;switch(j){case e:switch(k=k.type,k){case r:case i:case n:case f:case h:case v:return k;default:switch(k=k&&k.$$typeof,k){case l:case d:case g:case p:return k;case s:return k;default:return j}}case t:return j}}}return nt.ContextConsumer=s,nt.ContextProvider=l,nt.Element=e,nt.ForwardRef=d,nt.Fragment=r,nt.Lazy=g,nt.Memo=p,nt.Portal=t,nt.Profiler=i,nt.StrictMode=n,nt.Suspense=f,nt.SuspenseList=h,nt.isContextConsumer=function(k){return S(k)===s},nt.isContextProvider=function(k){return S(k)===l},nt.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},nt.isForwardRef=function(k){return S(k)===d},nt.isFragment=function(k){return S(k)===r},nt.isLazy=function(k){return S(k)===g},nt.isMemo=function(k){return S(k)===p},nt.isPortal=function(k){return S(k)===t},nt.isProfiler=function(k){return S(k)===i},nt.isStrictMode=function(k){return S(k)===n},nt.isSuspense=function(k){return S(k)===f},nt.isSuspenseList=function(k){return S(k)===h},nt.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===i||k===n||k===f||k===h||typeof k=="object"&&k!==null&&(k.$$typeof===g||k.$$typeof===p||k.$$typeof===l||k.$$typeof===s||k.$$typeof===d||k.$$typeof===x||k.getModuleId!==void 0)},nt.typeOf=S,nt}var QE;function SY(){return QE||(QE=1,w0.exports=jY()),w0.exports}var kY=SY(),JE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",eO=null,j0=null,l3=e=>{if(e===eO&&Array.isArray(j0))return j0;var t=[];return b.Children.forEach(e,r=>{gt(r)||(kY.isFragment(r)?t=t.concat(l3(r.props.children)):t.push(r))}),j0=t,eO=e,t};function _Y(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>JE(i)):n=[JE(t)],l3(e).forEach(i=>{var s=nl(i,"type.displayName")||nl(i,"type.name");s&&n.indexOf(s)!==-1&&r.push(i)}),r}var c3=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,S0={},tO;function AY(){return tO||(tO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(S0)),S0}var k0,rO;function NY(){return rO||(rO=1,k0=AY().isPlainObject),k0}var EY=NY();const OY=$n(EY);var nO,aO,iO,sO,oO;function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){CY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CY(e,t,r){return(t=TY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TY(e){var t=PY(e,"string");return typeof t=="symbol"?t:t+""}function PY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qh(){return Qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qh.apply(null,arguments)}function $c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var uO=(e,t,r,n,i)=>{var s=r-n,l;return l=St(nO||(nO=$c(["M ",",",""])),e,t),l+=St(aO||(aO=$c(["L ",",",""])),e+r,t),l+=St(iO||(iO=$c(["L ",",",""])),e+r-s/2,t+i),l+=St(sO||(sO=$c(["L ",",",""])),e+r-s/2-n,t+i),l+=St(oO||(oO=$c(["L ",","," Z"])),e,t),l},RY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MY=e=>{var t=jt(e,RY),{x:r,y:n,upperWidth:i,lowerWidth:s,height:l,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=t,v=b.useRef(null),[x,S]=b.useState(-1),k=b.useRef(i),j=b.useRef(s),_=b.useRef(l),E=b.useRef(r),A=b.useRef(n),T=$u(e,"trapezoid-");if(b.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var $=v.current.getTotalLength();$&&S($)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var C=Le("recharts-trapezoid",d);if(!g)return b.createElement("g",null,b.createElement("path",Qh({},Mt(t),{className:C,d:uO(r,n,i,s,l)})));var O=k.current,M=j.current,P=_.current,I=E.current,q=A.current,Z="0px ".concat(x===-1?1:x,"px"),U="".concat(x,"px 0px"),ce=N5(["strokeDasharray"],h,f);return b.createElement(qu,{animationId:T,key:T,canBegin:x>0,duration:h,easing:f,isActive:g,begin:p},$=>{var te=ut(O,i,$),L=ut(M,s,$),F=ut(P,l,$),ae=ut(I,r,$),ue=ut(q,n,$);v.current&&(k.current=te,j.current=L,_.current=F,E.current=ae,A.current=ue);var ee=$>0?{transition:ce,strokeDasharray:U}:{strokeDasharray:Z};return b.createElement("path",Qh({},Mt(t),{className:C,d:uO(ae,ue,te,L,F),ref:v,style:cO(cO({},ee),t.style)}))})},DY=["option","shapeType","activeClassName"];function IY(e,t){if(e==null)return{};var r,n,i=LY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(n){BY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BY(e,t,r){return(t=zY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zY(e){var t=qY(e,"string");return typeof t=="symbol"?t:t+""}function qY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Y(e,t){return Jh(Jh({},t),e)}function UY(e,t){return e==="symbols"}function fO(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return b.createElement(T5,r);case"trapezoid":return b.createElement(MY,r);case"sector":return b.createElement(M5,r);case"symbols":if(UY(t))return b.createElement(gx,r);break;case"curve":return b.createElement(A5,r);default:return null}}function FY(e){return b.isValidElement(e)?e.props:e}function u3(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=IY(e,DY),s;if(b.isValidElement(t))s=b.cloneElement(t,Jh(Jh({},i),FY(t)));else if(typeof t=="function")s=t(i,i.index);else if(OY(t)&&typeof t!="boolean"){var l=$Y(t,i);s=b.createElement(fO,{shapeType:r,elementProps:l})}else{var d=i;s=b.createElement(fO,{shapeType:r,elementProps:d})}return i.isActive?b.createElement(Dt,{className:n},s):s}var d3=(e,t,r)=>{var n=Je();return(i,s)=>l=>{e?.(i,s,l),n(f4({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},f3=e=>{var t=Je();return(r,n)=>i=>{e?.(r,n,i),t(G9())}},h3=(e,t,r)=>{var n=Je();return(i,s)=>l=>{e?.(i,s,l),n(K9({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function r1(e){var{tooltipEntrySettings:t}=e,r=Je(),n=Wt(),i=b.useRef(null);return b.useLayoutEffect(()=>{n||(i.current===null?r($9(t)):i.current!==t&&r(U9({prev:i.current,next:t})),i.current=t)},[t,r,n]),b.useLayoutEffect(()=>()=>{i.current&&(r(F9(i.current)),i.current=null)},[r]),null}function m3(e){var{legendPayload:t}=e,r=Je(),n=Wt(),i=b.useRef(null);return b.useLayoutEffect(()=>{n||(i.current===null?r(w5(t)):i.current!==t&&r(j5({prev:i.current,next:t})),i.current=t)},[r,n,t]),b.useLayoutEffect(()=>()=>{i.current&&(r(S5(i.current)),i.current=null)},[r]),null}function HY(e){var{legendPayload:t}=e,r=Je(),n=fe(Fe),i=b.useRef(null);return b.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(w5(t)):i.current!==t&&r(j5({prev:i.current,next:t})),i.current=t)},[r,n,t]),b.useLayoutEffect(()=>()=>{i.current&&(r(S5(i.current)),i.current=null)},[r]),null}var _0,GY=()=>{var[e]=b.useState(()=>eu("uid-"));return e},KY=(_0=l6.useId)!==null&&_0!==void 0?_0:GY;function WY(e,t){var r=KY();return t||(e?"".concat(e,"-").concat(r):r)}var YY=b.createContext(void 0),n1=e=>{var{id:t,type:r,children:n}=e,i=WY("recharts-".concat(r),t);return b.createElement(YY.Provider,{value:i},n(i))},VY={cartesianItems:[],polarItems:[]},p3=Dr({name:"graphicalItems",initialState:VY,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:yt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=In(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:yt()},removeCartesianGraphicalItem:{reducer(e,t){var r=In(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:yt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:yt()},removePolarGraphicalItem:{reducer(e,t){var r=In(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:yt()}}}),{addCartesianGraphicalItem:XY,replaceCartesianGraphicalItem:ZY,removeCartesianGraphicalItem:QY,addPolarGraphicalItem:JY,removePolarGraphicalItem:eV}=p3.actions,tV=p3.reducer,rV=e=>{var t=Je(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(XY(e)):r.current!==e&&t(ZY({prev:r.current,next:e})),r.current=e},[t,e]),b.useLayoutEffect(()=>()=>{r.current&&(t(QY(r.current)),r.current=null)},[t]),null},g3=b.memo(rV);function nV(e){var t=Je();return b.useLayoutEffect(()=>(t(JY(e)),()=>{t(eV(e))}),[t,e]),null}var aV=["points"];function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function A0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){iV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iV(e,t,r){return(t=sV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sV(e){var t=oV(e,"string");return typeof t=="symbol"?t:t+""}function oV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},em.apply(null,arguments)}function lV(e,t){if(e==null)return{};var r,n,i=cV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uV(e){var{option:t,dotProps:r,className:n}=e;if(b.isValidElement(t))return b.cloneElement(t,r);if(typeof t=="function")return t(r);var i=Le(n,typeof t!="boolean"?t.className:""),s=r??{},{points:l}=s,d=lV(s,aV);return b.createElement(Yw,em({},d,{className:i}))}function dV(e,t){return e==null?!1:t?!0:e.length===1}function v3(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:s,baseProps:l,needClip:d,clipPathId:f,zIndex:h=kt.scatter}=e;if(!dV(t,r))return null;var p=c3(r),g=YI(r),v=t.map((S,k)=>{var j,_,E=A0(A0(A0({r:3},l),g),{},{index:k,cx:(j=S.x)!==null&&j!==void 0?j:void 0,cy:(_=S.y)!==null&&_!==void 0?_:void 0,dataKey:s,value:S.value,payload:S.payload,points:t});return b.createElement(uV,{key:"dot-".concat(k),option:r,dotProps:E,className:i})}),x={};return d&&f!=null&&(x.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),b.createElement(mr,{zIndex:h},b.createElement(Dt,em({className:n},x),v))}function mO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(r),!0).forEach(function(n){fV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fV(e,t,r){return(t=hV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hV(e){var t=mV(e,"string");return typeof t=="symbol"?t:t+""}function mV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y3=0,pV={xAxis:{},yAxis:{},zAxis:{}},b3=Dr({name:"cartesianAxis",initialState:pV,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:yt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:yt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:yt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:yt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:yt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:yt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:yt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:yt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:yt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var s,l=i.widthHistory||[];if(l.length===3&&l[0]===l[2]&&n===l[1]&&n!==i.width&&Math.abs(n-((s=l[0])!==null&&s!==void 0?s:0))<=1)return;var d=[...l,n].slice(-3);e.yAxis[r]=pO(pO({},i),{},{width:n,widthHistory:d})}}}}),{addXAxis:gV,replaceXAxis:vV,removeXAxis:yV,addYAxis:bV,replaceYAxis:xV,removeYAxis:wV,addZAxis:cse,replaceZAxis:use,removeZAxis:dse,updateYAxisWidth:jV}=b3.actions,SV=b3.reducer,kV=K([rr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),_V=K([kV,Xa,Za],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),a1=()=>fe(_V),AV=()=>fe(DH);function gO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function N0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(r),!0).forEach(function(n){NV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NV(e,t,r){return(t=EV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EV(e){var t=OV(e,"string");return typeof t=="symbol"?t:t+""}function OV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CV=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:s,clipPath:l}=e;if(i===!1||t.x==null||t.y==null)return null;var d={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},f=N0(N0(N0({},d),Bs(i)),vx(i)),h;return b.isValidElement(i)?h=b.cloneElement(i,f):typeof i=="function"?h=i(f):h=b.createElement(Yw,f),b.createElement(Dt,{className:"recharts-active-dot",clipPath:l},h)};function x3(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:s,zIndex:l=kt.activeDot}=e,d=fe(Ds),f=AV();if(t==null||f==null)return null;var h=t.find(p=>f.includes(p.payload));return gt(h)?null:b.createElement(mr,{zIndex:l},b.createElement(CV,{point:h,childIndex:Number(d),mainColor:r,dataKey:i,activeDot:n,clipPath:s}))}function vO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(r),!0).forEach(function(n){TV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TV(e,t,r){return(t=PV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PV(e){var t=RV(e,"string");return typeof t=="symbol"?t:t+""}function RV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w3=(e,t)=>Rl(e,"radiusAxis",t),MV=K([w3],e=>{if(e!=null)return{scale:e}}),DV=K([Wu,w3],(e,t)=>{if(!(e==null||t==null))return tm(tm({},e),{},{scale:t})}),IV=(e,t,r,n)=>Ml(e,"radiusAxis",t,n),j3=(e,t,r)=>_l(e,r),S3=(e,t,r)=>Rl(e,"angleAxis",r),LV=K([j3,S3],(e,t)=>{if(!(e==null||t==null))return tm(tm({},e),{},{scale:t})}),BV=(e,t,r,n)=>Ml(e,"angleAxis",r,n),zV=K([j3,S3,Al],(e,t,r)=>{if(!(r==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:r.cx,cy:r.cy}}),qV=(e,t,r,n,i)=>i,$V=K([Fe,DV,IV,LV,BV],(e,t,r,n,i)=>ua(e,"radiusAxis")?zi(t,r,!1):zi(n,i,!1)),UV=K([r3,qV],(e,t)=>{if(e!=null){var r=e.find(n=>n.type==="radar"&&t===n.id);return r?.dataKey}}),FV=K([MV,zV,Fm,UV,$V],(e,t,r,n,i)=>{var{chartData:s,dataStartIndex:l,dataEndIndex:d}=r;if(!(e==null||t==null||s==null||i==null||n==null)){var f=s.slice(l,d+1);return JV({radiusAxis:e,angleAxis:t,displayedData:f,dataKey:n,bandSize:i})}}),HV=["id"];function pu(){return pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pu.apply(null,arguments)}function yO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(r),!0).forEach(function(n){GV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GV(e,t,r){return(t=KV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KV(e){var t=WV(e,"string");return typeof t=="symbol"?t:t+""}function WV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YV(e,t){if(e==null)return{};var r,n,i=VV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function VV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function i1(e,t){return e&&e!=="none"?e:t}var XV=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:i1(n,i),value:bl(r,t),payload:e}]},ZV=b.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:l,tooltipType:d,id:f}=e,h={dataDefinedOnItem:void 0,getPosition:ca,settings:{stroke:r,strokeWidth:n,fill:i,nameKey:void 0,dataKey:t,name:bl(s,t),hide:l,type:d,color:i1(r,i),unit:"",graphicalItemId:f}};return b.createElement(r1,{tooltipEntrySettings:h})});function QV(e){var{points:t,props:r}=e,{dot:n,dataKey:i}=r,{id:s}=r,l=YV(r,HV),d=Ct(l);return b.createElement(v3,{points:t,dot:n,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:i,baseProps:d})}function JV(e){var{radiusAxis:t,angleAxis:r,displayedData:n,dataKey:i,bandSize:s}=e,{cx:l,cy:d}=r,f=!1,h=[],p=r.type!=="number"?s??0:0;n.forEach((v,x)=>{var S,k,j=wt(v,r.dataKey,x),_=wt(v,i),E=((S=r.scale.map(j))!==null&&S!==void 0?S:0)+p,A=Array.isArray(_)?Q4(_):_,T=gt(A)?0:(k=t.scale.map(A))!==null&&k!==void 0?k:0;Array.isArray(_)&&_.length>=2&&(f=!0),h.push(Mr(Mr({},at(l,d,T,E)),{},{name:j,value:_,cx:l,cy:d,radius:T,angle:E,payload:v}))});var g=[];return f&&h.forEach(v=>{if(Array.isArray(v.value)){var x,S=v.value[0],k=gt(S)?0:(x=t.scale.map(S))!==null&&x!==void 0?x:0;g.push(Mr(Mr({},v),{},{radius:k},at(l,d,k,v.angle)))}else g.push(v)}),{points:h,isRange:f,baseLinePoints:g}}function eX(e){var{showLabels:t,points:r,children:n}=e,i=r.map(s=>{var l,d={x:s.x,y:s.y,width:0,lowerWidth:0,upperWidth:0,height:0};return Mr(Mr({},d),{},{value:(l=s.value)!==null&&l!==void 0?l:"",payload:s.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return b.createElement(Kw,{value:t?i:void 0},n)}function tX(e){var{points:t,baseLinePoints:r,props:n}=e;if(t==null)return null;var{shape:i,isRange:s,connectNulls:l}=n,d=p=>{var{onMouseEnter:g}=n;g&&g(n,p)},f=p=>{var{onMouseLeave:g}=n;g&&g(n,p)},h;return b.isValidElement(i)?h=b.cloneElement(i,Mr(Mr({},n),{},{points:t})):typeof i=="function"?h=i(Mr(Mr({},n),{},{points:t})):h=b.createElement(t3,pu({},Mt(n),{onMouseEnter:d,onMouseLeave:f,points:t,baseLinePoints:s?r:void 0,connectNulls:l})),b.createElement(Dt,{className:"recharts-radar-polygon"},h,b.createElement(QV,{props:n,points:t}))}var bO=(e,t,r)=>(n,i)=>{var s=e&&e[Math.floor(i*t)];return s?Mr(Mr({},n),{},{x:ut(s.x,n.x,r),y:ut(s.y,n.y,r)}):Mr(Mr({},n),{},{x:ut(n.cx,n.x,r),y:ut(n.cy,n.y,r)})};function rX(e){var{props:t,previousPointsRef:r,previousBaseLinePointsRef:n}=e,{points:i,baseLinePoints:s,isAnimationActive:l,animationBegin:d,animationDuration:f,animationEasing:h,onAnimationEnd:p,onAnimationStart:g}=t,v=r.current,x=n.current,S=v?v.length/i.length:1,k=x?x.length/s.length:1,j=$u(t,"recharts-radar-"),[_,E]=b.useState(!1),A=!_,T=b.useCallback(()=>{typeof p=="function"&&p(),E(!1)},[p]),C=b.useCallback(()=>{typeof g=="function"&&g(),E(!0)},[g]);return b.createElement(eX,{showLabels:A,points:i},b.createElement(qu,{animationId:j,begin:d,duration:f,isActive:l,easing:h,key:"radar-".concat(j),onAnimationEnd:T,onAnimationStart:C},O=>{var M=O===1?i:i.map(bO(v,S,O)),P=O===1?s:s?.map(bO(x,k,O));return O>0&&(r.current=M,n.current=P),b.createElement(tX,{points:M,baseLinePoints:P,props:t})}),b.createElement(Ww,{label:t.label}),t.children)}function nX(e){var t=b.useRef(void 0),r=b.useRef(void 0);return b.createElement(rX,{props:e,previousPointsRef:t,previousBaseLinePointsRef:r})}var aX={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:kt.area};function iX(e){var{hide:t,className:r,points:n}=e;if(t)return null;var i=Le("recharts-radar",r);return b.createElement(mr,{zIndex:e.zIndex},b.createElement(Dt,{className:i},b.createElement(nX,e)),b.createElement(x3,{points:n,mainColor:i1(e.stroke,e.fill),itemDataKey:e.dataKey,activeDot:e.activeDot}))}function sX(e){var t=Wt(),r=fe(n=>FV(n,e.radiusAxisId,e.angleAxisId,t,e.id));return r?.points==null?null:b.createElement(iX,pu({},e,{points:r?.points,baseLinePoints:r?.baseLinePoints,isRange:r?.isRange}))}function gu(e){var t=jt(e,aX);return b.createElement(n1,{id:t.id,type:"radar"},r=>b.createElement(b.Fragment,null,b.createElement(nV,{type:"radar",id:r,data:void 0,dataKey:t.dataKey,hide:t.hide,angleAxisId:t.angleAxisId,radiusAxisId:t.radiusAxisId}),b.createElement(HY,{legendPayload:XV(t)}),b.createElement(ZV,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:r}),b.createElement(sX,pu({},t,{id:r}))))}gu.displayName="Radar";var xO=(e,t,r)=>{var n=r??e;if(!gt(n))return Bn(n,t,0)},oX=(e,t,r)=>{var n={},i=e.filter(Km),s=e.filter(h=>h.stackId==null),l=i.reduce((h,p)=>{var g=h[p.stackId];return g==null&&(g=[]),g.push(p),h[p.stackId]=g,h},n),d=Object.entries(l).map(h=>{var p,[g,v]=h,x=v.map(k=>k.dataKey),S=xO(t,r,(p=v[0])===null||p===void 0?void 0:p.barSize);return{stackId:g,dataKeys:x,barSize:S}}),f=s.map(h=>{var p=[h.dataKey].filter(v=>v!=null),g=xO(t,r,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]};function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){lX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lX(e,t,r){return(t=cX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cX(e){var t=uX(e,"string");return typeof t=="symbol"?t:t+""}function uX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dX(e,t,r,n,i){var s,l=n.length;if(!(l<1)){var d=Bn(e,r,0,!0),f,h=[];if(De((s=n[0])===null||s===void 0?void 0:s.barSize)){var p=!1,g=r/l,v=n.reduce((E,A)=>E+(A.barSize||0),0);v+=(l-1)*d,v>=r&&(v-=(l-1)*d,d=0),v>=r&&g>0&&(p=!0,g*=.9,v=l*g);var x=(r-v)/2>>0,S={offset:x-d,size:0};f=n.reduce((E,A)=>{var T,C={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:S.offset+S.size+d,size:p?g:(T=A.barSize)!==null&&T!==void 0?T:0}},O=[...E,C];return S=C.position,O},h)}else{var k=Bn(t,r,0,!0);r-2*k-(l-1)*d<=0&&(d=0);var j=(r-2*k-(l-1)*d)/l;j>1&&(j>>=0);var _=De(i)?Math.min(j,i):j;f=n.reduce((E,A,T)=>[...E,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:k+(j+d)*T+(j-_)/2,size:_}}],h)}return f}}var fX=(e,t,r,n,i,s,l)=>{var d=gt(l)?t:l,f=dX(r,n,i!==s?i:s,e,d);return i!==s&&f!=null&&(f=f.map(h=>Uf(Uf({},h),{},{position:Uf(Uf({},h.position),{},{offset:h.position.offset-i/2})}))),f},hX=(e,t)=>{var r=hw(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===r)}}}},mX=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function pX(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&De(e.zIndex)?e.zIndex:t}var k3=e=>{var{chartData:t}=e,r=Je(),n=Wt();return b.useEffect(()=>n?()=>{}:(r(hE(t)),()=>{r(hE(void 0))}),[t,r,n]),null},jO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_3=Dr({name:"brush",initialState:jO,reducers:{setBrushSettings(e,t){return t.payload==null?jO:t.payload}}}),{setBrushSettings:fse}=_3.actions,gX=_3.reducer,vX=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return{x:Math.min(r,i),y:Math.min(n,s),width:Math.abs(i-r),height:Math.abs(s-n)}},yX=e=>{var{x1:t,y1:r,x2:n,y2:i}=e;return vX({x:t,y:r},{x:n,y:i})};function bX(e){return(e%180+180)%180}var xX=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=bX(i),l=s*Math.PI/180,d=Math.atan(n/r),f=l>d&&l<Math.PI-d?n/Math.sin(l):r/Math.cos(l);return Math.abs(f)},wX={dots:[],areas:[],lines:[]},A3=Dr({name:"referenceElements",initialState:wX,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=In(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=In(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=In(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:hse,removeDot:mse,addArea:pse,removeArea:gse,addLine:jX,removeLine:SX}=A3.actions,kX=A3.reducer,N3=b.createContext(void 0),_X=e=>{var{children:t}=e,[r]=b.useState("".concat(eu("recharts"),"-clip")),n=a1();if(n==null)return null;var{x:i,y:s,width:l,height:d}=n;return b.createElement(N3.Provider,{value:r},b.createElement("defs",null,b.createElement("clipPath",{id:r},b.createElement("rect",{x:i,y:s,height:d,width:l}))),t)},AX=()=>b.useContext(N3);class NX{constructor(t){var{x:r,y:n}=t;this.xAxisScale=r,this.yAxisScale=n}map(t,r){var n,i,{position:s}=r;return{x:(n=this.xAxisScale.map(t.x,{position:s}))!==null&&n!==void 0?n:0,y:(i=this.yAxisScale.map(t.y,{position:s}))!==null&&i!==void 0?i:0}}mapWithFallback(t,r){var n,i,{position:s,fallback:l}=r,d,f;return l==="rangeMin"?d=this.yAxisScale.rangeMin():l==="rangeMax"?d=this.yAxisScale.rangeMax():d=0,l==="rangeMin"?f=this.xAxisScale.rangeMin():l==="rangeMax"?f=this.xAxisScale.rangeMax():f=0,{x:(n=this.xAxisScale.map(t.x,{position:s}))!==null&&n!==void 0?n:f,y:(i=this.yAxisScale.map(t.y,{position:s}))!==null&&i!==void 0?i:d}}isInRange(t){var{x:r,y:n}=t,i=r==null||this.xAxisScale.isInRange(r),s=n==null||this.yAxisScale.isInRange(n);return i&&s}}function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(n){EX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EX(e,t,r){return(t=OX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OX(e){var t=CX(e,"string");return typeof t=="symbol"?t:t+""}function CX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rm(){return rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rm.apply(null,arguments)}var TX=(e,t)=>{var r;if(b.isValidElement(e))r=b.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!De(t.x1)||!De(t.y1)||!De(t.x2)||!De(t.y2))return null;r=b.createElement("line",rm({},t,{className:"recharts-reference-line-line"}))}return r},PX=(e,t,r,n,i,s)=>{var{x:l,width:d}=s,f=i.map(e,{position:r});if(!De(f)||t==="discard"&&!i.isInRange(f))return null;var h=[{x:l+d,y:f},{x:l,y:f}];return n==="left"?h.reverse():h},RX=(e,t,r,n,i,s)=>{var{y:l,height:d}=s,f=i.map(e,{position:r});if(!De(f)||t==="discard"&&!i.isInRange(f))return null;var h=[{x:f,y:l+d},{x:f,y:l}];return n==="top"?h.reverse():h},MX=(e,t,r,n)=>{var i=[n.mapWithFallback(e[0],{position:r,fallback:"rangeMin"}),n.mapWithFallback(e[1],{position:r,fallback:"rangeMax"})];return t==="discard"&&i.some(s=>!n.isInRange(s))?null:i},DX=(e,t,r,n,i,s,l)=>{var{x:d,y:f,segment:h,ifOverflow:p}=l,g=vn(d),v=vn(f);return v?PX(f,p,n,s,t,r):g?RX(d,p,n,i,e,r):h!=null&&h.length===2?MX(h,p,n,new NX({x:e,y:t})):null};function IX(e){var t=Je();return b.useEffect(()=>(t(jX(e)),()=>{t(SX(e))})),null}function LX(e){var{xAxisId:t,yAxisId:r,shape:n,className:i,ifOverflow:s}=e,l=Wt(),d=AX(),f=fe(M=>da(M,t)),h=fe(M=>fa(M,r)),p=fe(M=>ul(M,"xAxis",t,l)),g=fe(M=>ul(M,"yAxis",r,l)),v=Lu();if(!d||!v||f==null||h==null||p==null||g==null)return null;var x=DX(p,g,v,e.position,f.orientation,h.orientation,e);if(!x)return null;var S=x[0],k=x[1];if(S==null||k==null)return null;var{x:j,y:_}=S,{x:E,y:A}=k,T=s==="hidden"?"url(#".concat(d,")"):void 0,C=kO(kO({clipPath:T},Mt(e)),{},{x1:j,y1:_,x2:E,y2:A}),O=yX({x1:j,y1:_,x2:E,y2:A});return b.createElement(mr,{zIndex:e.zIndex},b.createElement(Dt,{className:Le("recharts-reference-line",i)},TX(n,C),b.createElement(K4,rm({},O,{lowerWidth:O.width,upperWidth:O.width}),b.createElement(Z4,{label:e.label}),e.children)))}var BX={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",label:!1,stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:kt.line};function E3(e){var t=jt(e,BX);return b.createElement(b.Fragment,null,b.createElement(IX,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),b.createElement(LX,t))}E3.displayName="ReferenceLine";function O3(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function zX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return xX(n,r)}function qX(e,t,r){var n=r==="width",{x:i,y:s,width:l,height:d}=e;return t===1?{start:n?i:s,end:n?i+l:s+d}:{start:n?i+l:s+d,end:n?i:s}}function vu(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function $X(e,t){return O3(e,t+1)}function UX(e,t,r,n,i){for(var s=(n||[]).slice(),{start:l,end:d}=t,f=0,h=1,p=l,g=function(){var S=n?.[f];if(S===void 0)return{v:O3(n,h)};var k=f,j,_=()=>(j===void 0&&(j=r(S,k)),j),E=S.coordinate,A=f===0||vu(e,E,_,p,d);A||(f=0,p=l,h+=1),A&&(p=E+e*(_()/2+i),f+=h)},v;h<=s.length;)if(v=g(),v)return v.v;return[]}function FX(e,t,r,n,i){var s=(n||[]).slice(),l=s.length;if(l===0)return[];for(var{start:d,end:f}=t,h=1;h<=l;h++){for(var p=(l-1)%h,g=d,v=!0,x=function(){var T=n[k];if(T==null)return 0;var C=k,O,M=()=>(O===void 0&&(O=r(T,C)),O),P=T.coordinate,I=k===p||vu(e,P,M,g,f);if(!I)return v=!1,1;I&&(g=P+e*(M()/2+i))},S,k=p;k<l&&(S=x(),!(S!==0&&S===1));k+=h);if(v){for(var j=[],_=p;_<l;_+=h){var E=n[_];E!=null&&j.push(E)}return j}}return[]}function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(n){HX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HX(e,t,r){return(t=GX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GX(e){var t=KX(e,"string");return typeof t=="symbol"?t:t+""}function KX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WX(e,t,r,n,i){for(var s=(n||[]).slice(),l=s.length,{start:d}=t,{end:f}=t,h=function(v){var x=s[v];if(x==null)return 1;var S=x,k,j=()=>(k===void 0&&(k=r(x,v)),k);if(v===l-1){var _=e*(S.coordinate+e*j()/2-f);s[v]=S=gr(gr({},S),{},{tickCoord:_>0?S.coordinate-_*e:S.coordinate})}else s[v]=S=gr(gr({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var E=vu(e,S.tickCoord,j,d,f);E&&(f=S.tickCoord-e*(j()/2+i),s[v]=gr(gr({},S),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function YX(e,t,r,n,i,s){var l=(n||[]).slice(),d=l.length,{start:f,end:h}=t;if(s){var p=n[d-1];if(p!=null){var g=r(p,d-1),v=e*(p.coordinate+e*g/2-h);if(l[d-1]=p=gr(gr({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate}),p.tickCoord!=null){var x=vu(e,p.tickCoord,()=>g,f,h);x&&(h=p.tickCoord-e*(g/2+i),l[d-1]=gr(gr({},p),{},{isShow:!0}))}}}for(var S=s?d-1:d,k=function(E){var A=l[E];if(A==null)return 1;var T=A,C,O=()=>(C===void 0&&(C=r(A,E)),C);if(E===0){var M=e*(T.coordinate-e*O()/2-f);l[E]=T=gr(gr({},T),{},{tickCoord:M<0?T.coordinate-M*e:T.coordinate})}else l[E]=T=gr(gr({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var P=vu(e,T.tickCoord,O,f,h);P&&(f=T.tickCoord+e*(O()/2+i),l[E]=gr(gr({},T),{},{isShow:!0}))}},j=0;j<S;j++)k(j);return l}function s1(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:l,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=e;if(!i||!i.length||!n)return[];if(be(f)||Im.isSsr){var v;return(v=$X(i,be(f)?f:0))!==null&&v!==void 0?v:[]}var x=[],S=d==="top"||d==="bottom"?"width":"height",k=p&&S==="width"?Yc(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},j=(C,O)=>{var M=typeof h=="function"?h(C.value,O):C.value;return S==="width"?zX(Yc(M,{fontSize:t,letterSpacing:r}),k,g):Yc(M,{fontSize:t,letterSpacing:r})[S]},_=i[0],E=i[1],A=i.length>=2&&_!=null&&E!=null?Tr(E.coordinate-_.coordinate):1,T=qX(s,A,S);return f==="equidistantPreserveStart"?UX(A,T,j,i,l):f==="equidistantPreserveEnd"?FX(A,T,j,i,l):(f==="preserveStart"||f==="preserveStartEnd"?x=YX(A,T,j,i,l,f==="preserveStartEnd"):x=WX(A,T,j,i,l),x.filter(C=>C.isShow))}var VX=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var d=r?r.getBoundingClientRect().width:0,f=i+s,h=l+f+d+(r?n:0);return Math.round(h)}return 0},XX=["axisLine","width","height","className","hide","ticks","axisType"];function ZX(e,t){if(e==null)return{};var r,n,i=QX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function QX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ls.apply(null,arguments)}function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){JX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JX(e,t,r){return(t=eZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eZ(e){var t=tZ(e,"string");return typeof t=="symbol"?t:t+""}function tZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qa={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:kt.axis};function rZ(e){var{x:t,y:r,width:n,height:i,orientation:s,mirror:l,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var h=Et(Et(Et({},f),Ct(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=Et(Et({},h),{},{x1:t,y1:r+p*i,x2:t+n,y2:r+p*i})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=Et(Et({},h),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+i})}return b.createElement("line",Ls({},h,{className:Le("recharts-cartesian-axis-line",nl(d,"className"))}))}function nZ(e,t,r,n,i,s,l,d,f){var h,p,g,v,x,S,k=d?-1:1,j=e.tickSize||l,_=be(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=p=e.coordinate,v=r+ +!d*i,g=v-k*j,S=g-k*f,x=_;break;case"left":g=v=e.coordinate,p=t+ +!d*n,h=p-k*j,x=h-k*f,S=_;break;case"right":g=v=e.coordinate,p=t+ +d*n,h=p+k*j,x=h+k*f,S=_;break;default:h=p=e.coordinate,v=r+ +d*i,g=v+k*j,S=g+k*f,x=_;break}return{line:{x1:h,y1:g,x2:p,y2:v},tick:{x,y:S}}}function aZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function iZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function sZ(e){var{option:t,tickProps:r,value:n}=e,i,s=Le(r.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))i=b.cloneElement(t,Et(Et({},r),{},{className:s}));else if(typeof t=="function")i=t(Et(Et({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Le(l,Qw(t))),i=b.createElement(td,Ls({},r,{className:l}),n)}return i}var oZ=b.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:s,tickFormatter:l,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:g,x:v,y:x,width:S,height:k,tickSize:j,tickMargin:_,fontSize:E,letterSpacing:A,getTicksConfig:T,events:C,axisType:O}=e,M=s1(Et(Et({},T),{},{ticks:r}),E,A),P=aZ(p,g),I=iZ(p,g),q=Ct(T),Z=Bs(n),U={};typeof i=="object"&&(U=i);var ce=Et(Et({},q),{},{fill:"none"},U),$=M.map(F=>Et({entry:F},nZ(F,v,x,S,k,p,j,g,_))),te=$.map(F=>{var{entry:ae,line:ue}=F;return b.createElement(Dt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ae.value,"-").concat(ae.coordinate,"-").concat(ae.tickCoord)},i&&b.createElement("line",Ls({},ce,ue,{className:Le("recharts-cartesian-axis-tick-line",nl(i,"className"))})))}),L=$.map((F,ae)=>{var ue,ee,{entry:D,tick:H}=F,Q=Et(Et(Et(Et({verticalAnchor:I},q),{},{textAnchor:P,stroke:"none",fill:s},H),{},{index:ae,payload:D,visibleTicksCount:M.length,tickFormatter:l,padding:f},h),{},{angle:(ue=(ee=h?.angle)!==null&&ee!==void 0?ee:q.angle)!==null&&ue!==void 0?ue:0}),ie=Et(Et({},Q),Z);return b.createElement(Dt,Ls({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},yl(C,D,ae)),n&&b.createElement(sZ,{option:n,tickProps:ie,value:"".concat(typeof l=="function"?l(D.value,ae):D.value).concat(d||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},L.length>0&&b.createElement(mr,{zIndex:kt.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},L)),te.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},te))}),lZ=b.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:s,hide:l,ticks:d,axisType:f}=e,h=ZX(e,XX),[p,g]=b.useState(""),[v,x]=b.useState(""),S=b.useRef(null);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var j;return VX({ticks:S.current,label:(j=e.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var k=b.useCallback(j=>{if(j){var _=j.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=_;var E=_[0];if(E){var A=window.getComputedStyle(E),T=A.fontSize,C=A.letterSpacing;(T!==p||C!==v)&&(g(T),x(C))}}},[p,v]);return l||n!=null&&n<=0||i!=null&&i<=0?null:b.createElement(mr,{zIndex:e.zIndex},b.createElement(Dt,{className:Le("recharts-cartesian-axis",s)},b.createElement(rZ,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ct(e)}),b.createElement(oZ,{ref:k,axisType:f,events:h,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),b.createElement(K4,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},b.createElement(Z4,{label:e.label,labelRef:e.labelRef}),e.children)))}),o1=b.forwardRef((e,t)=>{var r=jt(e,qa);return b.createElement(lZ,Ls({},r,{ref:t}))});o1.displayName="CartesianAxis";var cZ=["x1","y1","x2","y2","key"],uZ=["offset"],dZ=["xAxisId","yAxisId"],fZ=["xAxisId","yAxisId"];function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(n){hZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hZ(e,t,r){return(t=mZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mZ(e){var t=pZ(e,"string");return typeof t=="symbol"?t:t+""}function pZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ks.apply(null,arguments)}function nm(e,t){if(e==null)return{};var r,n,i=gZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:l,ry:d}=e;return b.createElement("rect",{x:n,y:i,ry:d,width:s,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function C3(e){var{option:t,lineItemProps:r}=e,n;if(b.isValidElement(t))n=b.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:s,y1:l,x2:d,y2:f,key:h}=r,p=nm(r,cZ),g=(i=Ct(p))!==null&&i!==void 0?i:{},{offset:v}=g,x=nm(g,uZ);n=b.createElement("line",ks({},x,{x1:s,y1:l,x2:d,y2:f,fill:"none",key:h}))}return n}function yZ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=e,d=nm(e,dZ),f=i.map((h,p)=>{var g=vr(vr({},d),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(p),index:p});return b.createElement(C3,{key:"line-".concat(p),option:n,lineItemProps:g})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function bZ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=e,d=nm(e,fZ),f=i.map((h,p)=>{var g=vr(vr({},d),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(p),index:p});return b.createElement(C3,{option:n,lineItemProps:g,key:"line-".concat(p)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function xZ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:l,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length||d==null)return null;var h=d.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==h[0]&&h.unshift(0);var p=h.map((g,v)=>{var x=h[v+1],S=x==null,k=S?i+l-g:x-g;if(k<=0)return null;var j=v%t.length;return b.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:k,width:s,stroke:"none",fill:t[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function wZ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:l,height:d,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var h=f.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==h[0]&&h.unshift(0);var p=h.map((g,v)=>{var x=h[v+1],S=x==null,k=S?i+l-g:x-g;if(k<=0)return null;var j=v%r.length;return b.createElement("rect",{key:"react-".concat(v),x:g,y:s,width:k,height:d,stroke:"none",fill:r[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var jZ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return i5(s1(vr(vr(vr({},qa),r),{},{ticks:s5(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},SZ=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return i5(s1(vr(vr(vr({},qa),r),{},{ticks:s5(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},kZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:kt.grid};function ap(e){var t=Px(),r=Rx(),n=d5(),i=vr(vr({},jt(e,kZ)),{},{x:be(e.x)?e.x:n.left,y:be(e.y)?e.y:n.top,width:be(e.width)?e.width:n.width,height:be(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:v,verticalValues:x}=i,S=Wt(),k=fe(I=>tE(I,"xAxis",s,S)),j=fe(I=>tE(I,"yAxis",l,S));if(!aa(h)||!aa(p)||!be(d)||!be(f))return null;var _=i.verticalCoordinatesGenerator||jZ,E=i.horizontalCoordinatesGenerator||SZ,{horizontalPoints:A,verticalPoints:T}=i;if((!A||!A.length)&&typeof E=="function"){var C=v&&v.length,O=E({yAxis:j?vr(vr({},j),{},{ticks:C?v:j.ticks}):void 0,width:t??h,height:r??p,offset:n},C?!0:g);Ah(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(A=O)}if((!T||!T.length)&&typeof _=="function"){var M=x&&x.length,P=_({xAxis:k?vr(vr({},k),{},{ticks:M?x:k.ticks}):void 0,width:t??h,height:r??p,offset:n},M?!0:g);Ah(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(T=P)}return b.createElement(mr,{zIndex:i.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(vZ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(xZ,ks({},i,{horizontalPoints:A})),b.createElement(wZ,ks({},i,{verticalPoints:T})),b.createElement(yZ,ks({},i,{offset:n,horizontalPoints:A,xAxis:k,yAxis:j})),b.createElement(bZ,ks({},i,{offset:n,verticalPoints:T,xAxis:k,yAxis:j}))))}ap.displayName="CartesianGrid";var _Z={},T3=Dr({name:"errorBars",initialState:_Z,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:vse,replaceErrorBar:yse,removeErrorBar:bse}=T3.actions,AZ=T3.reducer,NZ=["children"];function EZ(e,t){if(e==null)return{};var r,n,i=OZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function OZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CZ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},TZ=b.createContext(CZ);function P3(e){var{children:t}=e,r=EZ(e,NZ);return b.createElement(TZ.Provider,{value:r},t)}function l1(e,t){var r,n,i=fe(h=>da(h,e)),s=fe(h=>fa(h,t)),l=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:Qt.allowDataOverflow,d=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:Jt.allowDataOverflow,f=l||d;return{needClip:f,needClipX:l,needClipY:d}}function R3(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=a1(),{needClipX:s,needClipY:l,needClip:d}=l1(t,r);if(!d||!i)return null;var{x:f,y:h,width:p,height:g}=i;return b.createElement("clipPath",{id:"clipPath-".concat(n)},b.createElement("rect",{x:s?f:f-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}var M3=(e,t,r,n)=>$i(e,"xAxis",t,n),D3=(e,t,r,n)=>qi(e,"xAxis",t,n),I3=(e,t,r,n)=>$i(e,"yAxis",r,n),L3=(e,t,r,n)=>qi(e,"yAxis",r,n),PZ=K([Fe,M3,I3,D3,L3],(e,t,r,n,i)=>ua(e,"xAxis")?zi(t,n,!1):zi(r,i,!1)),RZ=(e,t,r,n,i)=>i;function MZ(e){return e.type==="line"}var DZ=K([Vm,RZ],(e,t)=>e.filter(MZ).find(r=>r.id===t)),IZ=K([Fe,M3,I3,D3,L3,DZ,PZ,sw],(e,t,r,n,i,s,l,d)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=d;if(!(s==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:g,data:v}=s,x;if(v!=null&&v.length>0?x=v:x=f?.slice(h,p+1),x!=null)return SQ({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:x})}});function LZ(e){var t=Bs(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:s}=t,l=Number(i),d=Number(s);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(d)||d<0)&&(d=n),{r:l,strokeWidth:d}}return{r,strokeWidth:n}}var E0={exports:{}},O0={};var EO;function BZ(){if(EO)return O0;EO=1;var e=hl();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,l=e.useMemo,d=e.useDebugValue;return O0.useSyncExternalStoreWithSelector=function(f,h,p,g,v){var x=i(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=l(function(){function j(C){if(!_){if(_=!0,E=C,C=g(C),v!==void 0&&S.hasValue){var O=S.value;if(v(O,C))return A=O}return A=C}if(O=A,r(E,C))return O;var M=g(C);return v!==void 0&&v(O,M)?(E=C,O):(E=C,A=M)}var _=!1,E,A,T=p===void 0?null:p;return[function(){return j(h())},T===null?void 0:function(){return j(T())}]},[h,p,g,v]);var k=n(f,x[0],x[1]);return s(function(){S.hasValue=!0,S.value=k},[k]),d(k),k},O0}var OO;function zZ(){return OO||(OO=1,E0.exports=BZ()),E0.exports}zZ();function qZ(e){e()}function $Z(){let e=null,t=null;return{clear(){e=null,t=null},notify(){qZ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var CO={notify(){},get:()=>[]};function UZ(e,t){let r,n=CO,i=0,s=!1;function l(k){p();const j=n.subscribe(k);let _=!1;return()=>{_||(_=!0,j(),g())}}function d(){n.notify()}function f(){S.onStateChange&&S.onStateChange()}function h(){return s}function p(){i++,r||(r=e.subscribe(f),n=$Z())}function g(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=CO)}function v(){s||(s=!0,p())}function x(){s&&(s=!1,g())}const S={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:v,tryUnsubscribe:x,getListeners:()=>n};return S}var FZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HZ=FZ(),GZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",KZ=GZ(),WZ=()=>HZ||KZ?b.useLayoutEffect:b.useEffect,YZ=WZ();function TO(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function VZ(e,t){if(TO(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!TO(e[r[i]],t[r[i]]))return!1;return!0}var XZ=Symbol.for("react-redux-context"),ZZ=typeof globalThis<"u"?globalThis:{};function QZ(){if(!b.createContext)return{};const e=ZZ[XZ]??=new Map;let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var JZ=QZ();function eQ(e){const{children:t,context:r,serverState:n,store:i}=e,s=b.useMemo(()=>{const f=UZ(i);return{store:i,subscription:f,getServerState:n?()=>n:void 0}},[i,n]),l=b.useMemo(()=>i.getState(),[i]);YZ(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const d=r||JZ;return b.createElement(d.Provider,{value:s},t)}var tQ=eQ,rQ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function nQ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function ip(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(rQ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!VZ(e[n],t[n]))return!1}else if(!nQ(e[n],t[n]))return!1;return!0}var aQ=["id"],iQ=["type","layout","connectNulls","needClip","shape"],sQ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yu.apply(null,arguments)}function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){oQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oQ(e,t,r){return(t=lQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lQ(e){var t=cQ(e,"string");return typeof t=="symbol"?t:t+""}function cQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c1(e,t){if(e==null)return{};var r,n,i=uQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dQ=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:bl(r,t),payload:e}]},fQ=b.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:s,name:l,hide:d,unit:f,tooltipType:h,id:p}=e,g={dataDefinedOnItem:r,getPosition:ca,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:bl(l,t),hide:d,type:h,color:n,unit:f,graphicalItemId:p}};return b.createElement(r1,{tooltipEntrySettings:g})}),B3=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function hQ(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var mQ=(e,t,r)=>{var n=r.reduce((x,S)=>x+S);if(!n)return B3(t,e);for(var i=Math.floor(e/n),s=e%n,l=t-e,d=[],f=0,h=0;f<r.length;h+=(p=r[f])!==null&&p!==void 0?p:0,++f){var p,g=r[f];if(g!=null&&h+g>s){d=[...r.slice(0,f),s-h];break}}var v=d.length%2===0?[0,l]:[l];return[...hQ(r,i),...d,...v].map(x=>"".concat(x,"px")).join(", ")};function pQ(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:s,needClip:l}=n,{id:d}=n,f=c1(n,aQ),h=Ct(f);return b.createElement(v3,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:t})}function gQ(e){var{showLabels:t,children:r,points:n}=e,i=b.useMemo(()=>n?.map(s=>{var l,d,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Zn(Zn({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[n]);return b.createElement(Kw,{value:t?i:void 0},r)}function RO(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:s}=e,{type:l,layout:d,connectNulls:f,needClip:h,shape:p}=s,g=c1(s,iQ),v=Zn(Zn({},Mt(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:d,connectNulls:f,strokeDasharray:i??s.strokeDasharray});return b.createElement(b.Fragment,null,n?.length>1&&b.createElement(u3,yu({shapeType:"curve",option:p},v,{pathRef:r})),b.createElement(pQ,{points:n,clipPathId:t,props:s}))}function vQ(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function yQ(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:s}=e,{points:l,strokeDasharray:d,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:v,width:x,height:S,onAnimationEnd:k,onAnimationStart:j}=r,_=i.current,E=$u(l,"recharts-line-"),A=b.useRef(E),[T,C]=b.useState(!1),O=!T,M=b.useCallback(()=>{typeof k=="function"&&k(),C(!1)},[k]),P=b.useCallback(()=>{typeof j=="function"&&j(),C(!0)},[j]),I=vQ(n.current),q=b.useRef(0);A.current!==E&&(q.current=s.current,A.current=E);var Z=q.current;return b.createElement(gQ,{points:l,showLabels:O},r.children,b.createElement(qu,{animationId:E,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:M,onAnimationStart:P,key:E},U=>{var ce=ut(Z,I+Z,U),$=Math.min(ce,I),te;if(f)if(d){var L="".concat(d).split(/[,\s]+/gim).map(ue=>parseFloat(ue));te=mQ($,I,L)}else te=B3(I,$);else te=d==null?void 0:String(d);if(U>0&&I>0&&(i.current=l,s.current=Math.max(s.current,$)),_){var F=_.length/l.length,ae=U===1?l:l.map((ue,ee)=>{var D=Math.floor(ee*F);if(_[D]){var H=_[D];return Zn(Zn({},ue),{},{x:ut(H.x,ue.x,U),y:ut(H.y,ue.y,U)})}return v?Zn(Zn({},ue),{},{x:ut(x*2,ue.x,U),y:ut(S/2,ue.y,U)}):Zn(Zn({},ue),{},{x:ue.x,y:ue.y})});return i.current=ae,b.createElement(RO,{props:r,points:ae,clipPathId:t,pathRef:n,strokeDasharray:te})}return b.createElement(RO,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:te})}),b.createElement(Ww,{label:r.label}))}function bQ(e){var{clipPathId:t,props:r}=e,n=b.useRef(null),i=b.useRef(0),s=b.useRef(null);return b.createElement(yQ,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:s})}var xQ=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:wt(e.payload,t)}};class wQ extends b.Component{render(){var{hide:t,dot:r,points:n,className:i,xAxisId:s,yAxisId:l,top:d,left:f,width:h,height:p,id:g,needClip:v,zIndex:x}=this.props;if(t)return null;var S=Le("recharts-line",i),k=g,{r:j,strokeWidth:_}=LZ(r),E=c3(r),A=j*2+_,T=v?"url(#clipPath-".concat(E?"":"dots-").concat(k,")"):void 0;return b.createElement(mr,{zIndex:x},b.createElement(Dt,{className:S},v&&b.createElement("defs",null,b.createElement(R3,{clipPathId:k,xAxisId:s,yAxisId:l}),!E&&b.createElement("clipPath",{id:"clipPath-dots-".concat(k)},b.createElement("rect",{x:f-A/2,y:d-A/2,width:h+A,height:p+A}))),b.createElement(P3,{xAxisId:s,yAxisId:l,data:n,dataPointFormatter:xQ,errorBarOffset:0},b.createElement(bQ,{props:this.props,clipPathId:k}))),b.createElement(x3,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:T}))}}var z3={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:kt.line,type:"linear"};function jQ(e){var t=jt(e,z3),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:d,dot:f,hide:h,isAnimationActive:p,label:g,legendType:v,xAxisId:x,yAxisId:S,id:k}=t,j=c1(t,sQ),{needClip:_}=l1(x,S),E=a1(),A=zs(),T=Wt(),C=fe(q=>IZ(q,x,S,T,k));if(A!=="horizontal"&&A!=="vertical"||C==null||E==null)return null;var{height:O,width:M,x:P,y:I}=E;return b.createElement(wQ,yu({},j,{id:k,connectNulls:d,dot:f,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:v,xAxisId:x,yAxisId:S,points:C,layout:A,height:O,width:M,left:P,top:I,needClip:_}))}function SQ(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:d,displayedData:f}=e;return f.map((h,p)=>{var g=wt(h,l);if(t==="horizontal"){var v=Q_({axis:r,ticks:i,bandSize:d,entry:h,index:p}),x=gt(g)?null:n.scale.map(g);return{x:v,y:x??null,value:g,payload:h}}var S=gt(g)?null:r.scale.map(g),k=Q_({axis:n,ticks:s,bandSize:d,entry:h,index:p});return S==null||k==null?null:{x:S,y:k,value:g,payload:h}}).filter(Boolean)}function kQ(e){var t=jt(e,z3),r=Wt();return b.createElement(n1,{id:t.id,type:"line"},n=>b.createElement(b.Fragment,null,b.createElement(m3,{legendPayload:dQ(t)}),b.createElement(fQ,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),b.createElement(g3,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),b.createElement(jQ,yu({},t,{id:n}))))}var sh=b.memo(kQ,ip);sh.displayName="Line";function Fs(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:y3}function Hs(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:y3}var _Q="Invariant failed";function AQ(e,t){throw new Error(_Q)}function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ib.apply(null,arguments)}function am(e){return b.createElement(u3,Ib({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var NQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(be(t))return t;var s=be(n)||gt(n);return s?t(n,i):(s||AQ(),r)}},EQ=(e,t,r)=>r,OQ=(e,t)=>t,rd=K([Vm,OQ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),CQ=K([rd],e=>e?.maxBarSize),TQ=(e,t,r,n)=>n,PQ=K([Fe,Vm,Fs,Hs,EQ],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),RQ=(e,t,r)=>{var n=Fe(e),i=Fs(e,t),s=Hs(e,t);if(!(i==null||s==null))return n==="horizontal"?Ob(e,"yAxis",s,r):Ob(e,"xAxis",i,r)},MQ=(e,t)=>{var r=Fe(e),n=Fs(e,t),i=Hs(e,t);if(!(n==null||i==null))return r==="horizontal"?eE(e,"xAxis",n):eE(e,"yAxis",i)},DQ=K([PQ,TF,MQ],oX),IQ=(e,t,r)=>{var n,i,s=rd(e,t);if(s==null)return 0;var l=Fs(e,t),d=Hs(e,t);if(l==null||d==null)return 0;var f=Fe(e),h=AP(e),{maxBarSize:p}=s,g=gt(p)?h:p,v,x;return f==="horizontal"?(v=$i(e,"xAxis",l,r),x=qi(e,"xAxis",l,r)):(v=$i(e,"yAxis",d,r),x=qi(e,"yAxis",d,r)),(n=(i=zi(v,x,!0))!==null&&i!==void 0?i:g)!==null&&n!==void 0?n:0},q3=(e,t,r)=>{var n=Fe(e),i=Fs(e,t),s=Hs(e,t);if(!(i==null||s==null)){var l,d;return n==="horizontal"?(l=$i(e,"xAxis",i,r),d=qi(e,"xAxis",i,r)):(l=$i(e,"yAxis",s,r),d=qi(e,"yAxis",s,r)),zi(l,d)}},LQ=K([DQ,AP,CF,NP,IQ,q3,CQ],fX),BQ=(e,t,r)=>{var n=Fs(e,t);if(n!=null)return $i(e,"xAxis",n,r)},zQ=(e,t,r)=>{var n=Hs(e,t);if(n!=null)return $i(e,"yAxis",n,r)},qQ=(e,t,r)=>{var n=Fs(e,t);if(n!=null)return qi(e,"xAxis",n,r)},$Q=(e,t,r)=>{var n=Hs(e,t);if(n!=null)return qi(e,"yAxis",n,r)},UQ=K([LQ,rd],mX),FQ=K([RQ,rd],hX),HQ=K([rr,Ox,BQ,zQ,qQ,$Q,UQ,Fe,jF,q3,FQ,rd,TQ],(e,t,r,n,i,s,l,d,f,h,p,g,v)=>{var{chartData:x,dataStartIndex:S,dataEndIndex:k}=f;if(!(g==null||l==null||t==null||d!=="horizontal"&&d!=="vertical"||r==null||n==null||i==null||s==null||h==null)){var{data:j}=g,_;if(j!=null&&j.length>0?_=j:_=x?.slice(S,k+1),_!=null)return yJ({layout:d,barSettings:g,pos:l,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:_,offset:e,cells:v,dataStartIndex:S})}}),GQ=["index"];function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lb.apply(null,arguments)}function KQ(e,t){if(e==null)return{};var r,n,i=WQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function WQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $3=b.createContext(void 0),YQ=e=>{var t=b.useContext($3);if(t!=null)return t.stackId;if(e!=null)return hz(e)},VQ=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),XQ=e=>{var t=b.useContext($3);if(t!=null){var{stackId:r}=t;return"url(#".concat(VQ(r,e),")")}},U3=e=>{var{index:t}=e,r=KQ(e,GQ),n=XQ(t);return b.createElement(Dt,Lb({className:"recharts-bar-stack-layer",clipPath:n},r))},ZQ=["onMouseEnter","onMouseLeave","onClick"],QQ=["value","background","tooltipPosition"],JQ=["id"],eJ=["onMouseEnter","onClick","onMouseLeave"];function Ya(){return Ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ya.apply(null,arguments)}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){tJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tJ(e,t,r){return(t=rJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rJ(e){var t=nJ(e,"string");return typeof t=="symbol"?t:t+""}function nJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function im(e,t){if(e==null)return{};var r,n,i=aJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iJ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:bl(r,t),payload:e}]},sJ=b.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:l,unit:d,tooltipType:f,id:h}=e,p={dataDefinedOnItem:void 0,getPosition:ca,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:bl(s,t),hide:l,type:f,color:i,unit:d,graphicalItemId:h}};return b.createElement(r1,{tooltipEntrySettings:p})});function oJ(e){var t=fe(Ds),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:l,onMouseLeave:d,onClick:f}=s,h=im(s,ZQ),p=d3(l,n,s.id),g=f3(d),v=h3(f,n,s.id);if(!i||r==null)return null;var x=Bs(i);return b.createElement(mr,{zIndex:pX(i,kt.barBackground)},r.map((S,k)=>{var{value:j,background:_,tooltipPosition:E}=S,A=im(S,QQ);if(!_)return null;var T=p(S,k),C=g(S,k),O=v(S,k),M=xr(xr(xr(xr(xr({option:i,isActive:String(k)===t},A),{},{fill:"#eee"},_),x),yl(h,S,k)),{},{onMouseEnter:T,onMouseLeave:C,onClick:O,dataKey:n,index:k,className:"recharts-bar-background-rectangle"});return b.createElement(am,Ya({key:"background-bar-".concat(k)},M))}))}function lJ(e){var{showLabels:t,children:r,rects:n}=e,i=n?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return xr(xr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return b.createElement(Kw,{value:t?i:void 0},r)}function cJ(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:s,dataKey:l}=e,d=fe(Ds),f=fe(N4),h=r&&String(s)===d&&(f==null||l===f),p=h?r:t;return h?b.createElement(mr,{zIndex:kt.activeBar},b.createElement(U3,{index:s},b.createElement(am,Ya({},n,{name:String(n.name)},i,{isActive:h,option:p,index:s,dataKey:l})))):b.createElement(am,Ya({},n,{name:String(n.name)},i,{isActive:h,option:p,index:s,dataKey:l}))}function uJ(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:s}=e;return b.createElement(am,Ya({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:s}))}function dJ(e){var t,{data:r,props:n}=e,i=(t=Ct(n))!==null&&t!==void 0?t:{},{id:s}=i,l=im(i,JQ),{shape:d,dataKey:f,activeBar:h}=n,{onMouseEnter:p,onClick:g,onMouseLeave:v}=n,x=im(n,eJ),S=d3(p,f,s),k=f3(v),j=h3(g,f,s);return r?b.createElement(b.Fragment,null,r.map((_,E)=>b.createElement(U3,Ya({index:E,key:"rectangle-".concat(_?.x,"-").concat(_?.y,"-").concat(_?.value,"-").concat(E),className:"recharts-bar-rectangle"},yl(x,_,E),{onMouseEnter:S(_,E),onMouseLeave:k(_,E),onClick:j(_,E)}),h?b.createElement(cJ,{shape:d,activeBar:h,baseProps:l,entry:_,index:E,dataKey:f}):b.createElement(uJ,{shape:d,baseProps:l,entry:_,index:E,dataKey:f})))):null}function fJ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=t,g=r.current,v=$u(t,"recharts-bar-"),[x,S]=b.useState(!1),k=!x,j=b.useCallback(()=>{typeof h=="function"&&h(),S(!1)},[h]),_=b.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return b.createElement(lJ,{showLabels:k,rects:n},b.createElement(qu,{animationId:v,begin:l,duration:d,isActive:s,easing:f,onAnimationEnd:j,onAnimationStart:_,key:v},E=>{var A=E===1?n:n?.map((T,C)=>{var O=g&&g[C];if(O)return xr(xr({},T),{},{x:ut(O.x,T.x,E),y:ut(O.y,T.y,E),width:ut(O.width,T.width,E),height:ut(O.height,T.height,E)});if(i==="horizontal"){var M=ut(0,T.height,E),P=ut(T.stackedBarStart,T.y,E);return xr(xr({},T),{},{y:P,height:M})}var I=ut(0,T.width,E),q=ut(T.stackedBarStart,T.x,E);return xr(xr({},T),{},{width:I,x:q})});return E>0&&(r.current=A??null),A==null?null:b.createElement(Dt,null,b.createElement(dJ,{props:t,data:A}))}),b.createElement(Ww,{label:t.label}),t.children)}function hJ(e){var t=b.useRef(null);return b.createElement(fJ,{previousRectanglesRef:t,props:e})}var F3=0,mJ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:wt(e,t)}};class pJ extends b.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:l,needClip:d,background:f,id:h}=this.props;if(t||r==null)return null;var p=Le("recharts-bar",i),g=h;return b.createElement(Dt,{className:p,id:h},d&&b.createElement("defs",null,b.createElement(R3,{clipPathId:g,xAxisId:s,yAxisId:l})),b.createElement(Dt,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},b.createElement(oJ,{data:r,dataKey:n,background:f,allOtherBarProps:this.props}),b.createElement(hJ,this.props)))}}var gJ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:F3,xAxisId:0,yAxisId:0,zIndex:kt.bar};function vJ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=e,{needClip:g}=l1(t,r),v=zs(),x=Wt(),S=_Y(e.children,Hw),k=fe(E=>HQ(E,e.id,x,S));if(v!=="vertical"&&v!=="horizontal")return null;var j,_=k?.[0];return _==null||_.height==null||_.width==null?j=0:j=v==="vertical"?_.height/2:_.width/2,b.createElement(P3,{xAxisId:t,yAxisId:r,data:k,dataPointFormatter:mJ,errorBarOffset:j},b.createElement(pJ,Ya({},e,{layout:v,needClip:g,data:k,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function yJ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:l,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:v,cells:x,parentViewBox:S,dataStartIndex:k}=e,j=t==="horizontal"?d:l,_=p?j.scale.domain():null,E=mz({numericAxis:j}),A=j.scale.map(E);return g.map((T,C)=>{var O,M,P,I,q,Z;if(p){var U=p[C+k];if(U==null)return null;O=lz(U,_)}else O=wt(T,r),Array.isArray(O)||(O=[E,O]);var ce=NQ(n,F3)(O[1],C);if(t==="horizontal"){var $,te=d.scale.map(O[0]),L=d.scale.map(O[1]);if(te==null||L==null)return null;M=J_({axis:l,ticks:f,bandSize:s,offset:i.offset,entry:T,index:C}),P=($=L??te)!==null&&$!==void 0?$:void 0,I=i.size;var F=te-L;if(q=na(F)?0:F,Z={x:M,y:v.top,width:I,height:v.height},Math.abs(ce)>0&&Math.abs(q)<Math.abs(ce)){var ae=Tr(q||ce)*(Math.abs(ce)-Math.abs(q));P-=ae,q+=ae}}else{var ue=l.scale.map(O[0]),ee=l.scale.map(O[1]);if(ue==null||ee==null)return null;if(M=ue,P=J_({axis:d,ticks:h,bandSize:s,offset:i.offset,entry:T,index:C}),I=ee-ue,q=i.size,Z={x:v.left,y:P,width:v.width,height:q},Math.abs(ce)>0&&Math.abs(I)<Math.abs(ce)){var D=Tr(I||ce)*(Math.abs(ce)-Math.abs(I));I+=D}}if(M==null||P==null||I==null||q==null)return null;var H=xr(xr({},T),{},{stackedBarStart:A,x:M,y:P,width:I,height:q,value:p?O:O[1],payload:T,background:Z,tooltipPosition:{x:M+I/2,y:P+q/2},parentViewBox:S},x&&x[C]&&x[C].props);return H}).filter(Boolean)}function bJ(e){var t=jt(e,gJ),r=YQ(t.stackId),n=Wt();return b.createElement(n1,{id:t.id,type:"bar"},i=>b.createElement(b.Fragment,null,b.createElement(m3,{legendPayload:iJ(t)}),b.createElement(sJ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),b.createElement(g3,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),b.createElement(mr,{zIndex:t.zIndex},b.createElement(vJ,Ya({},t,{id:i})))))}var bu=b.memo(bJ,ip);bu.displayName="Bar";var xJ=["domain","range"],wJ=["domain","range"];function DO(e,t){if(e==null)return{};var r,n,i=jJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function IO(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function H3(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=DO(e,xJ),{domain:s,range:l}=t,d=DO(t,wJ);return!IO(r,s)||!IO(n,l)?!1:ip(i,d)}var SJ=["type"],kJ=["dangerouslySetInnerHTML","ticks","scale"],_J=["id","scale"];function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(null,arguments)}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){AJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AJ(e,t,r){return(t=NJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NJ(e){var t=EJ(e,"string");return typeof t=="symbol"?t:t+""}function EJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zb(e,t){if(e==null)return{};var r,n,i=OJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function OJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function CJ(e){var t=Je(),r=b.useRef(null),n=f5(),{type:i}=e,s=zb(e,SJ),l=kl(n,"xAxis",i),d=b.useMemo(()=>{if(l!=null)return BO(BO({},s),{},{type:l})},[s,l]);return b.useLayoutEffect(()=>{d!=null&&(r.current===null?t(gV(d)):r.current!==d&&t(vV({prev:r.current,next:d})),r.current=d)},[d,t]),b.useLayoutEffect(()=>()=>{r.current&&(t(yV(r.current)),r.current=null)},[t]),null}var TJ=e=>{var{xAxisId:t,className:r}=e,n=fe(Ox),i=Wt(),s="xAxis",l=fe(_=>i4(_,s,t,i)),d=fe(_=>t4(_,t)),f=fe(_=>R9(_,t)),h=fe(_=>IP(_,t));if(d==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:v}=e,x=zb(e,kJ),{id:S,scale:k}=h,j=zb(h,_J);return b.createElement(o1,Bb({},x,j,{x:f.x,y:f.y,width:d.width,height:d.height,className:Le("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l,axisType:s}))},PJ={allowDataOverflow:Qt.allowDataOverflow,allowDecimals:Qt.allowDecimals,allowDuplicatedCategory:Qt.allowDuplicatedCategory,angle:Qt.angle,axisLine:qa.axisLine,height:Qt.height,hide:!1,includeHidden:Qt.includeHidden,interval:Qt.interval,label:!1,minTickGap:Qt.minTickGap,mirror:Qt.mirror,orientation:Qt.orientation,padding:Qt.padding,reversed:Qt.reversed,scale:Qt.scale,tick:Qt.tick,tickCount:Qt.tickCount,tickLine:qa.tickLine,tickSize:qa.tickSize,type:Qt.type,xAxisId:0},RJ=e=>{var t=jt(e,PJ);return b.createElement(b.Fragment,null,b.createElement(CJ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),b.createElement(TJ,t))},nd=b.memo(RJ,H3);nd.displayName="XAxis";var MJ=["type"],DJ=["dangerouslySetInnerHTML","ticks","scale"],IJ=["id","scale"];function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qb.apply(null,arguments)}function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){LJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LJ(e,t,r){return(t=BJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BJ(e){var t=zJ(e,"string");return typeof t=="symbol"?t:t+""}function zJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $b(e,t){if(e==null)return{};var r,n,i=qJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $J(e){var t=Je(),r=b.useRef(null),n=f5(),{type:i}=e,s=$b(e,MJ),l=kl(n,"yAxis",i),d=b.useMemo(()=>{if(l!=null)return qO(qO({},s),{},{type:l})},[l,s]);return b.useLayoutEffect(()=>{d!=null&&(r.current===null?t(bV(d)):r.current!==d&&t(xV({prev:r.current,next:d})),r.current=d)},[d,t]),b.useLayoutEffect(()=>()=>{r.current&&(t(wV(r.current)),r.current=null)},[t]),null}function UJ(e){var{yAxisId:t,className:r,width:n,label:i}=e,s=b.useRef(null),l=b.useRef(null),d=fe(Ox),f=Wt(),h=Je(),p="yAxis",g=fe(O=>r4(O,t)),v=fe(O=>D9(O,t)),x=fe(O=>i4(O,p,t,f)),S=fe(O=>LP(O,t));if(b.useLayoutEffect(()=>{if(!(n!=="auto"||!g||Gw(i)||b.isValidElement(i)||S==null)){var O=s.current;if(O){var M=O.getCalculatedWidth();Math.round(g.width)!==Math.round(M)&&h(jV({id:t,width:M}))}}},[x,g,h,i,t,n,S]),g==null||v==null||S==null)return null;var{dangerouslySetInnerHTML:k,ticks:j,scale:_}=e,E=$b(e,DJ),{id:A,scale:T}=S,C=$b(S,IJ);return b.createElement(o1,qb({},E,C,{ref:s,labelRef:l,x:v.x,y:v.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:Le("recharts-".concat(p," ").concat(p),r),viewBox:d,ticks:x,axisType:p}))}var FJ={allowDataOverflow:Jt.allowDataOverflow,allowDecimals:Jt.allowDecimals,allowDuplicatedCategory:Jt.allowDuplicatedCategory,angle:Jt.angle,axisLine:qa.axisLine,hide:!1,includeHidden:Jt.includeHidden,interval:Jt.interval,label:!1,minTickGap:Jt.minTickGap,mirror:Jt.mirror,orientation:Jt.orientation,padding:Jt.padding,reversed:Jt.reversed,scale:Jt.scale,tick:Jt.tick,tickCount:Jt.tickCount,tickLine:qa.tickLine,tickSize:qa.tickSize,type:Jt.type,width:Jt.width,yAxisId:0},HJ=e=>{var t=jt(e,FJ);return b.createElement(b.Fragment,null,b.createElement($J,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),b.createElement(UJ,t))},ad=b.memo(HJ,H3);ad.displayName="YAxis";var GJ=(e,t)=>t,u1=K([GJ,Fe,Al,ar,S4,ei,YH,rr],tG),d1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},G3=yn("mouseClick"),K3=Du();K3.startListening({actionCreator:G3,effect:(e,t)=>{var r=e.payload,n=u1(t.getState(),d1(r));n?.activeIndex!=null&&t.dispatch(W9({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Ub=yn("mouseMove"),W3=Du(),Ff=null;W3.startListening({actionCreator:Ub,effect:(e,t)=>{var r=e.payload;Ff!==null&&cancelAnimationFrame(Ff);var n=d1(r);Ff=requestAnimationFrame(()=>{var i=t.getState(),s=Rw(i,i.tooltip.settings.shared);if(s==="axis"){var l=u1(i,n);l?.activeIndex!=null?t.dispatch(m4({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(h4())}Ff=null})}});function KJ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var $O={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Y3=Dr({name:"rootProps",initialState:$O,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:$O.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),WJ=Y3.reducer,{updateOptions:YJ}=Y3.actions,VJ=null,XJ={updatePolarOptions:(e,t)=>t.payload},V3=Dr({name:"polarOptions",initialState:VJ,reducers:XJ}),{updatePolarOptions:ZJ}=V3.actions,QJ=V3.reducer,X3=yn("keyDown"),Z3=yn("focus"),f1=Du();f1.startListening({actionCreator:X3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Mw(i,Tl(r),Xu(r),Ju(r)),d=l==null?-1:Number(l);if(!(!Number.isFinite(d)||d<0)){var f=ei(r);if(s==="Enter"){var h=Xh(r,"axis","hover",String(i.index));t.dispatch(Tb({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var p=L9(r),g=p==="left-to-right"?1:-1,v=s==="ArrowRight"?1:-1,x=d+v*g;if(!(f==null||x>=f.length||x<0)){var S=Xh(r,"axis","hover",String(x));t.dispatch(Tb({active:!0,activeIndex:x.toString(),activeCoordinate:S}))}}}}}});f1.startListening({actionCreator:Z3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",l=Xh(r,"axis","hover",String(s));t.dispatch(Tb({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var hn=yn("externalEvent"),Q3=Du(),C0=new Map;Q3.startListening({actionCreator:hn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,s=C0.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var d=t.getState(),f={activeCoordinate:PH(d),activeDataKey:N4(d),activeIndex:Ds(d),activeLabel:A4(d),activeTooltipIndex:Ds(d),isTooltipActive:RH(d)};r(f,n)}finally{C0.delete(i)}});C0.set(i,l)}}});var JJ=K([Ol],e=>e.tooltipItemPayloads),eee=K([JJ,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(s=>s.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(t)}}}),J3=yn("touchMove"),eR=Du();eR.startListening({actionCreator:J3,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=Rw(n,n.tooltip.settings.shared);if(i==="axis"){var s=r.touches[0];if(s==null)return;var l=u1(n,d1({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));l?.activeIndex!=null&&t.dispatch(m4({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var d,f=r.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(wz),g=(d=h.getAttribute(jz))!==null&&d!==void 0?d:void 0,v=Cl(n).find(k=>k.id===g);if(p==null||v==null||g==null)return;var{dataKey:x}=v,S=eee(n,p,g);t.dispatch(f4({activeDataKey:x,activeIndex:p,activeCoordinate:S,activeGraphicalItemId:g}))}}}});var tee=CT({brush:gX,cartesianAxis:SV,chartData:PG,errorBars:AZ,graphicalItems:tV,layout:nz,legend:f7,options:NG,polarAxis:FW,polarOptions:QJ,referenceElements:kX,rootProps:WJ,tooltip:Y9,zIndex:pG}),ree=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return EB({reducer:tee,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([K3.middleware,W3.middleware,f1.middleware,Q3.middleware,eR.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(GT({type:"raf"}))},devTools:{serialize:{replacer:KJ},name:"recharts-".concat(r)}})};function tR(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Wt(),s=b.useRef(null);if(i)return r;s.current==null&&(s.current=ree(t,n));var l=wx;return b.createElement(tQ,{context:l,store:s.current},r)}function nee(e){var{layout:t,margin:r}=e,n=Je(),i=Wt();return b.useEffect(()=>{i||(n(ez(t)),n(JB(r)))},[n,i,t,r]),null}var rR=b.memo(nee,ip);function nR(e){var t=Je();return b.useEffect(()=>{t(YJ(e))},[t,e]),null}function UO(e){var{zIndex:t,isPanorama:r}=e,n=b.useRef(null),i=Je();return b.useLayoutEffect(()=>(n.current&&i(hG({zIndex:t,element:n.current,isPanorama:r})),()=>{i(mG({zIndex:t,isPanorama:r}))}),[i,t,r]),b.createElement("g",{tabIndex:-1,ref:n})}function FO(e){var{children:t,isPanorama:r}=e,n=fe(nG);if(!n||n.length===0)return t;var i=n.filter(l=>l<0),s=n.filter(l=>l>0);return b.createElement(b.Fragment,null,i.map(l=>b.createElement(UO,{key:l,zIndex:l,isPanorama:r})),t,s.map(l=>b.createElement(UO,{key:l,zIndex:l,isPanorama:r})))}var aee=["children"];function iee(e,t){if(e==null)return{};var r,n,i=see(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function see(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sm.apply(null,arguments)}var oee={width:"100%",height:"100%",display:"block"},lee=b.forwardRef((e,t)=>{var r=Px(),n=Rx(),i=_5();if(!aa(r)||!aa(n))return null;var{children:s,otherAttributes:l,title:d,desc:f}=e,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),b.createElement(cx,sm({},l,{title:d,desc:f,role:p,tabIndex:h,width:r,height:n,style:oee,ref:t}),s)}),cee=e=>{var{children:t}=e,r=fe(Pm);if(!r)return null;var{width:n,height:i,y:s,x:l}=r;return b.createElement(cx,{width:n,height:i,x:l,y:s},t)},HO=b.forwardRef((e,t)=>{var{children:r}=e,n=iee(e,aee),i=Wt();return i?b.createElement(cee,null,b.createElement(FO,{isPanorama:!0},r)):b.createElement(lee,sm({ref:t},n),b.createElement(FO,{isPanorama:!1},r))});function uee(){var e=Je(),[t,r]=b.useState(null),n=fe(xz);return b.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;De(s)&&s!==n&&e(rz(s))}},[t,e,n]),r}function GO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(r),!0).forEach(function(n){fee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fee(e,t,r){return(t=hee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hee(e){var t=mee(e,"string");return typeof t=="symbol"?t:t+""}function mee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bi.apply(null,arguments)}var pee=()=>($G(),null);function om(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var gee=b.forwardRef((e,t)=>{var r,n,i=b.useRef(null),[s,l]=b.useState({containerWidth:om((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:om((n=e.style)===null||n===void 0?void 0:n.height)}),d=b.useCallback((h,p)=>{l(g=>{var v=Math.round(h),x=Math.round(p);return g.containerWidth===v&&g.containerHeight===x?g:{containerWidth:v,containerHeight:x}})},[]),f=b.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();d(p,g);var v=S=>{var k=S[0];if(k!=null){var{width:j,height:_}=k.contentRect;d(j,_)}},x=new ResizeObserver(v);x.observe(h),i.current=x}},[t,d]);return b.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[d]),b.createElement(b.Fragment,null,b.createElement(Bu,{width:s.containerWidth,height:s.containerHeight}),b.createElement("div",Bi({ref:f},e)))}),vee=b.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,s]=b.useState({containerWidth:om(r),containerHeight:om(n)}),l=b.useCallback((f,h)=>{s(p=>{var g=Math.round(f),v=Math.round(h);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),d=b.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();l(h,p)}},[t,l]);return b.createElement(b.Fragment,null,b.createElement(Bu,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",Bi({ref:d},e)))}),yee=b.forwardRef((e,t)=>{var{width:r,height:n}=e;return b.createElement(b.Fragment,null,b.createElement(Bu,{width:r,height:n}),b.createElement("div",Bi({ref:t},e)))}),bee=b.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?b.createElement(vee,Bi({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?b.createElement(yee,Bi({},e,{width:r,height:n,ref:t})):b.createElement(b.Fragment,null,b.createElement(Bu,{width:r,height:n}),b.createElement("div",Bi({ref:t},e)))});function xee(e){return e?gee:bee}var wee=b.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:l,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:v,onTouchEnd:x,onTouchMove:S,onTouchStart:k,style:j,width:_,responsive:E,dispatchTouchEvents:A=!0}=e,T=b.useRef(null),C=Je(),[O,M]=b.useState(null),[P,I]=b.useState(null),q=uee(),Z=Cx(),U=Z?.width>0?Z.width:_,ce=Z?.height>0?Z.height:i,$=b.useCallback(re=>{q(re),typeof t=="function"&&t(re),M(re),I(re),re!=null&&(T.current=re)},[q,t,M,I]),te=b.useCallback(re=>{C(G3(re)),C(hn({handler:s,reactEvent:re}))},[C,s]),L=b.useCallback(re=>{C(Ub(re)),C(hn({handler:h,reactEvent:re}))},[C,h]),F=b.useCallback(re=>{C(h4()),C(hn({handler:p,reactEvent:re}))},[C,p]),ae=b.useCallback(re=>{C(Ub(re)),C(hn({handler:g,reactEvent:re}))},[C,g]),ue=b.useCallback(()=>{C(Z3())},[C]),ee=b.useCallback(re=>{C(X3(re.key))},[C]),D=b.useCallback(re=>{C(hn({handler:l,reactEvent:re}))},[C,l]),H=b.useCallback(re=>{C(hn({handler:d,reactEvent:re}))},[C,d]),Q=b.useCallback(re=>{C(hn({handler:f,reactEvent:re}))},[C,f]),ie=b.useCallback(re=>{C(hn({handler:v,reactEvent:re}))},[C,v]),me=b.useCallback(re=>{C(hn({handler:k,reactEvent:re}))},[C,k]),le=b.useCallback(re=>{A&&C(J3(re)),C(hn({handler:S,reactEvent:re}))},[C,A,S]),he=b.useCallback(re=>{C(hn({handler:x,reactEvent:re}))},[C,x]),ot=xee(E);return b.createElement(M4.Provider,{value:O},b.createElement(YC.Provider,{value:P},b.createElement(ot,{width:U??j?.width,height:ce??j?.height,className:Le("recharts-wrapper",n),style:dee({position:"relative",cursor:"default",width:U,height:ce},j),onClick:te,onContextMenu:D,onDoubleClick:H,onFocus:ue,onKeyDown:ee,onMouseDown:Q,onMouseEnter:L,onMouseLeave:F,onMouseMove:ae,onMouseUp:ie,onTouchEnd:he,onTouchMove:le,onTouchStart:me,ref:$},b.createElement(pee,null),r)))}),jee=["width","height","responsive","children","className","style","compact","title","desc"];function See(e,t){if(e==null)return{};var r,n,i=kee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aR=b.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:s,className:l,style:d,compact:f,title:h,desc:p}=e,g=See(e,jee),v=Ct(g);return f?b.createElement(b.Fragment,null,b.createElement(Bu,{width:r,height:n}),b.createElement(HO,{otherAttributes:v,title:h,desc:p},s)):b.createElement(wee,{className:l,style:d,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(HO,{otherAttributes:v,title:h,desc:p,ref:t},b.createElement(_X,null,s)))});function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fb.apply(null,arguments)}var _ee={top:5,right:5,bottom:5,left:5},Aee={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:_ee,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},iR=b.forwardRef(function(t,r){var n,i=jt(t.categoricalChartProps,Aee),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return b.createElement(tR,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:s},b.createElement(k3,{chartData:h.data}),b.createElement(rR,{layout:i.layout,margin:i.margin}),b.createElement(nR,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),b.createElement(aR,Fb({},i,{ref:r})))}),Nee=["axis"],Eee=b.forwardRef((e,t)=>b.createElement(iR,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Nee,tooltipPayloadSearcher:Fw,categoricalChartProps:e,ref:t})),Oee=["axis","item"],h1=b.forwardRef((e,t)=>b.createElement(iR,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Oee,tooltipPayloadSearcher:Fw,categoricalChartProps:e,ref:t}));function Cee(e){var t=Je();return b.useEffect(()=>{t(ZJ(e))},[t,e]),null}var Tee=["layout"];function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hb.apply(null,arguments)}function Pee(e,t){if(e==null)return{};var r,n,i=Ree(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ree(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Mee={top:5,right:5,bottom:5,left:5},sR={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Mee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Dee=b.forwardRef(function(t,r){var n,i=jt(t.categoricalChartProps,sR),{layout:s}=i,l=Pee(i,Tee),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=t,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return b.createElement(tR,{preloadedState:{options:g},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:d},b.createElement(k3,{chartData:i.data}),b.createElement(rR,{layout:s,margin:i.margin}),b.createElement(nR,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),b.createElement(Cee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),b.createElement(aR,Hb({},l,{ref:r})))});function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(n){Iee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iee(e,t,r){return(t=Lee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lee(e){var t=Bee(e,"string");return typeof t=="symbol"?t:t+""}function Bee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zee=["axis"],qee=WO(WO({},sR),{},{layout:"centric",startAngle:90,endAngle:-270}),oR=b.forwardRef((e,t)=>{var r=jt(e,qee);return b.createElement(Dee,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zee,tooltipPayloadSearcher:Fw,categoricalChartProps:r,ref:t})});const lR=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();const $ee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Uee=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());const YO=e=>{const t=Uee(e);return t.charAt(0).toUpperCase()+t.slice(1)};var Fee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Hee=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const Gee=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:l,...d},f)=>b.createElement("svg",{ref:f,...Fee,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:lR("lucide",i),...!s&&!Hee(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>b.createElement(h,p)),...Array.isArray(s)?s:[s]]));const _e=(e,t)=>{const r=b.forwardRef(({className:n,...i},s)=>b.createElement(Gee,{ref:s,iconNode:t,className:lR(`lucide-${$ee(YO(e))}`,`lucide-${e}`,n),...i}));return r.displayName=YO(e),r};const Kee=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Gi=_e("arrow-left",Kee);const Wee=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],xu=_e("arrow-right",Wee);const Yee=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],m1=_e("award",Yee);const Vee=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Xc=_e("book-open",Vee);const Xee=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],sp=_e("building-2",Xee);const Zee=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],cR=_e("calculator",Zee);const Qee=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],id=_e("chart-column",Qee);const Jee=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],uR=_e("check",Jee);const ete=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ui=_e("chevron-down",ete);const tte=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ti=_e("chevron-right",tte);const rte=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],op=_e("chevron-up",rte);const nte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lp=_e("circle-alert",nte);const ate=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jr=_e("circle-check",ate);const ite=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wu=_e("circle-question-mark",ite);const ste=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ote=_e("circle",ste);const lte=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],cp=_e("clipboard-check",lte);const cte=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ute=_e("clock",cte);const dte=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dR=_e("compass",dte);const fte=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],hte=_e("copy",fte);const mte=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],VO=_e("download",mte);const pte=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],gte=_e("external-link",pte);const vte=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],p1=_e("eye-off",vte);const yte=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gs=_e("eye",yte);const bte=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fR=_e("file-text",bte);const xte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ju=_e("globe",xte);const wte=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],hR=_e("handshake",wte);const jte=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Ste=_e("house",jte);const kte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],up=_e("info",kte);const _te=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],sd=_e("layout-dashboard",_te);const Ate=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],mR=_e("linkedin",Ate);const Nte=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Rn=_e("lock",Nte);const Ete=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pR=_e("log-out",Ete);const Ote=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],od=_e("mail",Ote);const Cte=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Tte=_e("menu",Cte);const Pte=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],gR=_e("message-circle",Pte);const Rte=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],vR=_e("message-square",Rte);const Mte=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Dte=_e("pen-line",Mte);const Ite=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yR=_e("plus",Ite);const Lte=[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]],bR=_e("pound-sterling",Lte);const Bte=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zte=_e("refresh-cw",Bte);const qte=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$te=_e("search",qte);const Ute=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Fte=_e("send",Ute);const Hte=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gte=_e("settings",Hte);const Kte=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Wte=_e("shield-check",Kte);const Yte=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],Vte=_e("shield-off",Yte);const Xte=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ks=_e("shield",Xte);const Zte=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xR=_e("square-check-big",Zte);const Qte=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],wR=_e("tag",Qte);const Jte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Su=_e("target",Jte);const ere=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],dl=_e("trash-2",ere);const tre=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],sa=_e("trending-up",tre);const rre=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nre=_e("triangle-alert",rre);const are=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ld=_e("users",are);const ire=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qn=_e("x",ire);function dp(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function sre(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function d(p){try{h(n.next(p))}catch(g){l(g)}}function f(p){try{h(n.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((n=n.apply(e,t||[])).next())})}const ore=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class g1 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class lre extends g1{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class XO extends g1{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ZO extends g1{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gb;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gb||(Gb={}));class cre{constructor(t,{headers:r={},customFetch:n,region:i=Gb.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=ore(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return sre(this,arguments,void 0,function*(r,n={}){var i;let s,l;try{const{headers:d,method:f,body:h,signal:p,timeout:g}=n;let v={},{region:x}=n;x||(x=this.region);const S=new URL(`${this.url}/${r}`);x&&x!=="any"&&(v["x-region"]=x,S.searchParams.set("forceFunctionRegion",x));let k;h&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",k=h):typeof h=="string"?(v["Content-Type"]="text/plain",k=h):typeof FormData<"u"&&h instanceof FormData?k=h:(v["Content-Type"]="application/json",k=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?k=JSON.stringify(h):k=h;let j=p;g&&(l=new AbortController,s=setTimeout(()=>l.abort(),g),p?(j=l.signal,p.addEventListener("abort",()=>l.abort())):j=l.signal);const _=yield this.fetch(S.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),d),body:k,signal:j}).catch(C=>{throw new lre(C)}),E=_.headers.get("x-relay-error");if(E&&E==="true")throw new XO(_);if(!_.ok)throw new ZO(_);let A=((i=_.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return A==="application/json"?T=yield _.json():A==="application/octet-stream"||A==="application/pdf"?T=yield _.blob():A==="text/event-stream"?T=_:A==="multipart/form-data"?T=yield _.formData():T=yield _.text(),{data:T,error:null,response:_}}catch(d){return{data:null,error:d,response:d instanceof ZO||d instanceof XO?d.context:void 0}}finally{s&&clearTimeout(s)}})}}var ure=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},dre=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let l=null,d=null,f=null,h=s.status,p=s.statusText;if(s.ok){var g,v;if(r.method!=="HEAD"){var x;const _=await s.text();_===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((x=r.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?d=_:d=JSON.parse(_))}const k=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),j=(v=s.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");k&&j&&j.length>1&&(f=parseInt(j[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var S;const k=await s.text();try{l=JSON.parse(k),Array.isArray(l)&&s.status===404&&(d=[],l=null,h=200,p="OK")}catch{s.status===404&&k===""?(h=204,p="No Content"):l={message:k}}if(l&&r.isMaybeSingle&&(!(l==null||(S=l.details)===null||S===void 0)&&S.includes("0 rows"))&&(l=null,h=200,p="OK"),l&&r.shouldThrowOnError)throw new ure(l)}return{error:l,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var l;let d="",f="",h="";const p=s?.cause;if(p){var g,v,x,S;const _=(g=p?.message)!==null&&g!==void 0?g:"",E=(v=p?.code)!==null&&v!==void 0?v:"";d=`${(x=s?.name)!==null&&x!==void 0?x:"FetchError"}: ${s?.message}`,d+=`

Caused by: ${(S=p?.name)!==null&&S!==void 0?S:"Error"}: ${_}`,E&&(d+=` (${E})`),p?.stack&&(d+=`
${p.stack}`)}else{var k;d=(k=s?.stack)!==null&&k!==void 0?k:""}const j=this.url.toString().length;return s?.name==="AbortError"||s?.code==="ABORT_ERR"?(h="",f="Request was aborted (timeout or manual cancellation)",j>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${j} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(p?.name==="HeadersOverflowError"||p?.code==="UND_ERR_HEADERS_OVERFLOW")&&(h="",f="HTTP headers exceeded server limits (typically 16KB)",j>this.urlLengthLimit&&(f+=`. Your request URL is ${j} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=s?.name)!==null&&l!==void 0?l:"FetchError"}: ${s?.message}`,details:d,hint:f,code:h},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},fre=class extends dre{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var l;const d=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),f=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${f}"; options=${d};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const QO=new RegExp("[,()]");var Ko=class extends fre{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&QO.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&QO.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},hre=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let s=!1;const l=(e??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join(""),{url:d,headers:f}=this.cloneRequestState();return d.searchParams.set("select",l),n&&f.append("Prefer",`count=${n}`),new Ko({method:i,url:d,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST",{url:s,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),r||l.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);s.searchParams.set("columns",f.join(","))}}return new Ko({method:i,url:s,headers:l,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const l="POST",{url:d,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&d.searchParams.set("on_conflict",t),n&&f.append("Prefer",`count=${n}`),i||f.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);d.searchParams.set("columns",p.join(","))}}return new Ko({method:l,url:d,headers:f,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Ko({method:n,url:i,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Ko({method:r,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function mre(e,t){if(ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pre(e){var t=mre(e,"string");return ku(t)=="symbol"?t:t+""}function gre(e,t,r){return(t=pre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){gre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var vre=class jR{constructor(t,{headers:r={},schema:n,fetch:i,timeout:s,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=l;const d=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(f,h)=>{const p=new AbortController,g=setTimeout(()=>p.abort(),s),v=h?.signal;if(v){if(v.aborted)return clearTimeout(g),d(f,h);const x=()=>{clearTimeout(g),p.abort()};return v.addEventListener("abort",x,{once:!0}),d(f,Hf(Hf({},h),{},{signal:p.signal})).finally(()=>{clearTimeout(g),v.removeEventListener("abort",x)})}return d(f,Hf(Hf({},h),{},{signal:p.signal})).finally(()=>clearTimeout(g))}:this.fetch=d}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new hre(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new jR(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){var l;let d;const f=new URL(`${this.url}/rpc/${t}`);let h;const p=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(p)),g=n&&Object.values(r).some(p);g?(d="POST",h=r):n||i?(d=n?"HEAD":"GET",Object.entries(r).filter(([x,S])=>S!==void 0).map(([x,S])=>[x,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([x,S])=>{f.searchParams.append(x,S)})):(d="POST",h=r);const v=new Headers(this.headers);return g?v.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&v.set("Prefer",`count=${s}`),new Ko({method:d,url:f,headers:v,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class yre{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const bre="2.98.0",xre=`realtime-js/${bre}`,wre="1.0.0",SR="2.0.0",eC=SR,Kb=1e4,jre=1e3,Sre=100;var Ri;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ri||(Ri={}));var Gt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Gt||(Gt={}));var On;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(On||(On={}));var Wb;(function(e){e.websocket="websocket"})(Wb||(Wb={}));var bs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(bs||(bs={}));class kre{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,n){var i,s;const l=t.topic,d=(i=t.ref)!==null&&i!==void 0?i:"",f=(s=t.join_ref)!==null&&s!==void 0?s:"",h=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+l.length+h.length+g.length,x=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(x),k=0;S.setUint8(k++,this.KINDS.userBroadcastPush),S.setUint8(k++,f.length),S.setUint8(k++,d.length),S.setUint8(k++,l.length),S.setUint8(k++,h.length),S.setUint8(k++,g.length),S.setUint8(k++,r),Array.from(f,_=>S.setUint8(k++,_.charCodeAt(0))),Array.from(d,_=>S.setUint8(k++,_.charCodeAt(0))),Array.from(l,_=>S.setUint8(k++,_.charCodeAt(0))),Array.from(h,_=>S.setUint8(k++,_.charCodeAt(0))),Array.from(g,_=>S.setUint8(k++,_.charCodeAt(0)));var j=new Uint8Array(x.byteLength+n.byteLength);return j.set(new Uint8Array(x),0),j.set(new Uint8Array(n),x.byteLength),j.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,s,l,d,f]=n;return r({join_ref:i,ref:s,topic:l,event:d,payload:f})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,i)}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2),l=r.getUint8(3),d=r.getUint8(4);let f=this.HEADER_LENGTH+4;const h=n.decode(t.slice(f,f+i));f=f+i;const p=n.decode(t.slice(f,f+s));f=f+s;const g=n.decode(t.slice(f,f+l));f=f+l;const v=t.slice(f,t.byteLength),x=d===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,S={type:this.BROADCAST_EVENT,event:p,payload:x};return l>0&&(S.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class kR{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(lt||(lt={}));const tC=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=_re(l,e,t,i),s),{}):{}},_re=(e,t,r,n)=>{const i=t.find(d=>d.name===e),s=i?.type,l=r[e];return s&&!n.includes(s)?_R(s,l):Yb(l)},_R=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Ore(t,r)}switch(e){case lt.bool:return Are(t);case lt.float4:case lt.float8:case lt.int2:case lt.int4:case lt.int8:case lt.numeric:case lt.oid:return Nre(t);case lt.json:case lt.jsonb:return Ere(t);case lt.timestamp:return Cre(t);case lt.abstime:case lt.date:case lt.daterange:case lt.int4range:case lt.int8range:case lt.money:case lt.reltime:case lt.text:case lt.time:case lt.timestamptz:case lt.timetz:case lt.tsrange:case lt.tstzrange:return Yb(t);default:return Yb(t)}},Yb=e=>e,Are=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Nre=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ere=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Ore=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(d=>_R(t,d))}return e},Cre=e=>typeof e=="string"?e.replace(" ","T"):e,AR=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class T0{constructor(t,r,n={},i=Kb){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var rC;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(rC||(rC={}));class Zc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zc.syncState(this.state,i,s,l),this.pendingDiffs.forEach(f=>{this.state=Zc.syncDiff(this.state,f,s,l)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Zc.syncDiff(this.state,i,s,l),d())}),this.onJoin((i,s,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:l})}),this.onLeave((i,s,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),l=this.transformState(r),d={},f={};return this.map(s,(h,p)=>{l[h]||(f[h]=p)}),this.map(l,(h,p)=>{const g=s[h];if(g){const v=p.map(j=>j.presence_ref),x=g.map(j=>j.presence_ref),S=p.filter(j=>x.indexOf(j.presence_ref)<0),k=g.filter(j=>v.indexOf(j.presence_ref)<0);S.length>0&&(d[h]=S),k.length>0&&(f[h]=k)}else d[h]=p}),this.syncDiff(s,{joins:d,leaves:f},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(d,f)=>{var h;const p=(h=t[d])!==null&&h!==void 0?h:[];if(t[d]=this.cloneDeep(f),p.length>0){const g=t[d].map(x=>x.presence_ref),v=p.filter(x=>g.indexOf(x.presence_ref)<0);t[d].unshift(...v)}n(d,p,f)}),this.map(l,(d,f)=>{let h=t[d];if(!h)return;const p=f.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),t[d]=h,i(d,h,f),h.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var nC;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(nC||(nC={}));var Qc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Qc||(Qc={}));var Ma;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ma||(Ma={}));class Qo{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new T0(this,On.join,this.params,this.timeout),this.rejoinTimer=new kR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(On.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new Zc(this),this.broadcastEndpointURL=AR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Gt.closed){const{config:{broadcast:l,presence:d,private:f}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Qc.PRESENCE]&&this.bindings[Qc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},v={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(Ma.CHANNEL_ERROR,x)),this._onClose(()=>t?.(Ma.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t?.(Ma.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,j=(S=k?.length)!==null&&S!==void 0?S:0,_=[];for(let E=0;E<j;E++){const A=k[E],{filter:{event:T,schema:C,table:O,filter:M}}=A,P=x&&x[E];if(P&&P.event===T&&Qo.isFilterValueEqual(P.schema,C)&&Qo.isFilterValueEqual(P.table,O)&&Qo.isFilterValueEqual(P.filter,M))_.push(Object.assign(Object.assign({},A),{id:P.id}));else{this.unsubscribe(),this.state=Gt.errored,t?.(Ma.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(Ma.SUBSCRIBED);return}}).receive("error",x=>{this.state=Gt.errored,t?.(Ma.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ma.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Gt.joined&&t===Qc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const h=await d.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:l}=t,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,d,f;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Gt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(On.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new T0(this,On.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Gt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new T0(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Sre){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const l=t.toLocaleLowerCase(),{close:d,error:f,leave:h,join:p}=On;if(n&&[d,f,h,p].indexOf(l)>=0&&n!==this._joinRef())return;let v=this._onMessage(l,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var S,k,j;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((j=(k=x.filter)===null||k===void 0?void 0:k.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(x=>x.callback(v,n)):(s=this.bindings[l])===null||s===void 0||s.filter(x=>{var S,k,j,_,E,A;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const T=x.id,C=(S=x.filter)===null||S===void 0?void 0:S.event;return T&&((k=r.ids)===null||k===void 0?void 0:k.includes(T))&&(C==="*"||C?.toLocaleLowerCase()===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const T=(E=(_=x?.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return T==="*"||T===((A=r?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:k,table:j,commit_timestamp:_,type:E,errors:A}=S;v=Object.assign(Object.assign({},{schema:k,table:j,commit_timestamp:_,eventType:E,new:{},old:{},errors:A}),this._getPayloadRecords(S))}x.callback(v,n)})}_isClosed(){return this.state===Gt.closed}_isJoined(){return this.state===Gt.joined}_isJoining(){return this.state===Gt.joining}_isLeaving(){return this.state===Gt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Qo.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(On.close,{},t)}_onError(t){this._on(On.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=tC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=tC(t.columns,t.old_record)),r}}const P0=()=>{},Gf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Tre=[1e3,2e3,5e3,1e4],Pre=1e4,Rre=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Mre{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kb,this.transport=null,this.heartbeatIntervalMs=Gf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=P0,this.ref=0,this.reconnectTimer=null,this.vsn=eC,this.logger=P0,this.conn=null,this.sendBuffer=[],this.serializer=new kre,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Wb.websocket}`,this.httpEndpoint=AR(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=yre.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ri.connecting:return bs.Connecting;case Ri.open:return bs.Open;case Ri.closing:return bs.Closing;default:return bs.Closed}}isConnected(){return this.connectionState()===bs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Qo(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,l=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(jre,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Gf.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",h)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:l}=r,d=l?`(${l})`:"",f=s.status||"";this.log("receive",`${f} ${n} ${i} ${d}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(i,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ri.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ri.open||this.conn.readyState===Ri.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.accessTokenValue&&(this.channels.forEach(r=>{r.updateJoinPayload({access_token:this.accessTokenValue})}),this.sendBuffer=[],this.channels.forEach(r=>{r._isJoining()&&(r.joinPush.sent=!1,r.joinPush.send())})),this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(On.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Rre],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:xre};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(On.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new kR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,l,d,f,h,p,g,v,x;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Kb,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Gf.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:P0,this.vsn=(f=t?.vsn)!==null&&f!==void 0?f:eC,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(S=>Tre[S-1]||Pre),this.vsn){case wre:this.encode=(p=t?.encode)!==null&&p!==void 0?p:((S,k)=>k(JSON.stringify(S))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:((S,k)=>k(JSON.parse(S)));break;case SR:this.encode=(v=t?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var _u=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Dre(e,t,r){const n=new URL(t,e);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function Ire(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Lre(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:l}){const d=Dre(e.baseUrl,n,i),f=await Ire(e.auth),h=await t(d,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...f,...l},body:s?JSON.stringify(s):void 0}),p=await h.text(),g=(h.headers.get("content-type")||"").includes("application/json"),v=g&&p?JSON.parse(p):p;if(!h.ok){const x=g?v:void 0,S=x?.error;throw new _u(S?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:S?.type,icebergCode:S?.code,details:x})}return{status:h.status,headers:h.headers,data:v}}}}function Kf(e){return e.join("")}var Bre=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Kf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Kf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Kf(e.namespace)}`}),!0}catch(t){if(t instanceof _u&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof _u&&r.status===409)return;throw r}}};function zo(e){return e.join("")}var zre=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zo(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof _u&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof _u&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},qre=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Lre({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new Bre(this.client,t),this.tableOps=new zre(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},fp=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function hp(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Wf=class extends fp{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},NR=class extends fp{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const $re=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ure=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Vb=e=>{if(Array.isArray(e))return e.map(r=>Vb(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Vb(n)}),t},Fre=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}function Hre(e,t){if(Au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gre(e){var t=Hre(e,"string");return Au(t)=="symbol"?t:t+""}function Kre(e,t,r){return(t=Gre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aC(Object(r),!0).forEach(function(n){Kre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const iC=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Wre=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const i=e,s=i.status||500;if(typeof i.json=="function")i.json().then(l=>{const d=l?.statusCode||l?.code||s+"";t(new Wf(iC(l),s,d,n))}).catch(()=>{if(n==="vectors"){const l=s+"";t(new Wf(i.statusText||`HTTP ${s} error`,s,l,n))}else{const l=s+"";t(new Wf(i.statusText||`HTTP ${s} error`,s,l,n))}});else{const l=s+"";t(new Wf(i.statusText||`HTTP ${s} error`,s,l,n))}}else t(new NR(iC(e),e,n))},Yre=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!n?Ee(Ee({},i),r):(Ure(n)?(i.headers=Ee({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,t?.duplex&&(i.duplex=t.duplex),Ee(Ee({},i),r))};async function Uc(e,t,r,n,i,s,l){return new Promise((d,f)=>{e(r,Yre(t,n,i,s)).then(h=>{if(!h.ok)throw h;if(n?.noResolveJson)return h;if(l==="vectors"){const p=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!p||!p.includes("application/json"))return{}}return h.json()}).then(h=>d(h)).catch(h=>Wre(h,f,n,l))})}function ER(e="storage"){return{get:async(t,r,n,i)=>Uc(t,"GET",r,n,i,void 0,e),post:async(t,r,n,i,s)=>Uc(t,"POST",r,i,s,n,e),put:async(t,r,n,i,s)=>Uc(t,"PUT",r,i,s,n,e),head:async(t,r,n,i)=>Uc(t,"HEAD",r,Ee(Ee({},n),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,r,n,i,s)=>Uc(t,"DELETE",r,i,s,n,e)}}const Vre=ER("storage"),{get:Nu,post:En,put:Xb,head:Xre,remove:v1}=Vre,Kr=ER("vectors");var Dl=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=$re(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Ee(Ee({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(hp(r))return{data:null,error:r};throw r}}},Zre=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hp(t))return{data:null,error:t};throw t}}};let OR;OR=Symbol.toStringTag;var Qre=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[OR]="BlobDownloadBuilder",this.promise=null}asStream(){return new Zre(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hp(t))return{data:null,error:t};throw t}}};const Jre={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ene=class extends Dl{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var i=this;return i.handleOperation(async()=>{let s;const l=Ee(Ee({},sC),n);let d=Ee(Ee({},i.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",i.encodeMetadata(f)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),f&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(f))):(s=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,f&&(d["x-metadata"]=i.toBase64(i.encodeMetadata(f))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),n?.headers&&(d=Ee(Ee({},d),n.headers));const h=i._removeEmptyFolders(t),p=i._getFinalPath(h),g=await(e=="PUT"?Xb:En)(i.fetch,`${i.url}/object/${p}`,s,Ee({headers:d},l?.duplex?{duplex:l.duplex}:{}));return{path:h,id:g.Id,fullPath:g.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const s=i._removeEmptyFolders(e),l=i._getFinalPath(s),d=new URL(i.url+`/object/upload/sign/${l}`);return d.searchParams.set("token",t),i.handleOperation(async()=>{let f;const h=Ee({upsert:sC.upsert},n),p=Ee(Ee({},i.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType),{path:s,fullPath:(await Xb(i.fetch,d.toString(),f,{headers:p})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const i=Ee({},r.headers);t?.upsert&&(i["x-upsert"]="true");const s=await En(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(r.url+s.url),d=l.searchParams.get("token");if(!d)throw new fp("No token returned by API");return{signedUrl:l.toString(),path:e,token:d}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await En(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await En(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e),s=await En(n.fetch,`${n.url}/object/sign/${i}`,Ee({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${l}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const i=await En(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(l=>Ee(Ee({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${s}`):null}))})}download(e,t,r){const n=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),s=i?`?${i}`:"",l=this._getFinalPath(e),d=()=>Nu(this.fetch,`${this.url}/${n}/${l}${s}`,{headers:this.headers,noResolveJson:!0},r);return new Qre(d,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Vb(await Nu(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Xre(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(hp(n)&&n instanceof NR){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const s=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&n.push(l);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${d}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await v1(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const i=Ee(Ee(Ee({},Jre),t),{},{prefix:e||""});return await En(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Ee({},e);return await En(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const tne="2.98.0",cd={"X-Client-Info":`storage-js/${tne}`};var rne=class extends Dl{constructor(e,t={},r,n){const i=new URL(e);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),l=Ee(Ee({},cd),t);super(s,l,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Nu(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Nu(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await En(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Xb(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await En(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await v1(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},nne=class extends Dl{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Ee(Ee({},cd),t);super(n,i,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await En(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Nu(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await v1(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Fre(e))throw new fp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new qre({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const l=i[s];return typeof l!="function"?l:async(...d)=>{try{return{data:await l.apply(i,d),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}}}})}},ane=class extends Dl{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Ee(Ee({},cd),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Kr.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Kr.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},ine=class extends Dl{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Ee(Ee({},cd),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},sne=class extends Dl{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Ee(Ee({},cd),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},one=class extends sne{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new lne(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},lne=class extends ane{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ee(Ee({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ee(Ee({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new cne(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},cne=class extends ine{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ee(Ee({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ee(Ee({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ee(Ee({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ee(Ee({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ee(Ee({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},une=class extends rne{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new ene(this.url,this.headers,e,this.fetch)}get vectors(){return new one(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new nne(this.url+"/iceberg",this.headers,this.fetch)}};const CR="2.98.0",Wo=30*1e3,Zb=3,R0=Zb*Wo,dne="http://localhost:9999",fne="supabase.auth.token",hne={"X-Client-Info":`gotrue-js/${CR}`},Qb="X-Supabase-Api-Version",TR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mne=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pne=600*1e3;class Eu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function we(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class gne extends Eu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function vne(e){return we(e)&&e.name==="AuthApiError"}class xs extends Eu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ri extends Eu{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Hr extends ri{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function M0(e){return we(e)&&e.name==="AuthSessionMissingError"}class qo extends ri{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yf extends ri{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Vf extends ri{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yne(e){return we(e)&&e.name==="AuthImplicitGrantRedirectError"}class oC extends ri{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bne extends ri{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Jb extends ri{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function D0(e){return we(e)&&e.name==="AuthRetryableFetchError"}class lC extends ri{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ex extends ri{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const lm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cC=` 	
\r=`.split(""),xne=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<cC.length;t+=1)e[cC[t].charCodeAt(0)]=-2;for(let t=0;t<lm.length;t+=1)e[lm[t].charCodeAt(0)]=t;return e})();function uC(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(lm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(lm[n]),t.queuedBits-=6}}function PR(e,t,r){const n=xne[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function dC(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=l=>{Sne(l,n,r)};for(let l=0;l<e.length;l+=1)PR(e.charCodeAt(l),i,s);return t.join("")}function wne(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jne(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}wne(n,t)}}function Sne(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function tl(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)PR(e.charCodeAt(i),r,n);return new Uint8Array(t)}function kne(e){const t=[];return jne(e,r=>t.push(r)),new Uint8Array(t)}function _s(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>uC(i,r,n)),uC(null,r,n),t.join("")}function _ne(e){return Math.round(Date.now()/1e3)+e}function Ane(){return Symbol("auth-callback")}const dr=()=>typeof window<"u"&&typeof document<"u",fs={tested:!1,writable:!1},RR=()=>{if(!dr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fs.tested)return fs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),fs.tested=!0,fs.writable=!0}catch{fs.tested=!0,fs.writable=!1}return fs.writable};function Nne(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const MR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ene=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Yo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},hs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ur=async(e,t)=>{await e.removeItem(t)};class mp{constructor(){this.promise=new mp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}mp.promiseConstructor=Promise;function Xf(e){const t=e.split(".");if(t.length!==3)throw new ex("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!mne.test(t[n]))throw new ex("JWT not in base64url format");return{header:JSON.parse(dC(t[0])),payload:JSON.parse(dC(t[1])),signature:tl(t[2]),raw:{header:t[0],payload:t[1]}}}async function One(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Cne(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){i(l);return}}})()})}function Tne(e){return("0"+e.toString(16)).substr(-2)}function Pne(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Tne).join("")}async function Rne(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Mne(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return e;const r=await Rne(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $o(e,t,r=!1){const n=Pne();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Yo(e,`${t}-code-verifier`,i);const s=await Mne(n);return[s,n===s?"plain":"s256"]}const Dne=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ine(e){const t=e.headers.get(Qb);if(!t||!t.match(Dne))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Lne(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Bne(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zne=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Uo(e){if(!zne.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function I0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qne(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(t.value=!0),Reflect.get(r,n,i)}})}function fC(e){return JSON.parse(JSON.stringify(e))}const ys=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$ne=[502,503,504];async function hC(e){var t;if(!Ene(e))throw new Jb(ys(e),0);if($ne.includes(e.status))throw new Jb(ys(e),e.status);let r;try{r=await e.json()}catch(s){throw new xs(ys(s),s)}let n;const i=Ine(e);if(i&&i.getTime()>=TR["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new lC(ys(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Hr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new lC(ys(r),e.status,r.weak_password.reasons);throw new gne(ys(r),e.status||500,n)}const Une=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Oe(e,t,r,n){var i;const s=Object.assign({},n?.headers);s[Qb]||(s[Qb]=TR["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await Fne(e,t,r+d,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(f):{data:Object.assign({},f),error:null}}async function Fne(e,t,r,n,i,s){const l=Une(t,n,i,s);let d;try{d=await e(r,Object.assign({},l))}catch(f){throw new Jb(ys(f),0)}if(d.ok||await hC(d),n?.noResolveJson)return d;try{return await d.json()}catch(f){await hC(f)}}function Nn(e){var t;let r=null;Kne(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=_ne(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function mC(e){const t=Nn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Di(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Hne(e){return{data:e,error:null}}function Gne(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,l=dp(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},f=Object.assign({},l);return{data:{properties:d,user:f},error:null}}function pC(e){return e}function Kne(e){return e.access_token&&e.refresh_token&&e.expires_in}const L0=["global","local","others"];class Wne{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=MR(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=L0[0]){if(L0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${L0.join(", ")}`);try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Di})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=dp(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Gne,redirectTo:r?.redirectTo})}catch(r){if(we(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Di})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:pC});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(S=>{const k=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);h[`${j}Page`]=k}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(we(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Uo(t);try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Di})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Uo(t);try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Di})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Uo(t);try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Di})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Uo(t.userId);try{const{data:r,error:n}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(we(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Uo(t.userId),Uo(t.id);try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:pC});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(S=>{const k=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);h[`${j}Page`]=k}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(we(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}}function gC(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ra={debug:!!(globalThis&&RR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class DR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Yne extends DR{}async function Vne(e,t,r){Ra.debug;const n=new globalThis.AbortController;t>0&&setTimeout(()=>{n.abort(),Ra.debug},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Ra.debug;try{return await r()}finally{Ra.debug}}else{if(t===0)throw Ra.debug,new Yne(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ra.debug)try{const s=await globalThis.navigator.locks.query()}catch{}return await r()}})}catch(i){if(i?.name==="AbortError"&&t>0)return Ra.debug,await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,{mode:"exclusive",steal:!0},async s=>{if(s){Ra.debug;try{return await r()}finally{Ra.debug}}else return await r()}));throw i}}function Xne(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function IR(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Zne(e){return parseInt(e,16)}function Qne(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Jne(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:l,notBefore:d,requestId:f,resources:h,scheme:p,uri:g,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=IR(e.address),S=p?`${p}://${n}`:n,k=e.statement?`${e.statement}
`:"",j=`${S} wants you to sign in with your Ethereum account:
${x}

${k}`;let _=`URI: ${g}
Version: ${v}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(i&&(_+=`
Expiration Time: ${i.toISOString()}`),d&&(_+=`
Not Before: ${d.toISOString()}`),f&&(_+=`
Request ID: ${f}`),h){let E=`
Resources:`;for(const A of h){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);E+=`
- ${A}`}_+=E}return`${j}
${_}`}class Ut extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class cm extends Ut{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function eae({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ut({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(LR(l)){if(s.rp.id!==l)return new Ut({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function tae({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ut({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(LR(n)){if(r.rpId!==n)return new Ut({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class rae{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const nae=new rae;function aae(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=dp(e,["challenge","user","excludeCredentials"]),s=tl(t).buffer,l=Object.assign(Object.assign({},r),{id:tl(r.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:s,user:l});if(n&&n.length>0){d.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const h=n[f];d.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:tl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function iae(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=dp(e,["challenge","allowCredentials"]),i=tl(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const d=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},d),{id:tl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return s}function sae(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:_s(new Uint8Array(e.response.attestationObject)),clientDataJSON:_s(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function oae(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:_s(new Uint8Array(i.authenticatorData)),clientDataJSON:_s(new Uint8Array(i.clientDataJSON)),signature:_s(new Uint8Array(i.signature)),userHandle:i.userHandle?_s(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function LR(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function vC(){var e,t;return!!(dr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function lae(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new cm("Browser returned unexpected credential type",t)}:{data:null,error:new cm("Empty credential response",t)}}catch(t){return{data:null,error:eae({error:t,options:e})}}}async function cae(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new cm("Browser returned unexpected credential type",t)}:{data:null,error:new cm("Empty credential response",t)}}catch(t){return{data:null,error:tae({error:t,options:e})}}}const uae={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},dae={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function um(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const l=i[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(t(l)){const d=n[s];t(d)?n[s]=um(d,l):n[s]=um(l)}else n[s]=l}return n}function fae(e,t){return um(uae,e,t||{})}function hae(e,t){return um(dae,e,t||{})}class mae{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){var l;try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!d)return{data:null,error:f};const h=i??nae.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:p}=d.webauthn.credential_options.publicKey;if(!p.name){const g=n;if(g)p.name=`${p.id}:${g}`;else{const x=(await this.client.getUser()).data.user,S=((l=x?.user_metadata)===null||l===void 0?void 0:l.name)||x?.email||x?.id||"User";p.name=`${p.id}:${S}`}}p.displayName||(p.displayName=p.name)}switch(d.webauthn.type){case"create":{const p=fae(d.webauthn.credential_options.publicKey,s?.create),{data:g,error:v}=await lae({publicKey:p,signal:h});return g?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const p=hae(d.webauthn.credential_options.publicKey,s?.request),{data:g,error:v}=await cae(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:p,signal:h}));return g?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(d){return we(d)?{data:null,error:d}:{data:null,error:new xs("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Eu("rpId is required for WebAuthn authentication")};try{if(!vC())return{data:null,error:new xs("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!l)return{data:null,error:d};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(l){return we(l)?{data:null,error:l}:{data:null,error:new xs("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Eu("rpId is required for WebAuthn registration")};try{if(!vC())return{data:null,error:new xs("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:d};const{data:f,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(l){return we(l)?{data:null,error:l}:{data:null,error:new xs("Unexpected error in register",l)}}}}Xne();const pae={url:dne,storageKey:fne,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hne,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:5e3,skipAutoInitialize:!1};async function yC(e,t,r){return await r()}const Fo={};class Ou{get jwks(){var t,r;return(r=(t=Fo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Fo[this.storageKey]=Object.assign(Object.assign({},Fo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Fo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Fo[this.storageKey]=Object.assign(Object.assign({},Fo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},pae),t);if(this.storageKey=s.storageKey,this.instanceID=(r=Ou.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ou.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&dr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;this.logDebugMessages}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Wne({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=MR(s.fetch),this.lock=s.lock||yC,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&dr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Vne:this.lock=yC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mae(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:RR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gC(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=gC(this.memoryStorage)),dr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch{}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}s.skipAutoInitialize||this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${CR}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(dr()&&(r=Nne(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),dr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),yne(s)){const f=(t=s.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:l,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return we(r)?this._returnResult({error:r}):this._returnResult({error:new xs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Nn}),{data:l,error:d}=s;if(d||!l)return this._returnResult({data:{user:null,session:null},error:d});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(we(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:p,password:g,options:v}=t;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await $o(this.storage,this.storageKey)),s=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:g,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:x,code_challenge_method:S},xform:Nn})}else if("phone"in t){const{phone:p,password:g,options:v}=t;s=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(i=v?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Nn})}else throw new Yf("You must provide either an email or phone number and a password");const{data:l,error:d}=s;if(d||!l)return await ur(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(await ur(this.storage,`${this.storageKey}-code-verifier`),we(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:l,options:d}=t;r=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:mC})}else if("phone"in t){const{phone:s,password:l,options:d}=t;r=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:mC})}else throw new Yf("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new qo;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(we(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,l,d,f,h,p,g,v;let x,S;if("message"in t)x=t.message,S=t.signature;else{const{chain:k,wallet:j,statement:_,options:E}=t;let A;if(dr())if(typeof j=="object")A=j;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")A=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=j}const T=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),C=await A.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=IR(C[0]);let M=(n=E?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!M){const I=await A.request({method:"eth_chainId"});M=Zne(I)}const P={domain:T.host,address:O,statement:_,uri:T.href,version:"1",chainId:M,nonce:(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(s=E?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=E?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=E?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=E?.signInWithEthereum)===null||p===void 0?void 0:p.resources};x=Jne(P),S=await A.request({method:"personal_sign",params:[Qne(x),O]})}try{const{data:k,error:j}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Nn});if(j)throw j;if(!k||!k.session||!k.user){const _=new qo;return this._returnResult({data:{user:null,session:null},error:_})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:j})}catch(k){if(we(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var r,n,i,s,l,d,f,h,p,g,v,x;let S,k;if("message"in t)S=t.message,k=t.signature;else{const{chain:j,wallet:_,statement:E,options:A}=t;let T;if(dr())if(typeof _=="object")T=_;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))T=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=_}const C=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const O=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),E?{statement:E}:null));let M;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")M=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)M=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)S=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),k=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${C.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(n=A?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=A?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((l=A?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((h=A?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((g=(p=A?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...A.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const O=await T.signMessage(new TextEncoder().encode(S),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=O}}try{const{data:j,error:_}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:_s(k)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Nn});if(_)throw _;if(!j||!j.session||!j.user){const E=new qo;return this._returnResult({data:{user:null,session:null},error:E})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:_})}catch(j){if(we(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(t){const r=await hs(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new bne;const{data:s,error:l}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Nn});if(await ur(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const d=new qo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:l})}catch(s){if(await ur(this.storage,`${this.storageKey}-code-verifier`),we(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:l}=t,d=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Nn}),{data:f,error:h}=d;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const p=new qo;return this._returnResult({data:{user:null,session:null},error:p})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(r){if(we(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,s,l;try{if("email"in t){const{email:d,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await $o(this.storage,this.storageKey));const{error:g}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(n=f?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:d,options:f}=t,{data:h,error:p}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=f?.data)!==null&&i!==void 0?i:{},create_user:(s=f?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(l=f?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:p})}throw new Yf("You must provide either an email or phone number.")}catch(d){if(await ur(this.storage,`${this.storageKey}-code-verifier`),we(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:d}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Nn});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(i){if(we(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,s,l;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await $o(this.storage,this.storageKey));const h=await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:Hne});return!((s=h.data)===null||s===void 0)&&s.url&&dr()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(d){if(await ur(this.storage,`${this.storageKey}-code-verifier`),we(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Hr;const{error:i}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(we(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:l}=await Oe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:l,error:d}=await Oe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:d})}throw new Yf("You must provide either an email or phone number and a type")}catch(r){if(we(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await hs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<R0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await hs(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=I0()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=qne(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Di}):await this._useSession(async r=>{var n,i,s;const{data:l,error:d}=r;if(d)throw d;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hr}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Di})})}catch(r){if(we(r))return M0(r)&&(await this._removeSession(),await ur(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Hr;const l=i.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await $o(this.storage,this.storageKey));const{data:h,error:p}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:Di});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await ur(this.storage,`${this.storageKey}-code-verifier`),we(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Hr;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:l}=Xf(t.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};s=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});s={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(we(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:d}=r;if(d)throw d;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Hr;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(we(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!dr())throw new Vf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new oC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new oC("No code detected.");const{data:E,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:l,expires_in:d,expires_at:f,token_type:h}=t;if(!s||!d||!l||!h)throw new Vf("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(d);let v=p+g;f&&(v=parseInt(f)),(v-p)*1e3<=Wo;const S=v-g;p-S>=120||p-S<0;const{data:k,error:j}=await this._getUser(s);if(j)throw j;const _={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:g,expires_at:v,refresh_token:l,token_type:h,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:t.type},error:null})}catch(n){if(we(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await hs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s&&!M0(s))return this._returnResult({error:s});const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(vne(d)&&(d.status===404||d.status===401||d.status===403)||M0(d)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await ur(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Ane(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await $o(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await ur(this.storage,`${this.storageKey}-code-verifier`),we(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var l,d,f,h,p;const{data:g,error:v}=s;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",x,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return dr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(we(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:l,provider:d,token:f,access_token:h,nonce:p}=t,g=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:d,id_token:f,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Nn}),{data:v,error:x}=g;return x?this._returnResult({data:{user:null,session:null},error:x}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new qo}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:x}))}catch(i){if(await ur(this.storage,`${this.storageKey}-code-verifier`),we(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:l}=r;if(l)throw l;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Cne(async i=>(i>0&&await One(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Nn})),(i,s)=>{const l=200*Math.pow(2,i);return s&&D0(s)&&Date.now()+l-n<Wo})}catch(n){if(this._debug(r,"error",n),we(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),dr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await hs(this.storage,this.storageKey);if(i&&this.userStorage){let l=await hs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Yo(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l?.user)!==null&&t!==void 0?t:I0()}else if(i&&!i.user&&!i.user){const l=await hs(this.storage,this.storageKey+"-user");l&&l?.user?(i.user=l.user,await ur(this.storage,this.storageKey+"-user"),await Yo(this.storage,this.storageKey,i)):i.user=I0()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<R0;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${R0}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(D0(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(i.access_token);!d&&l?.user?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Hr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new mp;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new Hr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const d={data:s.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(s){if(this._debug(i,"error",s),we(s)){const l={data:null,error:s};return D0(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(f){s.push(f)}});if(await Promise.all(l),s.length>0){for(let d=0;d<s.length;d+=1);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ur(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Yo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=fC(i);await Yo(this.storage,this.storageKey,s)}else{const i=fC(r);await Yo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ur(this.storage,this.storageKey),await ur(this.storage,this.storageKey+"-code-verifier"),await ur(this.storage,this.storageKey+"-user"),this.userStorage&&await ur(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch{}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Wo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Wo}ms, refresh threshold is ${Zb} ticks`),i<=Zb&&await this._callRefreshToken(n.refresh_token)})}catch{}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof DR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch{}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await $o(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(d.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await Oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:h}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&f.type==="totp"&&(!((i=f?.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?sae(t.webauthn.credential_response):oae(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:aae(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:iae(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,i,s;if(t)try{const{payload:x}=Xf(t);let S=null;x.aal&&(S=x.aal);let k=S;const{data:{user:j},error:_}=await this.getUser(t);if(_)return this._returnResult({data:null,error:_});((n=(r=j?.factors)===null||r===void 0?void 0:r.filter(T=>T.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(k="aal2");const A=x.amr||[];return{data:{currentLevel:S,nextLevel:k,currentAuthenticationMethods:A},error:null}}catch(x){if(we(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:l},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Xf(l.access_token);let h=null;f.aal&&(h=f.aal);let p=h;((s=(i=l.user.factors)===null||i===void 0?void 0:i.filter(x=>x.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const v=f.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Hr})})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Hr});const l=await Oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&dr()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Hr});const l=await Oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return l.data&&l.data.redirect_url&&dr()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Oe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Hr})})}catch(t){if(we(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Oe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Hr})})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(d=>d.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(d=>d.kid===t),n&&this.jwks_cached_at+pne>i)return n;const{data:s,error:l}=await Oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(d=>d.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:S}=await this.getSession();if(S||!x.session)return this._returnResult({data:null,error:S});n=x.session.access_token}const{header:i,payload:s,signature:l,raw:{header:d,payload:f}}=Xf(n);r?.allowExpired||Lne(s.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:s,header:i,signature:l},error:null}}const p=Bne(i.alg),g=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,kne(`${d}.${f}`)))throw new ex("Invalid JWT signature");return{data:{claims:s,header:i,signature:l},error:null}}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}}Ou.nextInstanceID={};const gae=Ou,vae="2.98.0";let Wc="";typeof Deno<"u"?Wc="deno":typeof document<"u"?Wc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wc="react-native":Wc="node";const yae={"X-Client-Info":`supabase-js-${Wc}/${vae}`},bae={headers:yae},xae={schema:"public"},wae={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jae={};function Cu(e){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(e)}function Sae(e,t){if(Cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kae(e){var t=Sae(e,"string");return Cu(t)=="symbol"?t:t+""}function _ae(e,t,r){return(t=kae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){_ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Aae=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Nae=()=>Headers,Eae=(e,t,r)=>{const n=Aae(r),i=Nae();return async(s,l)=>{var d;const f=(d=await t())!==null&&d!==void 0?d:e;let h=new i(l?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(s,Ot(Ot({},l),{},{headers:h}))}};function Oae(e){return e.endsWith("/")?e:e+"/"}function Cae(e,t){var r,n;const{db:i,auth:s,realtime:l,global:d}=e,{db:f,auth:h,realtime:p,global:g}=t,v={db:Ot(Ot({},f),i),auth:Ot(Ot({},h),s),realtime:Ot(Ot({},p),l),storage:{},global:Ot(Ot(Ot({},g),d),{},{headers:Ot(Ot({},(r=g?.headers)!==null&&r!==void 0?r:{}),(n=d?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function Tae(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Oae(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Pae=class extends gae{constructor(e){super(e)}},Rae=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const s=Tae(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,d={db:xae,realtime:jae,auth:Ot(Ot({},wae),{},{storageKey:l}),global:bae},f=Cae(r??{},d);if(this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch)}this.fetch=Eae(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Ot({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>{}),this.rest=new vre(new URL("rest/v1",s).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new une(this.storageUrl.href,this.headers,this.fetch,r?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new cre(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:l,lock:d,debug:f,throwOnError:h},p,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Pae({url:this.authUrl.href,headers:Ot(Ot({},v),p),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:l,lock:d,debug:f,throwOnError:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Mre(this.realtimeUrl.href,Ot(Ot({},e),{},{params:Ot(Ot({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Mae=(e,t,r)=>new Rae(e,t,r);function Dae(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Dae();const Iae="https://xbrywtjahuidaufcdvti.supabase.co",Lae="sb_publishable_rnj386MHhul5Z485dREOiQ_UPLAv6L4",ye=Mae(Iae,Lae,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1,lock:(e,t,r)=>r()}}),BR=b.createContext(null);function Bae({children:e}){const[t,r]=b.useState(null),[n,i]=b.useState(null),[s,l]=b.useState(!0),[d,f]=b.useState(!1),h=b.useRef(null);async function p(A){const{data:T,error:C}=await ye.from("profiles").select("*").eq("id",A).single();return C?null:T}const g=b.useCallback(async()=>{if(t?.id){const A=await p(t.id);return A&&i(A),A}return null},[t]);function v(A){h.current&&(ye.removeChannel(h.current),h.current=null);const T=ye.channel(`profile-changes-${A}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${A}`},C=>{i(C.new)}).subscribe();h.current=T}b.useEffect(()=>{ye.auth.getSession().then(async({data:{session:T}})=>{if(r(T?.user??null),T?.user){const C=await p(T.user.id);i(C),v(T.user.id)}l(!1)});const{data:{subscription:A}}=ye.auth.onAuthStateChange(async(T,C)=>{if(T==="PASSWORD_RECOVERY"&&f(!0),r(C?.user??null),C?.user){const O=await p(C.user.id);i(O),v(C.user.id)}else i(null),h.current&&(ye.removeChannel(h.current),h.current=null);l(!1)});return()=>{A.unsubscribe(),h.current&&ye.removeChannel(h.current)}},[]);async function x({email:A,password:T,fullName:C,companyName:O,jobTitle:M,revenueBand:P}){const{data:I,error:q}=await ye.auth.signUp({email:A,password:T});if(q)return{error:q};if(I.user){let Z=!0,U="free";try{const{data:te}=await ye.from("app_config").select("key, value");if(te){const L={};te.forEach(F=>{L[F.key]=F.value}),L.approval_mode==="manual"&&(Z=!1),L.default_tier==="premium"&&(U="premium")}}catch{}const{error:ce}=await ye.from("profiles").insert({id:I.user.id,email:A,full_name:C,company_name:O,job_title:M,revenue_band:P,role:"user",approved:Z,tier:U});if(ce)return{error:ce};const $=await p(I.user.id);i($)}return{data:I}}async function S({email:A,password:T}){const{data:C,error:O}=await ye.auth.signInWithPassword({email:A,password:T});if(O)return{error:O};if(C.user){const M=await p(C.user.id);if(i(M),M&&!M.approved)return await ye.auth.signOut(),{error:{message:"Your account is pending approval. Please check back later."}}}return{data:C}}async function k(){await ye.auth.signOut(),r(null),i(null)}async function j(A){const{error:T}=await ye.auth.resetPasswordForEmail(A,{redirectTo:`${window.location.origin}/login`});return{error:T}}async function _(A){const{error:T}=await ye.auth.updateUser({password:A});return T||f(!1),{error:T}}const E={user:t,profile:n,loading:s,signUp:x,signIn:S,signOut:k,resetPassword:j,updatePassword:_,refreshProfile:g,isPasswordRecovery:d,isAdmin:n?.role==="admin",isPremium:n?.tier==="premium"};return c.jsx(BR.Provider,{value:E,children:e})}function Ir(){const e=b.useContext(BR);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const B0=["roadmap","scenario","export"],zae={roadmap:{label:"Improvement Roadmap",desc:"Get a prioritised action plan showing exactly which gaps to close first for the biggest impact on your firm's value."},scenario:{label:"Scenario Modelling",desc:"Model what-if scenarios to see how improving individual themes would impact your overall M&A readiness score."},export:{label:"Export Reports",desc:"Download professional PDF reports, executive summaries, and CSV data exports to share with your team and stakeholders."},comparison:{label:"Assessment Comparison",desc:"Compare multiple assessments over time to track your firm's progress and see trends across every theme."}},qae={gaps:"Want a prioritised improvement roadmap based on these gaps?",scores:"Model different scenarios and see how improvements impact your M&A readiness."};function oh({feature:e,onUpgrade:t}){const r=zae[e];return r?c.jsx("div",{className:"flex items-center justify-center py-16 px-4",children:c.jsxs("div",{className:"max-w-md w-full text-center",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-amber-50 rounded-2xl mb-6",children:c.jsx(Rn,{className:"w-8 h-8 text-amber-500"})}),c.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:["Unlock ",r.label]}),c.jsx("p",{className:"text-gray-500 mb-8 leading-relaxed",children:r.desc}),c.jsxs("button",{onClick:()=>t&&t(`Premium Upgrade Enquiry  ${r.label}`),className:"inline-flex items-center gap-2 px-8 py-3 bg-amber-400 hover:bg-amber-500 text-white font-semibold rounded-lg transition-all duration-200 shadow-sm hover:shadow-md mb-4",children:["Upgrade to Premium",c.jsx(xu,{className:"w-4 h-4"})]}),c.jsx("div",{children:c.jsxs("button",{onClick:()=>t&&t(),className:"text-sm text-gray-400 hover:text-amber-600 transition inline-flex items-center gap-1",children:[c.jsx(gR,{className:"w-3.5 h-3.5"}),"Or talk to us"]})})]})}):null}function $ae({isOpen:e,onClose:t,onUpgrade:r,type:n}){if(!e)return null;const i={firm:{title:"Firm limit reached",desc:"You've reached the free plan limit of 1 firm. Upgrade to Premium for unlimited firms."},assessment:{title:"Assessment limit reached",desc:"You've reached the free plan limit of 1 assessment per firm. Upgrade to Premium for unlimited assessments."}},s=i[n]||i.firm;return c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",onClick:t,children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),c.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6 text-center",onClick:l=>l.stopPropagation(),children:[c.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600",children:c.jsx(qn,{className:"w-5 h-5"})}),c.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-amber-50 rounded-xl mb-4",children:c.jsx(Rn,{className:"w-6 h-6 text-amber-500"})}),c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:s.title}),c.jsx("p",{className:"text-sm text-gray-500 mb-6",children:s.desc}),c.jsx("button",{onClick:()=>{r&&r("Premium Upgrade Enquiry"),t()},className:"w-full px-6 py-2.5 bg-amber-400 hover:bg-amber-500 text-white font-semibold rounded-lg transition mb-3",children:"Upgrade to Premium"}),c.jsxs("button",{onClick:()=>{r&&r(),t()},className:"text-sm text-gray-400 hover:text-amber-600 transition inline-flex items-center gap-1",children:[c.jsx(gR,{className:"w-3.5 h-3.5"}),"Talk to us"]})]})]})}function xC({bannerKey:e,onUpgrade:t}){const[r,n]=b.useState(()=>{try{return localStorage.getItem(`gdmf_banner_${e}`)==="1"}catch{return!1}});if(r)return null;const i=qae[e];if(!i)return null;const s=()=>{n(!0);try{localStorage.setItem(`gdmf_banner_${e}`,"1")}catch{}};return c.jsxs("div",{className:"mt-6 mx-auto max-w-2xl bg-amber-50 border border-amber-200 rounded-lg px-4 py-3 flex items-center gap-3",children:[c.jsxs("p",{className:"flex-1 text-sm text-amber-800",children:[i," ",c.jsxs("button",{onClick:()=>t&&t("Premium Upgrade Enquiry"),className:"font-semibold text-amber-600 hover:text-amber-700 inline-flex items-center gap-1",children:["Upgrade to Premium ",c.jsx(xu,{className:"w-3.5 h-3.5"})]})]}),c.jsx("button",{onClick:s,className:"text-amber-400 hover:text-amber-600 flex-shrink-0",children:c.jsx(qn,{className:"w-4 h-4"})})]})}const zR=b.createContext(null);function ud(){return b.useContext(zR)}function Uae({children:e}){const[t,r]=b.useState(!1),[n,i]=b.useState(""),s=b.useCallback(d=>{i(d||""),r(!0)},[]),l=b.useCallback(()=>{r(!1),i("")},[]);return c.jsxs(zR.Provider,{value:{openContactModal:s,closeContactModal:l},children:[e,c.jsx(Fae,{isOpen:t,onClose:l,defaultSubject:n})]})}function Fae({isOpen:e,onClose:t,defaultSubject:r}){const{user:n,profile:i}=Ir(),[s,l]=b.useState(""),[d,f]=b.useState(""),[h,p]=b.useState(""),[g,v]=b.useState(""),[x,S]=b.useState(!1),[k,j]=b.useState(!1),[_,E]=b.useState(""),A=s||i?.full_name||"",T=d||n?.email||"",C=h||r||"";if(!e)return null;const O=async P=>{if(P.preventDefault(),!(!A.trim()||!T.trim()||!g.trim())){S(!0),E("");try{const{error:I}=await ye.from("contact_submissions").insert({name:A.trim(),email:T.trim(),subject:C.trim()||null,message:g.trim(),user_id:n?.id||null});if(I)throw I;j(!0)}catch{E("Something went wrong. Please try again.")}finally{S(!1)}}},M=()=>{l(""),f(""),p(""),v(""),j(!1),E(""),t()};return c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",onClick:M,children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),c.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[85vh] overflow-y-auto",onClick:P=>P.stopPropagation(),children:[c.jsxs("div",{className:"sticky top-0 bg-white rounded-t-2xl border-b border-gray-100 px-6 py-4 flex items-center justify-between z-10",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Get in touch"}),c.jsx("button",{onClick:M,className:"text-gray-400 hover:text-gray-600 transition",children:c.jsx(qn,{className:"w-5 h-5"})})]}),k?c.jsxs("div",{className:"px-6 py-12 text-center",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-green-50 rounded-full mb-4",children:c.jsx(jr,{className:"w-7 h-7 text-green-500"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Message sent"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Thanks  we'll be in touch within 24 hours."}),c.jsx("button",{onClick:M,className:"px-6 py-2.5 bg-gray-900 hover:bg-gray-800 text-white font-semibold rounded-lg transition",children:"Close"})]}):c.jsxs("form",{onSubmit:O,className:"px-6 py-5 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),c.jsx("input",{type:"text",value:A,onChange:P=>l(P.target.value),placeholder:"Your name",required:!0,className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-400/50 focus:border-amber-400"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",value:T,onChange:P=>f(P.target.value),placeholder:"your@email.com",required:!0,className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-400/50 focus:border-amber-400"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),c.jsx("input",{type:"text",value:C,onChange:P=>p(P.target.value),placeholder:"How can we help?",className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-400/50 focus:border-amber-400"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),c.jsx("textarea",{value:g,onChange:P=>v(P.target.value),placeholder:"Tell us more...",required:!0,rows:4,className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-amber-400/50 focus:border-amber-400 resize-none"})]}),_&&c.jsx("p",{className:"text-sm text-red-500",children:_}),c.jsx("button",{type:"submit",disabled:x,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-amber-400 hover:bg-amber-500 disabled:bg-amber-300 text-white font-semibold rounded-lg transition",children:x?"Sending...":c.jsxs(c.Fragment,{children:["Send Message",c.jsx(Fte,{className:"w-4 h-4"})]})})]})]})]})}function Hae({isOpen:e,onClose:t,onStatusChange:r}){const[n,i]=b.useState("loading"),[s,l]=b.useState(null),[d,f]=b.useState(null),[h,p]=b.useState(null),[g,v]=b.useState(""),[x,S]=b.useState(null),[k,j]=b.useState(!1),[_,E]=b.useState(!1);b.useEffect(()=>{e&&A()},[e]);async function A(){i("loading"),S(null);try{const{data:P,error:I}=await ye.auth.mfa.listFactors();if(I)throw I;const Z=(P?.totp||[]).filter(U=>U.status==="verified");Z.length>0?(p(Z[0].id),i("enrolled")):i("not_enrolled")}catch(P){S(P.message),i("not_enrolled")}}async function T(){j(!0),S(null);try{const{data:P,error:I}=await ye.auth.mfa.enroll({factorType:"totp",friendlyName:"GrowthLens Authenticator"});if(I)throw I;l(P.totp.qr_code),f(P.totp.secret),p(P.id),i("qr")}catch(P){S(P.message)}finally{j(!1)}}async function C(){if(g.length!==6){S("Please enter a 6-digit code.");return}j(!0),S(null);try{const{data:P,error:I}=await ye.auth.mfa.challenge({factorId:h});if(I)throw I;const{error:q}=await ye.auth.mfa.verify({factorId:h,challengeId:P.id,code:g});if(q)throw q;i("enrolled"),v(""),r&&r(!0)}catch(P){S(P.message),v("")}finally{j(!1)}}async function O(){j(!0),S(null);try{const{error:P}=await ye.auth.mfa.unenroll({factorId:h});if(P)throw P;i("not_enrolled"),p(null),l(null),f(null),r&&r(!1)}catch(P){S(P.message)}finally{j(!1)}}function M(){d&&(navigator.clipboard.writeText(d),E(!0),setTimeout(()=>E(!1),2e3))}return e?c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100] p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md",children:[c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ks,{className:"w-5 h-5 text-amber-600"}),c.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Two-Factor Authentication"})]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition",children:c.jsx(qn,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"px-6 py-5",children:[x&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 text-sm rounded-lg px-4 py-3 mb-4",children:x}),n==="loading"&&c.jsx("div",{className:"text-center py-8 text-gray-500",children:"Checking 2FA status..."}),n==="not_enrolled"&&c.jsxs("div",{className:"text-center",children:[c.jsx(Vte,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),c.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"2FA is not enabled"}),c.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Add an extra layer of security to your admin account by enabling two-factor authentication with an authenticator app."}),c.jsx("button",{onClick:T,disabled:k,className:"px-6 py-2.5 bg-amber-400 hover:bg-amber-500 disabled:bg-amber-300 text-white font-bold rounded-lg transition shadow-sm",children:k?"Setting up...":"Enable 2FA"})]}),n==="qr"&&c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Scan QR Code"}),c.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Scan this QR code with your authenticator app (Google Authenticator, Authy, etc.)"}),s&&c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("img",{src:s,alt:"MFA QR Code",className:"w-48 h-48 rounded-lg border border-gray-200"})}),d&&c.jsxs("div",{className:"mb-4",children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Or enter this code manually:"}),c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("code",{className:"text-xs bg-gray-100 px-3 py-1.5 rounded font-mono tracking-wider",children:d}),c.jsx("button",{onClick:M,className:"text-gray-400 hover:text-gray-600",children:_?c.jsx(uR,{className:"w-4 h-4 text-green-500"}):c.jsx(hte,{className:"w-4 h-4"})})]})]}),c.jsx("button",{onClick:()=>i("verify"),className:"px-6 py-2.5 bg-amber-400 hover:bg-amber-500 text-white font-bold rounded-lg transition shadow-sm",children:"I've scanned the code"})]}),n==="verify"&&c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Verify Setup"}),c.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Enter the 6-digit code from your authenticator app to confirm setup."}),c.jsx("input",{type:"text",inputMode:"numeric",maxLength:6,value:g,onChange:P=>v(P.target.value.replace(/\D/g,"").slice(0,6)),className:"w-40 mx-auto text-center text-2xl tracking-[0.5em] px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400 outline-none transition font-mono",placeholder:"000000",autoFocus:!0}),c.jsxs("div",{className:"mt-4 flex gap-3 justify-center",children:[c.jsx("button",{onClick:()=>{i("qr"),v(""),S(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm font-medium",children:"Back"}),c.jsx("button",{onClick:C,disabled:k||g.length!==6,className:"px-6 py-2.5 bg-amber-400 hover:bg-amber-500 disabled:bg-amber-300 text-white font-bold rounded-lg transition shadow-sm",children:k?"Verifying...":"Verify & Enable"})]})]}),n==="enrolled"&&c.jsxs("div",{className:"text-center",children:[c.jsx(Wte,{className:"w-12 h-12 text-green-500 mx-auto mb-3"}),c.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"2FA is enabled"}),c.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Your account is protected with two-factor authentication. You will need your authenticator app code each time you log in."}),c.jsx("button",{onClick:()=>i("unenroll_confirm"),className:"px-4 py-2 text-red-600 hover:text-red-700 text-sm font-medium border border-red-200 rounded-lg hover:bg-red-50 transition",children:"Disable 2FA"})]}),n==="unenroll_confirm"&&c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Disable 2FA?"}),c.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"This will remove two-factor authentication from your account. Are you sure?"}),c.jsxs("div",{className:"flex gap-3 justify-center",children:[c.jsx("button",{onClick:()=>i("enrolled"),className:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm font-medium",children:"Cancel"}),c.jsx("button",{onClick:O,disabled:k,className:"px-6 py-2.5 bg-red-500 hover:bg-red-600 disabled:bg-red-300 text-white font-bold rounded-lg transition shadow-sm",children:k?"Disabling...":"Yes, disable 2FA"})]})]})]})]})}):null}const lh="45b175ff-37c1-4b75-a78e-fba01680dff2";function Gae(){const{user:e}=Ir(),[t,r]=b.useState({firms:[],assessments:{}}),[n,i]=b.useState(!0),[s,l]=b.useState(null),d=b.useRef({}),f=b.useCallback(async()=>{if(!e){r({firms:[],assessments:{}}),i(!1);return}try{i(!0);const{data:j,error:_}=await ye.from("firms").select("*").or(`user_id.eq.${e.id},user_id.eq.${lh}`).order("created_at",{ascending:!1});if(_)throw _;const{data:E,error:A}=await ye.from("assessments").select("*").or(`user_id.eq.${e.id},user_id.eq.${lh}`).order("created_at",{ascending:!1});if(A)throw A;const T=j.map(O=>({id:O.id,name:O.name,sector:O.sector,createdAt:O.created_at,isDemo:O.user_id===lh})),C={};E.forEach(O=>{C[O.id]={id:O.id,firmId:O.firm_id,createdAt:O.created_at,ratings:O.ratings||{},benchmarkProfile:O.benchmark_profile}}),r({firms:T,assessments:C}),l(null)}catch(j){l(j.message)}finally{i(!1)}},[e]);b.useEffect(()=>{f()},[f]);const h=b.useCallback(async j=>{if(!e)return;const _={id:j.id||crypto.randomUUID(),user_id:e.id,name:j.name,sector:j.sector};r(A=>({...A,firms:[...A.firms,{id:_.id,name:_.name,sector:_.sector,createdAt:new Date().toISOString()}]}));const{error:E}=await ye.from("firms").insert(_);return E&&r(A=>({...A,firms:A.firms.filter(T=>T.id!==_.id)})),_.id},[e]),p=b.useCallback(async j=>{if(!e)return;const _=t.firms.find(T=>T.id===j),E={};Object.entries(t.assessments).forEach(([T,C])=>{C.firmId===j&&(E[T]=C)}),r(T=>{const C={...T.assessments};return Object.keys(C).forEach(O=>{C[O].firmId===j&&delete C[O]}),{firms:T.firms.filter(O=>O.id!==j),assessments:C}});const{error:A}=await ye.from("firms").delete().eq("id",j);return A&&r(T=>({firms:[...T.firms,_],assessments:{...T.assessments,...E}})),{firm:_,assessments:E}},[e,t]),g=b.useCallback(async(j,_)=>{if(!(!e||!j)){await ye.from("firms").insert({id:j.id,user_id:e.id,name:j.name,sector:j.sector});for(const[E,A]of Object.entries(_||{}))await ye.from("assessments").insert({id:A.id,firm_id:A.firmId,user_id:e.id,ratings:A.ratings,benchmark_profile:A.benchmarkProfile||"Professional Services"});r(E=>({firms:[...E.firms,j],assessments:{...E.assessments,..._}}))}},[e]),v=b.useCallback(async(j,_={})=>{if(!e)return;const E=crypto.randomUUID(),A={};Object.entries(_).forEach(([O,M])=>{A[O]={level:M,updatedAt:new Date().toISOString()}});const T={id:E,firm_id:j,user_id:e.id,ratings:A,benchmark_profile:"Professional Services"};r(O=>({...O,assessments:{...O.assessments,[E]:{id:E,firmId:j,createdAt:new Date().toISOString(),ratings:A}}}));const{error:C}=await ye.from("assessments").insert(T);return C&&r(O=>{const M={...O.assessments};return delete M[E],{...O,assessments:M}}),E},[e]),x=b.useCallback(async j=>{if(!e)return;const _=t.assessments[j];r(A=>{const T={...A.assessments};return delete T[j],{...A,assessments:T}});const{error:E}=await ye.from("assessments").delete().eq("id",j);return E&&_&&r(A=>({...A,assessments:{...A.assessments,[j]:_}})),_},[e,t]),S=b.useCallback(async j=>{!e||!j||(await ye.from("assessments").insert({id:j.id,firm_id:j.firmId,user_id:e.id,ratings:j.ratings,benchmark_profile:j.benchmarkProfile||"Professional Services"}),r(_=>({..._,assessments:{..._.assessments,[j.id]:j}})))},[e]),k=b.useCallback((j,_)=>{r(E=>{const A=E.assessments[j];if(!A)return E;const T=typeof _=="function"?_(A.ratings):_;return{...E,assessments:{...E.assessments,[j]:{...A,ratings:T}}}}),d.current[j]&&clearTimeout(d.current[j]),d.current[j]=setTimeout(async()=>{const A=(await new Promise(C=>{r(O=>(C(O),O))})).assessments[j];if(!A)return;const{error:T}=await ye.rpc("merge_ratings",{p_assessment_id:j,p_new_ratings:A.ratings});if(T&&(T.message?.includes("function")||T.code==="42883")){const{error:C}=await ye.from("assessments").update({ratings:A.ratings}).eq("id",j)}},1e3)},[e,t]);return{state:t,setState:r,loading:n,error:s,createFirm:h,deleteFirm:p,restoreFirm:g,createAssessment:v,deleteAssessment:x,restoreAssessment:S,updateRatings:k,reload:f}}const rl=(e,t)=>{try{window.plausible?.(e,t?{props:t}:void 0)}catch{}},ke={themes:[{id:"financial",name:"Financial Performance",icon:"pound",totalWeight:750,color:"#1B4F72",metrics:[{id:"fin_revenue",name:"Revenue Growth & Profitability",question:"How consistently are you achieving year-over-year revenue growth and profitability?",weight:100,foundational:"Revenue growth <5% per year, low or inconsistent profitability, reliance on a few large projects",evolving:"Revenue growth 5-10% per year, moderate profitability, some diversification of revenue streams",optimised:"Revenue growth >10% per year, strong profitability with predictable, diversified revenue streams and high-margin services",guidance:"Look for consistent YoY revenue growth of 10%+. Acquirers value predictable, compounding growth over one-off spikes. Consider organic vs acquisition-driven growth.",improvementAction:"Focus on recurring revenue models and multi-year contracts to demonstrate predictable growth trajectory",benchmark:72},{id:"fin_gm",name:"Gross Margin",question:"What is your current gross margin?",weight:100,foundational:"Gross margin <40%, cost overruns are frequent, and pricing is reactive rather than strategic",evolving:"Gross margin 40-50%, some cost control measures in place, but efficiency improvements still needed",optimised:"Gross margin >50%, strong cost control, pricing strategy optimised for profitability and scalability",guidance:"Healthy PSFs target gross margins of 50-70%. Margins below 40% signal pricing pressure or delivery inefficiency. Track trends over 3+ years for stability.",improvementAction:"Review pricing strategy, reduce delivery cost leakage, and shift toward higher-margin service lines",benchmark:72},{id:"fin_ebitda",name:"EBITDA %",question:"What is your EBITDA margin?",weight:100,foundational:"EBITDA margin <10%, low cash generation, high cost-to-revenue ratio",evolving:"EBITDA margin 10-20%, improving operational efficiency, but some volatility in profitability",optimised:"EBITDA margin >20%, strong financial discipline, consistent year-over-year growth",guidance:"EBITDA margins of 15-25% are typical for well-run PSFs. Margins above 20% indicate strong operational efficiency and pricing power attractive to acquirers.",improvementAction:"Audit overhead costs, improve utilization rates, and benchmark partner compensation against EBITDA targets",benchmark:70},{id:"fin_cash",name:"Cash Flow",question:"How consistent and positive is your free cash flow?",weight:100,foundational:"Free cash flow is negative or low, debtor days >60, frequent working capital constraints",evolving:"Free cash flow is positive but inconsistent, debtor days 45-60, some cash reserves maintained",optimised:"Free cash flow is consistently strong, debtor days <45, 80%+ cash flow conversion from EBITDA",guidance:"Consistent positive free cash flow demonstrates business sustainability. Look for low debtor days (<45), predictable billing cycles, and minimal capital expenditure requirements.",improvementAction:"Implement stricter billing cycles, reduce debtor days below 45, and build 3-month cash reserves",benchmark:70},{id:"fin_quality",name:"Quality of Revenue",question:"How high-quality and recurring is your revenue base?",weight:100,foundational:"Recurring/repeat revenue <10%, heavy reliance on new business development, volatile income streams",evolving:"Recurring/repeat revenue 10-30%, some multi-year contracts, but still significant project-based work",optimised:"Recurring/repeat revenue >30%, long-term client contracts, high revenue predictability",guidance:"High-quality revenue is recurring, predictable, and diversified. Retainer-based and subscription models score highest. Project-based revenue with strong repeat rates also scores well.",improvementAction:"Diversify revenue across clients (no single client >15%), grow recurring contracts to 40%+ of revenue",benchmark:68},{id:"fin_rate",name:"Blended Rate Card",question:"What is your average blended rate card across all service lines, and how does it compare to market benchmarks?",weight:100,foundational:"Average daily rate <1,000, frequent discounting, weak commercial discipline",evolving:"Average daily rate 1,000-1,500, some rate consistency, but discounting still occurs",optimised:"Average daily rate >1,500, strong commercial discipline, pricing reflects market leadership and value",guidance:"Blended rate trends indicate pricing power. Rising rates with maintained utilisation signals market strength. Compare against sector benchmarks for your discipline.",improvementAction:"Implement value-based pricing, reduce discounting, and benchmark rates against market by grade level",benchmark:70},{id:"fin_overhead",name:"Overhead Ratio",question:"What are your total overheads (non-delivery costs) as a percentage of revenue?",weight:75,foundational:"Overheads exceed 35% of revenue, indicating poor cost control, bloated administration, or inefficient operations",evolving:"Overheads 2535% of revenue, reasonable efficiency but opportunity for optimisation through technology or process improvement",optimised:"Overheads below 25% of revenue, lean operations with integrated technology driving efficiency and strong cost discipline",guidance:`Overhead ratio directly impacts EBITDA. The industry average is approximately 30%, but M&A-ready firms target below 25%. Track overhead trends quarterly and benchmark against peers. Overhead costs typically include:
 Sales  costs of winning work: sales team salaries/commission, bid management, proposals, non-billable account management time, and sales tools (CRM, sales enablement).
 Marketing  spend to generate awareness and demand: brand, content, events, paid media, website, PR, marketing staff, and marketing platforms.
 General & Administrative (G&A)  central running costs: Finance, HR, Legal, Compliance, office/admin, non-billable leadership time, and general professional fees.
 Recruiting / Talent Acquisition  costs to hire: internal recruiters, agency fees, job ads, background checks, referral bonuses, and non-client onboarding.
 Learning & Development  capability investment: training courses, certifications, coaching, leadership programmes, and learning platforms (where not billed to clients).
 Professional Services IT / Enablement  internal tech: IT staff, hardware, software licences, security, data tooling, and systems like PSA/ERP/HRIS that support delivery but are not billed.
 Non-billable Travel & Expenses (T&E)  travel not recharged to clients: internal meetings, sales travel, recruiting travel, and leadership offsites.`,improvementAction:"Audit all overhead categories, consolidate technology spend, automate administrative processes, and benchmark against industry data",benchmark:66},{id:"fin_revfte",name:"Revenue per FTE",question:"What is your average annual revenue per full-time equivalent employee?",weight:75,foundational:"Revenue per FTE below 80k, indicating low utilisation, weak pricing, or overstaffing relative to revenue",evolving:"Revenue per FTE 80k130k, moderate productivity with room for improvement in utilisation or pricing",optimised:"Revenue per FTE above 130k, demonstrating strong pricing power, high utilisation, and efficient delivery leverage",guidance:"Revenue per FTE is a core M&A efficiency metric. Top-quartile PSFs achieve 130180k per head. Track trends over 3+ years  consistent improvement signals operational maturity. Acquirers use this to benchmark against comparable firms and identify post-acquisition efficiency opportunities.",improvementAction:"Improve utilisation rates, review pricing strategy, reduce non-billable headcount ratio, and benchmark against sector peers",benchmark:66}]},{id:"people",name:"People",icon:"users",totalWeight:525,color:"#6C3483",metrics:[{id:"ppl_talent",name:"Talent & Competence Management",question:"How comprehensive and structured is your talent and competency management framework?",weight:100,foundational:"One or none of: detailed competency framework; consistent training and mentoring structure; annual appraisal system; clear role definitions",evolving:"2-3 of these: detailed competency framework; consistent training and mentoring structure; annual appraisal system; clear role definitions",optimised:"All of these: detailed competency framework; consistent training and mentoring structure; annual appraisal system; clear role definitions",guidance:"Comprehensive talent management includes structured career paths, regular development reviews, skills gap analysis, and leadership succession planning.",improvementAction:"Establish structured career pathways, implement 360-degree reviews, and create leadership development programs",benchmark:70},{id:"ppl_exp",name:"Employee Experience",question:"What are your employee engagement scores (internal NPS and/or Glassdoor rating)?",weight:100,foundational:"Internal NPS below 40 (or not measured) and Glassdoor rating below 3.5",evolving:"Internal NPS rating below 40 (or not measured) OR Glassdoor rating below 4",optimised:"Internal NPS rating 40+ AND Glassdoor rating above 4",guidance:"Employee satisfaction scores above 70% indicate a healthy culture. Track eNPS, exit interview themes, Glassdoor ratings, and participation in engagement surveys.",improvementAction:"Run quarterly eNPS surveys, act on feedback loops, and benchmark benefits against market leaders",benchmark:70},{id:"ppl_recruit",name:"Recruitment",question:"How effectively structured and targeted is your recruitment process?",weight:100,foundational:"Low (0-3) qualified applicants per job. Vague or unarticulated Employee Value Proposition",evolving:"Defined EVP with structured recruitment process, but inconsistent employer branding and limited pipeline metrics",optimised:"High (7+) qualified applicants per job. Clear Employee Value Proposition",guidance:"Effective recruitment means <60 day time-to-hire, structured interview processes, diverse pipelines, and strong employer branding. Low offer-rejection rates signal market positioning.",improvementAction:"Build employer brand, reduce time-to-hire below 30 days, and establish graduate/intern pipelines",benchmark:68},{id:"ppl_churn",name:"Churn & Attrition",question:"What is your annual attrition rate, and how effective are your retention strategies?",weight:100,foundational:"Attrition >25% annually",evolving:"Attrition between 15-25%",optimised:"Attrition <15%, strong retention strategies",guidance:"Annual attrition below 15% is healthy for PSFs. Distinguish between voluntary and involuntary turnover. High performer retention is the critical metric for acquirers.",improvementAction:"Implement stay interviews, address top 3 attrition drivers, and target voluntary attrition below 12%",benchmark:70},{id:"ppl_wf",name:"Workforce Composition",question:"How reliant are you on delivery teams composed of contractors versus permanent employees?",weight:25,foundational:">50% of delivery team are contractors, low organisational knowledge retention",evolving:"30-50% of delivery team are contractors, some investment in permanent teams",optimised:"<30% of delivery team are contractors, strong internal capability and knowledge retention",guidance:"Balanced workforce composition means no over-reliance on contractors or key individuals. Aim for a healthy mix of junior/mid/senior with clear development pathways.",improvementAction:"Reduce key-person dependency, cross-train teams, and build bench strength in critical delivery areas",benchmark:60},{id:"ppl_equity",name:"Equity & Ownership Breadth",question:"How broadly is equity or ownership distributed among key staff beyond the founders?",weight:50,foundational:"Equity held entirely by founder(s), or fewer than 5% of staff have any ownership stake; high key-person concentration risk",evolving:"Equity shared with 515% of staff (typically senior managers only); founder(s) retain more than 70% of equity",optimised:"Equity distributed among 15%+ of staff across multiple levels; no single individual holds more than 50% of equity; aligned retention incentives",guidance:"Broad equity distribution is a critical M&A signal. Founder-only ownership triggers 2040% valuation discounts due to key-person risk. Acquirers prefer distributed ownership that aligns incentives and supports retention through deal transitions. Target: 1525% of key staff with equity stakes, with no single holder above 50%.",improvementAction:"Implement equity participation scheme for key staff, reduce founder concentration below 50%, and align ownership with retention and performance goals",benchmark:62},{id:"ppl_training",name:"Training & Development Investment",question:"What percentage of revenue do you invest in structured training and professional development?",weight:50,foundational:"Training investment below 1% of revenue (or fewer than 3 days per employee per year), ad-hoc and reactive approach to development",evolving:"Training investment 12.5% of revenue (45 days per employee per year), documented L&D strategy with a mix of formal and informal learning",optimised:"Training investment above 2.5% of revenue (6+ days per employee per year), comprehensive integrated programme linked to competency framework and business outcomes",guidance:"Training investment is a leading indicator of talent retention and capability growth. Top-quartile PSFs invest 2.55% of revenue in L&D. Track training days per employee, budget allocation, and correlation with retention rates. Acquirers view underinvestment as a risk signal for post-deal talent flight.",improvementAction:"Establish minimum training budget of 2.5% of revenue, implement structured learning pathways, and track L&D ROI through retention and performance metrics",benchmark:65}]},{id:"services",name:"Services & Pricing",icon:"tag",totalWeight:350,color:"#1A5276",metrics:[{id:"srv_prop",name:"Market Proposition",question:"How clearly is your market proposition defined and differentiated from competitors?",weight:100,foundational:"Vague market positioning, low differentiation from competitors, low focus on specific client pain points",evolving:"Some differentiation but client pain points or benefits are vague",optimised:"Clearly defined, differentiated value proposition(s) focus on clear client needs and benefits",guidance:"A clear, differentiated value proposition articulates why clients choose you over alternatives. It should be specific, measurable, and consistently communicated across the firm.",improvementAction:"Define clear service tiers, retire underperforming offerings, and align portfolio to market demand",benchmark:70},{id:"srv_innov",name:"Service Innovation",question:"What percentage of your revenue is put towards service development / creation?",weight:25,foundational:"No structured investment (<2% of revenue)",evolving:"3-5% of revenue reinvested in service development",optimised:">5% of revenue reinvested in service innovation",guidance:"Active innovation includes regular service line reviews, R&D investment (2-5% of revenue), client co-creation, and a pipeline of new offerings in development.",improvementAction:"Allocate 5-10% of revenue to R&D, run quarterly innovation sprints, and track new service launch metrics",benchmark:60},{id:"srv_ip",name:"Service IP",question:"To what extent is your delivery supported by proprietary or IP-based content?",weight:100,foundational:"<10% of delivery supported by proprietary IP",evolving:"10%-30% of delivery incorporates proprietary IP",optimised:">30% of delivery is productised or IP-based",guidance:"Proprietary IP includes frameworks, tools, methodologies, and data assets. Documented, protected IP significantly increases firm valuation in M&A transactions.",improvementAction:"Codify delivery methodologies, create reusable frameworks, and protect intellectual property formally",benchmark:68},{id:"srv_size",name:"Project Size",question:"What is your average project size?",weight:50,foundational:"Average contract size less than 50k",evolving:"Average project size 50k-250k",optimised:"Average project size 250k+",guidance:"Optimal deal sizes balance profitability with risk. Growing average project size indicates market trust and capability maturity. Track trends over 12-24 months.",improvementAction:"Standardise delivery processes, invest in tooling/automation, and design services for delegation",benchmark:65},{id:"srv_price",name:"Pricing Strategy",question:"What percentage of your work is charged as value-based pricing or fixed price?",weight:25,foundational:"Less than 10% of engagements use value or outcome-based pricing; most work is billed on a time-and-materials basis",evolving:"1030% of engagements incorporate value or outcome-based pricing, with a defined strategy to increase this over time",optimised:"Over 30% of revenue comes from value or outcome-based pricing models, with clear methodologies for scoping and pricing",guidance:"Value-based pricing, clear rate cards, and minimal discounting indicate pricing maturity. Firms that can articulate and defend their pricing command premium valuations.",improvementAction:"Implement tiered pricing models, shift from time-based to value-based pricing where possible",benchmark:62},{id:"srv_portfolio",name:"Service Portfolio Architecture",question:"How structured is your service portfolio with clear entry-level, core, and strategic service tiers?",weight:50,foundational:"No structured service tiers; largest service line accounts for over 60% of revenue; limited client upsell pathway",evolving:"Some service tiering in place; largest service line accounts for 4060% of revenue; emerging upsell pathways between service lines",optimised:"Well-defined service tiers (entry, core, strategic) with documented client journey; largest service line below 40% of revenue; 3+ material service lines contributing to growth",guidance:"Service portfolio architecture measures how intentionally your services are structured to create client progression from initial engagement to strategic partnership. Well-architected portfolios include entry-level services that lower barriers, core services that generate volume, and strategic services that deepen relationships and margins.",improvementAction:"Map your service portfolio into tiers, identify gaps in the client journey, and develop entry-level offerings that create upsell pathways",benchmark:65}]},{id:"vision",name:"Vision & Strategy",icon:"compass",totalWeight:300,color:"#117A65",metrics:[{id:"vis_market",name:"Market/Niche Focus",question:"What is the current growth rate of your market/niche?",weight:100,foundational:"Limited understanding of target market; no formal analysis of niche positioning or competitive landscape",evolving:"Defined target market with some analysis of niche opportunities, but positioning is not yet distinctive or consistently communicated",optimised:"Deep understanding of target niche with clear, differentiated positioning backed by regular market analysis and validated demand",guidance:"Deep market understanding means documented analysis of market size, growth trends, competitive dynamics, and emerging opportunities. Updated annually at minimum.",improvementAction:"Conduct formal market analysis annually, track serviceable addressable market, and identify adjacencies",benchmark:68},{id:"vis_comp",name:"Competitors & Barriers to Entry",question:"How intense is the competition or how high are barriers to entry in your market?",weight:75,foundational:"High competition with 10+ direct competitors offering similar services and low barriers to entry",evolving:"Moderate competition with 5-10 competitors, some differentiation through IP or niche specialisation",optimised:"Low competition with <5 competitors in the same niche, strong barriers to entry through proprietary IP or brand authority",guidance:"Know your top 5-10 competitors deeply: their positioning, pricing, strengths, and weaknesses. A competitive intelligence process that informs strategy scores highest.",improvementAction:"Document competitor strengths and weaknesses, define clear differentiators, and monitor win/loss patterns",benchmark:65},{id:"vis_align",name:"Strategic Alignment",question:"How well is your strategy communicated, understood, and consistently executed across all levels of the organisation?",weight:50,foundational:"Strategy is misaligned across teams",evolving:"Some alignment, but execution inconsistencies",optimised:"Strategy is well-defined and fully aligned",guidance:"Strategic alignment means the entire leadership team can articulate the same vision and priorities. Measured through consistent messaging and aligned departmental goals.",improvementAction:"Ensure strategy is communicated to all levels, embed strategic goals in team OKRs, and review quarterly",benchmark:62},{id:"vis_plan",name:"Business Planning",question:"How structured and regularly updated is your business planning process?",weight:75,foundational:"No formal business plan or planning occurs reactively, with no structured forecasting",evolving:"Business planning conducted annually, with some structured financial and strategic forecasting",optimised:"Business planning is a quarterly rolling process, with 3-5 year strategic plans and real-time performance tracking",guidance:"A robust strategic plan covers 3-5 years with clear milestones, resource allocation, and KPIs. Reviewed quarterly with documented progress tracking.",improvementAction:"Document a clear 3-5 year strategic plan with measurable milestones and board-approved targets",benchmark:65},{id:"vis_esg",name:"ESG",question:"To what extent is ESG integrated into your business strategy with measurable targets and reporting?",weight:0,foundational:"No formal ESG strategy, no tracking of environmental or social impact",evolving:"Basic ESG policy in place, some initiatives but no structured reporting",optimised:"Fully embedded ESG strategy with measurable KPIs and transparent annual reporting",guidance:"ESG and sustainability practices increasingly matter to acquirers. Documented policies, measurable targets, and annual reporting demonstrate maturity in this area.",improvementAction:"Establish ESG policy, report on sustainability metrics, and align with client procurement requirements",benchmark:55}]},{id:"sales",name:"Sales & Pipeline",icon:"trending-up",totalWeight:325,color:"#D97706",metrics:[{id:"sal_pipe",name:"Pipeline Visibility",question:"How much of the next 12 months' revenue do you currently have booked?",weight:75,foundational:"<40% of next 12 months' revenue booked",evolving:"40-70% of next 12 months' revenue booked",optimised:">70% of next 12 months' revenue booked",guidance:"A healthy pipeline is 3-4x annual revenue target with balanced stage distribution. Track pipeline velocity, win rates by stage, and average deal cycle length.",improvementAction:"Implement CRM discipline, maintain 3x pipeline coverage, and track conversion rates by stage",benchmark:68},{id:"sal_conv",name:"Conversion Ratios",question:"What is your typical proposal-to-project conversion ratio?",weight:50,foundational:"<25% proposal conversion rate",evolving:"25%-50% proposal conversion rate",optimised:">50% proposal conversion rate",guidance:"Conversion rates above 30% from qualified opportunity to close indicate strong sales execution. Track by service line, client segment, and team member.",improvementAction:"Conduct win/loss analysis on every bid, improve proposal quality, and build sector-specific case studies",benchmark:65},{id:"sal_mgmt",name:"Sales Management",question:"How structured and effective is your sales management system?",weight:75,foundational:"Weak sales management: weak reporting or data. CRM not well integrated",evolving:"Improved sales management. CRM used, but not consistently by all",optimised:"Strong sales management by top-ranked senior. Weekly meetings driven by CRM-related data",guidance:"Mature sales management includes CRM discipline, regular pipeline reviews, accurate forecasting (within 10%), and documented sales processes with clear stage gates.",improvementAction:"Implement a structured sales management framework with CRM-driven pipeline tracking, weekly forecast reviews, and defined stage-gate criteria for opportunity progression",benchmark:65},{id:"sal_skills",name:"Sales Skills & Processes",question:"How well-defined and effective are your sales mentoring and training systems?",weight:75,foundational:"No structured sales training/processes",evolving:"Some structured sales processes, but inconsistently applied",optimised:"Highly structured, repeatable sales process",guidance:"Sales capability goes beyond individual talent to include structured training, playbooks, proposal templates, and win/loss analysis feeding continuous improvement.",improvementAction:"Invest in a formal sales training programme covering consultative selling, objection handling, and proposal writing, with regular coaching and skills assessments",benchmark:65},{id:"sal_crosssell",name:"Cross-sell & Account Expansion",question:"What percentage of your annual revenue comes from selling additional services to existing clients?",weight:50,foundational:"Cross-sell/upsell revenue below 15% of total; fewer than 1.5 service lines per client on average; ad-hoc account development",evolving:"Cross-sell/upsell revenue 1525% of total; 1.52.5 service lines per client; some structured account planning in place",optimised:"Cross-sell/upsell revenue above 25% of total; 2.5+ service lines per client on average; systematic account growth plans with quarterly reviews",guidance:"Expansion revenue from existing clients is typically the highest-margin revenue source for PSFs. Track service lines per client, expansion revenue as a percentage of total, and account plan coverage for top 20 clients. Acquirers view strong cross-sell as evidence of deep client relationships and growth potential.",improvementAction:"Implement formal account plans for top 20 clients, set cross-sell revenue targets, and train delivery teams to identify expansion opportunities",benchmark:60}]},{id:"clients",name:"Clients & Relationships",icon:"handshake",totalWeight:300,color:"#DC2626",metrics:[{id:"cli_conc",name:"Client Concentration & Risk",question:"How concentrated is your revenue among your top three clients?",weight:100,foundational:"Top 3 clients contribute >50% of total revenue, high dependency on a few key relationships",evolving:"Top 3 clients contribute 30-50% of total revenue, moderate diversification",optimised:"Top 3 clients contribute <30% of total revenue, well-diversified client base",guidance:"Client concentration below 20% for top client and below 50% for top 5 clients reduces acquirer risk. Active diversification strategy should be documented.",improvementAction:"Reduce largest client to below 15% of revenue, diversify across 3+ sectors, build mid-market pipeline",benchmark:70},{id:"cli_long",name:"Client Longevity",question:"What is your average client tenure?",weight:100,foundational:"Average client tenure <6 months, transactional relationships, low retention",evolving:"Average client tenure 6-24 months, some long-term relationships",optimised:"Average client tenure >2 years, high retention rate, strong account management",guidance:"Long-term client relationships (3+ years average tenure) indicate service quality and switching costs. Track Net Revenue Retention and expansion revenue.",improvementAction:"Implement NPS tracking, conduct quarterly business reviews with top 20 clients, target 90%+ retention",benchmark:72},{id:"cli_size",name:"Client Size",question:"What is the typical size of your client contracts?",weight:25,foundational:"Majority of clients are small contracts (<50k annual spend)",evolving:"Mix of small and mid-sized clients, with 20%+ of revenue from mid-tier (50k-250k)",optimised:"30%+ of revenue from large clients (250k+ per year), strategic account penetration",guidance:"Growing average client size indicates deepening relationships and cross-sell success. Track revenue per client trends and number of service lines per client.",improvementAction:"Develop structured account growth plans, set expansion targets per client, and track wallet share",benchmark:60},{id:"cli_part",name:"Partnerships & Alliances",question:"How structured and beneficial are your strategic partnerships and alliances?",weight:25,foundational:"No formal partnerships, occasional ad hoc collaborations",evolving:"1-3 strategic partnerships, contributing <10% of revenue",optimised:"3+ strong partnerships, contributing >15% of revenue, integrated into go-to-market",guidance:"Strategic client partnerships include joint planning, executive sponsorship, multi-year contracts, and embedded team models. These create defensible revenue streams.",improvementAction:"Establish multi-stakeholder relationships at each key client, implement relationship mapping tools",benchmark:58},{id:"cli_ref",name:"Referenceable Clients",question:"What percentage of your active clients would willingly serve as a reference or case study?",weight:50,foundational:"Fewer than 50% of clients would serve as references; no formal reference programme; limited published case studies",evolving:"5075% referenceable clients; some case studies and testimonials collected; informal reference process",optimised:"Over 75% referenceable clients; formal reference programme with documented case studies; references readily available for sales and M&A due diligence",guidance:"Referenceable clients are a critical asset in both sales and M&A due diligence. Acquirers will want to speak to clients during the deal process. Firms with >75% referenceability demonstrate strong delivery quality and client satisfaction. Track referenceability separately from NPS  a client can be satisfied but unwilling to go on record.",improvementAction:"Build formal reference programme, request testimonials after successful projects, publish case studies quarterly, and maintain a reference-ready client list",benchmark:68}]},{id:"leadership",name:"Leadership & Governance",icon:"shield",totalWeight:300,color:"#4A235A",metrics:[{id:"led_team",name:"Senior Leadership Team",question:"How experienced and strategically skilled is your senior leadership team?",weight:100,foundational:"Leadership team lacks defined roles and accountability; decision-making is ad hoc and overly reliant on the founder or a single individual",evolving:"Leadership team has defined roles with improving accountability, but still dependent on 12 key individuals for major decisions and client relationships",optimised:"Very experienced leadership team with experience of M&A",guidance:"A complete, capable leadership team has clear roles, complementary skills, and succession plans. No single point of failure. Board or advisory board adds governance strength.",improvementAction:"Build balanced leadership team across functions, invest in executive coaching, and conduct team reviews",benchmark:70},{id:"led_deleg",name:"Delegation & Succession",question:"How clearly defined are your delegation and succession planning processes?",weight:100,foundational:"Founders drive most key decisions",evolving:"Some delegation, but founder dependence remains",optimised:"CEO and leadership team operate independently",guidance:"Effective delegation means the firm runs without founder dependency. Key decisions are made at appropriate levels with documented authority matrices.",improvementAction:"Document succession plans for all key roles, develop internal candidates, and test plans annually",benchmark:70},{id:"led_gov",name:"Governance & Controls",question:"How robust are your governance and control mechanisms?",weight:50,foundational:"One or none of: Strong advisory board; Strong governance for decision-making; Strong strategic reporting",evolving:"Two of these: Strong advisory board; Strong governance; Strong strategic reporting",optimised:"All three: Strong advisory board; Strong governance for decision-making; Strong strategic reporting",guidance:"Strong governance includes regular board meetings, documented policies, risk management frameworks, compliance procedures, and clear reporting structures.",improvementAction:"Establish independent advisory board, implement formal board reporting, and define governance charter",benchmark:62},{id:"led_risk",name:"Risk Management",question:"How formal and comprehensive is your risk management framework?",weight:50,foundational:"No formal risk register; risk management is reactive; no business continuity plan or compliance framework documented",evolving:"Risk register maintained and reviewed quarterly; basic business continuity plan in place; some compliance documentation but not systematically embedded",optimised:"Enterprise risk management fully embedded with risk register reviewed quarterly by board; business continuity plan tested annually; formal assessment of third-party, cyber, and operational risks",guidance:"Formal risk management is increasingly scrutinised in M&A due diligence. Acquirers expect to see a maintained risk register, business continuity planning, and evidence of compliance maturity. Weak risk governance can trigger 1015% valuation discounts. Align with ISO 31000 principles for best practice.",improvementAction:"Establish a formal risk register with assigned owners, implement business continuity plan, and conduct annual risk reviews with board oversight",benchmark:62}]},{id:"cost",name:"Cost Optimisation",icon:"calculator",totalWeight:250,color:"#16A34A",metrics:[{id:"cos_deliv",name:"Delivery Model",question:"How efficient and optimised is your current delivery model?",weight:25,foundational:"Delivery is fully onshore, cost inefficiencies",evolving:"Some offshore delivery, but limited efficiency gains",optimised:"Optimised delivery mix with offshore efficiencies",guidance:"Delivery cost efficiency means optimal staff-to-project ratios, minimal rework, and consistent on-budget project delivery. Track cost variance against estimates.",improvementAction:"Track project profitability weekly, implement earned value management, and address margin erosion early",benchmark:60},{id:"cos_tech",name:"Technology Maturity",question:"What is the maturity level of your technology infrastructure (CRM, PSA, HCM)?",weight:75,foundational:"Limited use of CRM, PSA, or automation",evolving:"Basic adoption of CRM, PSA, and some automation",optimised:"Fully integrated digital ecosystem (CRM, PSA, AI)",guidance:"Technology enablement includes modern tools for collaboration, project management, time tracking, and client delivery. Cloud-first, integrated platforms score highest.",improvementAction:"Consolidate technology stack, measure ROI on all platforms, and automate repetitive delivery tasks",benchmark:68},{id:"cos_scale",name:"Scaling Infrastructure",question:"What percentage of your core business processes are automated or supported by AI and scalable technology?",weight:75,foundational:"<20% of core business processes automated or AI-supported",evolving:"20-50% of core business processes automated, with partial AI-driven analytics",optimised:">50% of processes automated, with AI and RPA fully embedded in operations",guidance:"Scalable operations can grow revenue faster than headcount. Look for automation, standardised processes, offshore/nearshore leverage, and technology-enabled delivery.",improvementAction:"Standardise delivery processes, build reusable assets, and invest in platforms that scale efficiently",benchmark:68},{id:"cos_data",name:"Data Maturity",question:"How mature is your approach to data management and analytics?",weight:75,foundational:"Data fragmented, manual reporting",evolving:"Some structured reporting, data inconsistencies",optimised:"Automated, real-time data-driven reporting",guidance:"Data-driven decision making requires clean data, regular reporting dashboards, and evidence-based planning. Analytics capability is increasingly valued by acquirers.",improvementAction:"Implement BI dashboards for real-time visibility, track leading indicators, and automate reporting",benchmark:65},{id:"cos_lever",name:"Leverage",question:"What is your typical ratio of junior to senior staff on project delivery teams?",weight:0,foundational:"Heavy reliance on senior staff for delivery; junior-to-senior ratio below 2:1 with limited delegation of work",evolving:"Emerging leverage model with junior-to-senior ratio of 2:13:1; some structured delegation but seniors still heavily involved in delivery",optimised:"Effective leverage model with junior-to-senior ratio above 3:1; clear role-based delivery structure that maximises senior capacity for sales and oversight",guidance:"Leverage in a PSF context means the ratio of junior to senior staff on projects. Higher leverage with maintained quality indicates scalable, profitable delivery.",improvementAction:"Optimize team pyramids, increase junior leverage ratios, and use offshore/nearshore where appropriate",benchmark:58},{id:"cos_know",name:"Knowledge",question:"What percentage of your organisational knowledge and delivery methodologies are formally documented and accessible?",weight:0,foundational:"<20% of knowledge is codified, minimal documentation",evolving:"20-50% of knowledge is documented, some use of knowledge management tools",optimised:">50% of knowledge is structured and documented, KM systems fully integrated",guidance:"Knowledge management systems capture institutional knowledge, enable reuse, and accelerate onboarding. Documented methodologies and searchable knowledge bases score highest.",improvementAction:"Build knowledge management system, capture project learnings, and reduce reinvention across teams",benchmark:60},{id:"cos_resrc",name:"Resourcing",question:"What is your average consultant utilisation rate and how far ahead do you forecast resource demand?",weight:0,foundational:"Utilisation <60%, poor visibility on resource allocation",evolving:"Utilisation 60-75%, some workforce planning but reactive deployment",optimised:"Utilisation >75%, proactive resource planning and demand forecasting",guidance:"Resource management optimises utilisation while preventing burnout. Mature firms use forecasting tools, skills databases, and capacity planning 3-6 months ahead.",improvementAction:"Implement resource management tooling, forecast demand 90 days ahead, and reduce bench time below 10%",benchmark:58}]},{id:"delivery",name:"Delivery",icon:"check-square",totalWeight:225,color:"#2E86C1",metrics:[{id:"del_sat",name:"Client Satisfaction",question:"How structured and effective is your client satisfaction measurement (NPS)?",weight:75,foundational:"No structured feedback mechanisms (NPS <20)",evolving:"Periodic feedback collection, NPS 20-50",optimised:"Advanced feedback mechanisms, NPS >50",guidance:"Client satisfaction scores (CSAT/NPS) above industry average demonstrate delivery quality. Regular measurement, trend tracking, and action on feedback score highest.",improvementAction:"Implement quality assurance checkpoints, track client satisfaction per project, and maintain scorecards",benchmark:75},{id:"del_util",name:"Utilisation",question:"What is the average billable utilisation rate across your delivery team?",weight:50,foundational:"Utilisation <60%",evolving:"Utilisation 60-75%",optimised:"Utilisation >75%",guidance:"Utilisation rates of 70-80% for senior staff and 80-85% for delivery teams are healthy. Track billable vs non-billable carefully and manage bench time productively.",improvementAction:"Target 75%+ billable utilization, implement real-time tracking, and address underperforming areas",benchmark:68},{id:"del_qa",name:"Quality Assurance",question:"How robust are your quality assurance standards?",weight:50,foundational:"No formal QA standards",evolving:"Some QA standards in place, inconsistent adherence",optimised:"Robust QA framework throughout project delivery, consistently applied",guidance:"Quality assurance includes peer review processes, delivery standards, client acceptance procedures, and continuous improvement loops from project retrospectives.",improvementAction:"Standardize delivery methodology, train all staff, and measure methodology adherence on every project",benchmark:68},{id:"del_otob",name:"On-Time & On-Budget Delivery",question:"What percentage of your projects are delivered on time and within budget?",weight:50,foundational:"Fewer than 60% of projects delivered on time and on budget; rework rate above 8% of project hours; limited scope or change control",evolving:"6080% of projects on time and on budget; rework rate 38%; formal change control process in place but inconsistently applied",optimised:"Over 80% of projects on time and on budget; rework rate below 3%; rigorous change control and scope management; project margins consistently above target",guidance:"On-time, on-budget delivery is the operational proof of a firm's promises. The industry average is approximately 73% on-time delivery (based on industry data), but this has been declining. Track on-time and on-budget rates separately, monitor rework as a percentage of total project hours, and ensure change control processes are consistently applied.",improvementAction:"Implement project health dashboards, introduce earned value management for large projects, and conduct post-project reviews to reduce rework rates",benchmark:70}]},{id:"market",name:"Market Profile",icon:"globe",totalWeight:200,color:"#CA6F1E",metrics:[{id:"mkt_size",name:"Market Size & Growth Potential",question:"How large is your total addressable market and what is its projected growth rate?",weight:25,foundational:"Small total addressable market (less than 500m)",evolving:"Medium total addressable market (500m1bn)",optimised:"Large total addressable market (>1bn) with strong projected growth",guidance:"Addressable market size should be clearly defined and large enough for growth ambitions. Document TAM, SAM, and SOM with credible bottom-up analysis.",improvementAction:"Define total addressable market, track market share trends, and identify growth white spaces",benchmark:60},{id:"mkt_mktg",name:"Marketing Influence on Revenue",question:"What percentage of your revenue is directly influenced by marketing activities?",weight:50,foundational:"<5% of revenue influenced by marketing",evolving:"5-15% of revenue influenced by marketing",optimised:"15%+ of revenue driven by marketing",guidance:"Marketing effectiveness is measured by lead generation metrics, brand awareness, share of voice, and marketing-attributed pipeline. Track cost per qualified lead.",improvementAction:"Build content marketing pipeline, track cost per lead, and measure marketing-sourced pipeline quarterly",benchmark:65},{id:"mkt_award",name:"Awards & Recognition",question:"How many national or industry awards have you won in the past three years?",weight:50,foundational:"No national or industry awards won in the past three years",evolving:"1-2 national or industry awards won in the past three years",optimised:"3+ national or industry awards, with external validation from major industry bodies",guidance:"Industry awards and recognition validate market positioning. Active award submissions, analyst relations, and industry body participation demonstrate thought leadership.",improvementAction:"Pursue relevant industry awards, build case study library, and manage online review presence actively",benchmark:62},{id:"mkt_thought",name:"Thought Leadership",question:"How active and recognised is your thought leadership?",weight:50,foundational:"No thought leadership published in the past 12 months; no defined content strategy or editorial calendar",evolving:"At least 12 thought leadership pieces published per quarter, with an emerging content strategy but inconsistent cadence",optimised:"Recognised industry thought leader, 4+ high-impact pieces monthly with significant recognition",guidance:"Thought leadership includes regular publishing, speaking engagements, research reports, and media presence. Content should demonstrate deep domain expertise.",improvementAction:"Publish quarterly research/whitepapers, secure speaking slots at key events, and build analyst relationships",benchmark:68},{id:"mkt_brand",name:"Branding",question:"What is your brand awareness and market recognition level?",weight:0,foundational:"No defined brand strategy, weak recognition outside existing clients",evolving:"Some brand recognition, 1-2 external PR initiatives annually",optimised:"Recognised industry brand with strong external presence driving inbound opportunities",guidance:"Brand strength is measured by unaided awareness, brand preference in target segments, and premium pricing ability. Consistent visual identity and messaging across channels.",improvementAction:"Build distinctive thought leadership program, measure share of voice, and invest in digital brand presence",benchmark:60},{id:"mkt_digital",name:"Digital Presence & Inbound Pipeline",question:"What percentage of your new business pipeline originates from your digital presence (website, content, SEO, social)?",weight:25,foundational:"Less than 10% of pipeline from digital/inbound; website outdated or not optimised; no content strategy or lead tracking",evolving:"1030% of pipeline from digital channels; website functional with some content; basic lead tracking and CRM integration; some online thought leadership",optimised:"Over 30% of pipeline from digital/inbound channels; website optimised for lead generation; systematic content strategy with regular publishing; marketing automation and attribution tracking in place",guidance:"Digital presence is increasingly the primary discovery channel for PSF buyers. High-growth firms generate 30%+ of pipeline from inbound digital channels. Track website traffic, conversion rates, content engagement, and marketing-attributed pipeline. Inbound leads cost approximately 2.6x less than outbound and convert at higher rates.",improvementAction:"Invest in website optimisation, build systematic content calendar, implement marketing automation, and track digital attribution to pipeline",benchmark:65}]}]};ke.themes.reduce((e,t)=>e+t.metrics.reduce((r,n)=>r+n.weight*3,0),0);ke.themes.reduce((e,t)=>e+t.totalWeight,0);const pt={"M&A-Ready (PSF)":{financial:70,people:68,services:66,vision:64,sales:65,clients:68,leadership:67,cost:65,delivery:70,market:65},"Top Decile":{financial:85,people:82,services:80,vision:78,sales:80,clients:82,leadership:80,cost:78,delivery:85,market:78},"Industry Average":{financial:55,people:52,services:50,vision:48,sales:48,clients:52,leadership:50,cost:48,delivery:55,market:48},Consulting:{financial:72,people:70,services:68,vision:66,sales:67,clients:70,leadership:69,cost:67,delivery:72,market:67},"Technology Services":{financial:68,people:65,services:70,vision:68,sales:63,clients:65,leadership:64,cost:62,delivery:74,market:70},"Legal & Compliance":{financial:65,people:62,services:64,vision:58,sales:55,clients:72,leadership:70,cost:60,delivery:68,market:58},"Financial Advisory":{financial:75,people:66,services:65,vision:62,sales:68,clients:70,leadership:68,cost:64,delivery:66,market:62}},qR={themes:{financial:{overview:"Financial performance is the single most scrutinised area in M&A due diligence. Acquirers evaluate revenue trajectory, margin stability, and cash conversion to assess earnings quality and growth sustainability. Firms demonstrating consistent, diversified revenue with strong EBITDA margins command premium valuations  often 812x EBITDA for top-quartile PSFs versus 46x for average performers.",keyBenchmarks:[{metric:"Revenue Growth",target:"1015% YoY organic"},{metric:"Gross Margin",target:"5570%"},{metric:"EBITDA Margin",target:"1525%"},{metric:"Revenue per FTE",target:"100180k"},{metric:"Recurring Revenue",target:">30% of total"}],caseStudy:{title:"Meridian Consulting: From Feast-or-Famine to Predictable Growth",scenario:"A 120-person management consulting firm with 18M revenue, heavy reliance on three anchor clients (62% of revenue), and volatile annual growth ranging from -5% to +22%.",foundational:"Meridian had no formal revenue forecasting, project pricing was ad-hoc, and margins fluctuated between 818% depending on utilisation. The founding partners controlled all major client relationships.",evolution:"Over 18 months they implemented monthly financial reporting by service line, introduced value-based pricing on 40% of engagements, and diversified revenue with two new service offerings. EBITDA stabilised at 1416%.",optimised:"After three years, Meridian achieved 12% YoY growth, 22% EBITDA, and reduced top-client concentration to 28%. The predictable financial profile attracted acquisition interest at 9.2x EBITDA.",outcome:"Acquired at a 35% premium to initial valuation expectations, driven primarily by the quality and predictability of the financial trajectory."}},people:{overview:"People are the core asset in any professional services firm  and often the most significant risk factor in M&A. Acquirers assess talent depth, retention stability, and cultural cohesion to determine whether the firms value walks out the door each evening. Firms with strong employer brands, low attrition, and distributed expertise command higher valuations and smoother post-merger integrations.",keyBenchmarks:[{metric:"Voluntary Turnover",target:"<12% annually"},{metric:"Employee Engagement",target:">75% favourable"},{metric:"Revenue per Employee",target:"100150k"},{metric:"Time to Hire",target:"<45 days avg"},{metric:"Training Investment",target:">3% of revenue"}],caseStudy:{title:"Kinetic Partners: Building a Talent Engine That Survived Acquisition",scenario:"An 85-person technology consulting firm experiencing 25% annual attrition, with knowledge concentrated in a small group of senior consultants who personally held all key client relationships.",foundational:"Kinetic had no structured career paths, compensation was opaque, and exit interviews were not conducted. Three departures of senior staff in one quarter triggered the loss of two major accounts.",evolution:"They introduced a competency framework with transparent career ladders, implemented quarterly pulse surveys, and created a mentorship programme pairing senior and junior consultants. Attrition dropped to 18% within a year.",optimised:"After two years, voluntary turnover fell to 11%, Glassdoor ratings rose from 3.2 to 4.3, and the firm won a regional Best Workplace award. Knowledge was systematically documented and client relationships distributed across teams.",outcome:"The acquirer cited the stable, engaged workforce as a key factor in their 8.5x EBITDA offer  noting that typical PSF acquisitions at this size traded at 57x."}},services:{overview:"Service proposition clarity and pricing sophistication signal strategic maturity to acquirers. Firms that have moved beyond time-and-materials billing to value-based pricing, developed proprietary methodologies, and built scalable service lines demonstrate the kind of intellectual property and margin resilience that drives premium valuations.",keyBenchmarks:[{metric:"Value-Based Pricing",target:">40% of engagements"},{metric:"Service Line Gross Margin",target:"5565% average"},{metric:"Avg Project Size",target:">2x industry median"},{metric:"IP-Driven Revenue",target:">20% of total"},{metric:"Repeat Business Rate",target:">60%"}],caseStudy:{title:"Stratos Advisory: From Commodity Hourly Rates to Premium IP",scenario:"A 60-person financial advisory firm billing almost exclusively on day rates, competing primarily on price, with no proprietary tools or frameworks differentiating their offering.",foundational:"Stratos had undifferentiated service descriptions, no documented methodologies, and partners frequently discounted rates to win work. Average project size was 35k and margins were thin at 12%.",evolution:"They codified their top consultants approaches into three branded methodologies, created diagnostic assessment tools, and trained the team on value-based scoping. Within a year, 30% of new engagements used fixed-fee value pricing.",optimised:"Stratos became known for their proprietary diagnostic framework, which became a market differentiator. Average project size doubled to 72k, margins reached 24%, and they were able to selectively decline low-value work.",outcome:"The IP portfolio was valued separately in the acquisition, adding an estimated 1.5x to the overall EBITDA multiple."}},vision:{overview:"A clear, articulated strategy signals to acquirers that the firms growth is intentional rather than accidental. Firms with documented strategic plans, defined market positioning, and measurable strategic KPIs demonstrate the kind of purposeful direction that reduces acquisition risk and supports post-deal integration planning.",keyBenchmarks:[{metric:"Strategic Plan",target:"35 year documented plan reviewed quarterly"},{metric:"Market Focus",target:"Clear niche with >15% market share"},{metric:"Strategic KPIs",target:"58 tracked metrics with quarterly review"},{metric:"Innovation Investment",target:"35% of revenue"},{metric:"ESG Framework",target:"Published policy with measurable targets"}],caseStudy:{title:"Horizon Group: From Opportunistic Growth to Strategic Clarity",scenario:"A 95-person multi-discipline consultancy that had grown by accepting any project that came through the door, resulting in an unfocused service portfolio spanning six unrelated sectors.",foundational:"Horizon had no written strategy, made market decisions reactively, and measured success solely by top-line revenue. Partners disagreed on the firms target market and ideal client profile.",evolution:"A facilitated strategy offsite produced a 3-year plan focusing on two core sectors. They exited three unprofitable service areas and invested in thought leadership for their chosen niches. Revenue dipped 8% initially but margins improved by 6 points.",optimised:"After three years, Horizon was recognised as a sector specialist with 18% market share in their primary niche. Their strategic clarity attracted premium clients and the focused positioning made them an attractive bolt-on acquisition target.",outcome:"Acquired by a larger consultancy specifically seeking their niche expertise  the strategic clarity made integration planning straightforward and reduced buyer risk."}},sales:{overview:"Pipeline health and sales capability are leading indicators of future revenue  and acquirers scrutinise them intensely during due diligence. Firms with visible, well-managed pipelines, strong conversion ratios, and systematic sales processes demonstrate revenue predictability that directly impacts valuation multiples.",keyBenchmarks:[{metric:"Pipeline Coverage",target:"34x of revenue target"},{metric:"Win Rate",target:"3550% (qualified opps)"},{metric:"Sales Cycle Length",target:"<90 days average"},{metric:"New vs Existing Revenue",target:"2540% from new clients"},{metric:"Proposal Success Rate",target:">40%"}],caseStudy:{title:"Atlas Consulting: From Founder-Led Sales to a Scalable Engine",scenario:"A 70-person strategy consulting firm where the two founding partners personally generated 80% of all new business, with no CRM, no pipeline reporting, and an ad-hoc approach to proposals.",foundational:"Atlas had no visibility into upcoming revenue beyond 60 days. Sales forecasts were guesswork based on partner intuition. When one founder took extended leave, new business development effectively stopped.",evolution:"They implemented a CRM with mandatory pipeline stages, introduced weekly pipeline reviews, and began training senior consultants in business development. Within a year, four non-partner staff were contributing to the pipeline.",optimised:"Pipeline coverage reached 3.5x, win rates improved from 22% to 41%, and the sales cycle shortened from 120 to 75 days. Revenue became predictable with <10% variance from quarterly forecasts.",outcome:"The acquirers due diligence highlighted the pipeline maturity as exceptional for a firm of this size, directly supporting the 8x EBITDA valuation."}},clients:{overview:"Client portfolio quality is a critical M&A risk factor. Acquirers analyse concentration risk, client longevity, contract structures, and relationship depth to assess revenue durability. A diversified, loyal client base with long-term relationships and embedded partnerships signals sustainable revenue streams that survive ownership transitions.",keyBenchmarks:[{metric:"Top Client Revenue",target:"<15% from any single client"},{metric:"Top 5 Client Revenue",target:"<40% combined"},{metric:"Avg Client Tenure",target:">3 years"},{metric:"Net Revenue Retention",target:">110%"},{metric:"NPS Score",target:">50"}],caseStudy:{title:"Pinnacle Solutions: Reducing Concentration Risk Before Exit",scenario:"A 55-person IT consulting firm where one government contract represented 45% of revenue and the top three clients accounted for 72% of total income.",foundational:"Pinnacle had accepted the concentration risk as just how government consulting works. No systematic client development programme existed, and relationship ownership sat entirely with two senior partners.",evolution:"They launched a structured account growth programme targeting mid-tier clients, introduced quarterly business reviews with all clients billing >5% of revenue, and began cross-selling services to existing accounts. Within 18 months, top-client share dropped to 32%.",optimised:"After three years, no single client exceeded 18% of revenue, top-5 concentration dropped to 48%, and average client tenure reached 4.2 years. Client relationships were distributed across multiple team members at each account.",outcome:"The reduced concentration risk was explicitly cited by the acquirer as removing a key deal obstacle, enabling a clean transaction at 7.5x EBITDA."}},leadership:{overview:"Leadership depth and governance maturity are decisive factors in M&A. Acquirers need confidence that the firm can operate and grow without its founders. Strong governance structures, clear delegation of authority, and a capable second tier of leadership reduce key-person risk and signal an organisation that has matured beyond founder-dependence.",keyBenchmarks:[{metric:"Key Person Dependency",target:"<25% revenue tied to any individual"},{metric:"Leadership Depth",target:"Documented succession for all C-suite roles"},{metric:"Board Independence",target:"At least 1 independent NED"},{metric:"Decision Authority",target:"Documented delegation matrix"},{metric:"Risk Register",target:"Maintained and reviewed quarterly"}],caseStudy:{title:"Vertex Partners: Preparing Leadership for a Founder Exit",scenario:"A 100-person professional services firm where the founder-CEO made virtually all strategic and operational decisions, with no formal governance structure and no identified successor.",foundational:"Vertex had no board, no documented decision-making authority, and the founder personally approved all engagements over 50k. Two previous acquisition approaches had stalled due to key-person risk concerns.",evolution:"They established an advisory board with two independent members, created a leadership team of four managing directors with defined P&L responsibility, and implemented a delegation matrix. The founder began a structured transition, reducing day-to-day involvement.",optimised:"After two years, the firm operated independently of the founder for a full quarter during sabbatical. The leadership team delivered 15% revenue growth during this period, demonstrating genuine operational independence.",outcome:"The third acquisition approach succeeded, with the acquirer specifically noting that the leadership maturity made Vertex acquisition-ready  a term rarely applied to founder-led firms."}},cost:{overview:"Cost structure maturity reveals operational discipline and scalability potential. Acquirers evaluate technology investment, delivery model efficiency, and overhead ratios to assess how well the firm converts revenue into profit. Firms with lean, technology-enabled operations and scalable delivery models demonstrate the operating leverage that supports post-acquisition growth without proportional cost increases.",keyBenchmarks:[{metric:"Overhead Ratio",target:"<30% of revenue"},{metric:"Technology Spend",target:"36% of revenue"},{metric:"Delivery Leverage Ratio",target:">3:1 junior to senior on projects"},{metric:"Utilisation Rate",target:"7278% billable"},{metric:"Profit per Employee",target:">20k annually"}],caseStudy:{title:"Keystone Advisors: Operational Transformation Through Technology",scenario:"A 130-person consulting firm running on spreadsheets for project management, time tracking, and financial reporting  with an overhead ratio of 42% and no standardised delivery methodology.",foundational:"Keystone had no integrated systems, relied on manual processes for invoicing and resource planning, and each practice area operated with different tools and templates. Knowledge sharing was non-existent.",evolution:"They invested in an integrated PSA platform, standardised project delivery templates across all practices, and implemented automated time tracking and invoicing. Overhead dropped to 34% within 18 months.",optimised:"After three years, the overhead ratio reached 26%, utilisation improved from 62% to 74%, and the firm was delivering 15% more revenue per head. The technology platform enabled real-time margin visibility across all engagements.",outcome:"The acquirer valued the operational maturity as creating immediate synergy potential  the technology platform and processes could be rolled out across their existing portfolio firms."}},delivery:{overview:"Delivery excellence is the operational proof of a firms promises. Acquirers evaluate client satisfaction metrics, utilisation efficiency, and quality assurance processes to assess whether the firm consistently delivers value. High-performing delivery organisations achieve strong project margins while maintaining client satisfaction  the combination that drives both retention and referral-based growth.",keyBenchmarks:[{metric:"Client Satisfaction",target:"NPS >50 or CSAT >4.2/5"},{metric:"Billable Utilisation",target:"7278%"},{metric:"Project Margin",target:">45% average"},{metric:"On-Time Delivery",target:">85% of projects"},{metric:"Rework Rate",target:"<5% of project hours"}],caseStudy:{title:"Prism Consulting: Turning Delivery Excellence into a Growth Engine",scenario:"A 75-person consulting firm with inconsistent project delivery quality, no systematic client feedback process, and utilisation hovering at 58%  well below industry benchmarks.",foundational:"Prism had no quality assurance process, client feedback was collected ad-hoc (if at all), and utilisation was unmeasured at the individual level. Project profitability varied wildly from -10% to +60%.",evolution:"They implemented post-project reviews, introduced real-time utilisation dashboards, and created a structured QA checkpoint process for all engagements over 25k. Utilisation rose to 68% and client satisfaction scores were baselined.",optimised:"After two years, utilisation reached 74%, average project margins improved to 48%, and NPS hit 62. The structured delivery process became a selling point in pitches, with clients citing consistent quality as their primary reason for repeat engagement.",outcome:"The delivery track record provided the acquirer with confidence in revenue sustainability  high satisfaction and repeat business reduced integration risk."}},market:{overview:"Market positioning and brand strength are increasingly important M&A factors. Acquirers value firms with strong brand recognition, thought leadership presence, and clear market positioning because these create sustainable competitive advantages that are difficult to replicate. A strong market profile also reduces client acquisition costs and supports premium pricing.",keyBenchmarks:[{metric:"Brand Awareness",target:">40% aided awareness in target market"},{metric:"Marketing ROI",target:">5:1 pipeline to spend ratio"},{metric:"Thought Leadership",target:">12 published pieces annually"},{metric:"Inbound Lead %",target:">30% of qualified pipeline"},{metric:"Awards/Recognition",target:"2+ industry awards annually"}],caseStudy:{title:"Beacon Consulting: From Invisible to Industry Authority",scenario:"A 50-person niche consulting firm with deep expertise but virtually no market visibility  100% of new business came through personal networks and referrals, with no marketing function, website updates, or thought leadership.",foundational:"Beacon had no marketing budget, an outdated website, and zero published thought leadership. The firm was unknown outside its immediate referral network, limiting growth to organic word-of-mouth.",evolution:"They hired a marketing manager, launched a quarterly industry report, began speaking at three target conferences annually, and refreshed their digital presence. Within a year, inbound enquiries increased from near-zero to 15% of pipeline.",optimised:"After three years, Beacon was recognised as the go-to specialist in their niche. Their annual industry report was downloaded 3,000+ times, inbound leads represented 35% of pipeline, and they had won two industry awards. Brand recognition in their target market reached 45%.",outcome:"The market profile was identified by the acquirer as a strategic asset  the brand and thought leadership platform would be used to cross-sell the combined entitys broader service offering."}}},metrics:{fin_revenue:{benchmarks:"Top-quartile PSFs achieve 1015% YoY organic revenue growth consistently. Acquirers distinguish between organic growth (valued highly) and acquisition-driven growth (valued less). Revenue CAGR over 35 years is the primary metric, with consistency valued over occasional spikes. Firms growing >15% annually are typically classified as high-growth and attract premium multiples.",caseStudy:"A 25M management consultancy achieved 8% average growth over five years, but the pattern was volatile: +22%, -3%, +15%, -1%, +8%. An acquirer offered 5.5x EBITDA. A similarly-sized competitor with steady 11% annual growth (never below 8% or above 14%) received a 7.8x offer  the consistency premium was worth 2.3x EBITDA.",workedExample:{situation:"Your firm grew revenue 7% last year, up from 3% the year before. Growth is primarily organic but concentrated in one service line that grew 25% while others were flat.",rating:"Evolving (Level 2)",rationale:"Growth exists but is not broad-based or consistently above 10%. The concentration in one service line creates risk. To reach Optimised, the firm needs diversified growth across multiple service lines with a 3-year CAGR above 10%."},improvementTips:["Analyse revenue by service line to identify which are growing and which are stagnant","Set growth targets per service line rather than one firm-wide number","Invest in business development for underperforming service lines","Track and report monthly revenue run-rate to spot trends early"]},fin_gm:{benchmarks:"M&A-ready PSFs typically maintain gross margins of 5570%, depending on service mix. Pure advisory firms target the higher end (6570%), while firms with a delivery/implementation component typically achieve 5060%. Margins below 45% signal pricing issues, overstaffing on projects, or excessive use of subcontractors without adequate mark-up.",caseStudy:"A technology consulting firm had an aggregate 48% gross margin but discovered through analysis that their advisory work ran at 72% while implementation projects delivered only 35%. By restructuring implementation pricing and improving resource planning, they lifted blended margin to 58% within 18 months  adding 1.2M to annual profit.",workedExample:{situation:"Your firms gross margin is 52%, consistent with prior years. You use subcontractors for approximately 30% of delivery, marking up their rates by 15%.",rating:"Evolving (Level 2)",rationale:"A 52% margin is functional but below the 55%+ target for M&A readiness. The 15% subcontractor markup is low  most mature firms achieve 2540%. Improving subcontractor margins and reducing their proportion of delivery would lift the overall margin."},improvementTips:["Analyse margin by service line, client, and project type to identify underperformers","Review subcontractor markup  aim for 2540% rather than cost-plus-15%","Implement project-level margin tracking with alerts for projects below threshold","Consider value-based pricing for high-margin advisory work"]},fin_ebitda:{benchmarks:"EBITDA margin is the primary valuation metric in PSF M&A. Top-quartile firms achieve 1525%, with the median around 1215%. Margins above 20% are considered excellent and typically attract the highest multiples. Consistency matters more than peak performance  a steady 18% EBITDA is valued higher than fluctuating between 10% and 25%.",caseStudy:"Two 15M consulting firms approached the same acquirer. Firm A had 22% EBITDA but it was a one-year spike from a large project; the prior three years averaged 11%. Firm B maintained a steady 17% EBITDA over four years. Firm B received a 15% higher valuation because the sustained margin demonstrated structural profitability rather than a windfall.",workedExample:{situation:"Your firms EBITDA margin is 13% this year, up from 10% last year and 8% the year before. The improvement is driven by better utilisation and a one-off reduction in office costs.",rating:"Evolving (Level 2)",rationale:"The trend is positive but 13% is still below the 15%+ target. The one-off cost saving inflates this years figure. To rate Optimised, the firm needs to demonstrate 15%+ EBITDA sustained over 23 years through structural improvements, not one-off savings."},improvementTips:["Separate structural margin improvements from one-off gains in your reporting","Target 12 percentage point annual improvement through pricing and efficiency gains","Benchmark EBITDA against sector-specific industry data","Model the EBITDA impact of improving utilisation by just 23 percentage points"]},fin_cash:{benchmarks:"Healthy PSFs convert 8095% of EBITDA to operating cash flow. Cash conversion below 70% typically signals issues with debtor management, over-investment, or poor billing discipline. Acquirers closely examine working capital cycles  the best firms maintain debtor days below 45 and bill promptly upon milestone completion.",caseStudy:"A consulting firm with 2M EBITDA was converting only 55% to cash (1.1M) due to 90+ day debtor cycles and retrospective billing. After implementing milestone billing, automated reminders, and 30-day payment terms for new contracts, cash conversion improved to 88% (1.76M)  an extra 660k annually without winning a single new client.",workedExample:{situation:"Your average debtor days are 72, you bill monthly in arrears, and approximately 15% of invoices are queried or disputed by clients.",rating:"Foundational (Level 1)",rationale:"72 debtor days is significantly above the 45-day target, and a 15% dispute rate indicates billing process issues. Combined with retrospective billing, cash conversion is likely below 70%. Moving to Evolving requires reducing debtor days below 60 and dispute rates below 8%."},improvementTips:["Switch from retrospective to milestone-based or advance billing where contracts allow","Implement automated payment reminders at 7, 14, and 28 days","Review and resolve the root causes of invoice disputes","Set a firm-wide target of <50 debtor days and track monthly"]},fin_quality:{benchmarks:"Acquirers assess revenue quality through four lenses: recurring vs project-based (target >30% recurring), client diversification (no client >15%), contract visibility (>60% of next quarters revenue contracted), and organic vs acquisition-driven growth. High-quality revenue is predictable, diversified, and generated through systematic client relationships rather than one-off transactions.",caseStudy:"A 20M firm had impressive top-line growth but poor revenue quality: 40% came from one client, 85% was project-based with no retainers, and revenue visibility beyond 60 days was minimal. A competing 16M firm with 35% recurring revenue, no client above 12%, and 75% next-quarter visibility received a higher absolute valuation despite smaller size.",workedExample:{situation:"Your firm has 15% recurring revenue (retainers), 70% repeat clients but on a project-by-project basis, and your largest client represents 22% of revenue.",rating:"Evolving (Level 2)",rationale:"Some positive signals (70% repeat clients) but structural weaknesses: recurring revenue is below 30%, top-client concentration exceeds 15%, and the repeat business is not contractually committed. To reach Optimised, convert repeat relationships into retainer agreements and diversify beyond the dominant client."},improvementTips:["Identify top 10 repeat clients and propose retainer or framework agreements","Set a strategic goal to reduce largest-client share by 5% annually","Create a revenue quality dashboard tracking recurring %, concentration, and visibility","Develop subscription or managed-service offerings to increase predictable revenue"]},fin_rate:{benchmarks:"Blended rate cards in M&A-ready PSFs typically show annual increases of 35% and clear differentiation between seniority levels. The spread between junior and senior rates should be at least 2.5x. Firms that demonstrate pricing power (ability to raise rates without losing clients) are valued significantly higher. Rate realisation (actual vs list rate) should exceed 90%.",caseStudy:"A firm with 200600/day rates across all levels found that their effective blended rate had not increased in three years despite inflation. By restructuring their rate card with clear seniority tiers, introducing value-pricing for IP-led engagements, and training partners on rate negotiation, average realised rates increased 18% over two years with no client losses.",workedExample:{situation:"Your rate card has not been updated in 2 years. Partners occasionally discount by 2030% to win competitive bids. Rate realisation is approximately 82%.",rating:"Foundational (Level 1)",rationale:"A stale rate card, heavy discounting, and 82% realisation indicate weak pricing discipline. Acquirers will see this as margin upside potential but also a risk signal. To reach Evolving, update rates annually, cap discounting authority, and target >90% realisation."},improvementTips:["Review and update rate cards annually with 35% increases","Implement a discount approval process  require MD sign-off for >10% discounts","Track rate realisation monthly and set a firm-wide target of >90%","Introduce value-based pricing alternatives for advisory engagements"]},fin_revfte:{benchmarks:"Top-quartile PSFs achieve revenue per FTE of 130180k (industry research suggests $199k average across large global samples). Revenue per head is a primary efficiency metric in M&A due diligence  it captures the combined effect of pricing power, utilisation, and delivery leverage. Consistent improvement over 3+ years is more valued than a single high figure.",caseStudy:"A 90-person consulting firm had revenue per FTE of 95k  below the 130k M&A-ready threshold. Analysis revealed two issues: utilisation at 62% and average rates 15% below market. By improving utilisation to 73% through better resource planning and raising rates by 10% over 18 months, revenue per FTE reached 138k without adding headcount  adding 3.9M to top-line revenue.",workedExample:{situation:"Your firm has 80 FTEs generating 8.5M revenue, giving revenue per FTE of 106k. Your utilisation rate is 68% and your blended rate is competitive.",rating:"Evolving (Level 2)",rationale:"106k per FTE is above Foundational but below the 130k target. The 68% utilisation suggests the primary lever for improvement is operational efficiency rather than pricing. Improving utilisation to 75% would lift revenue per FTE to approximately 117k, and targeted rate increases could push it above 130k."},improvementTips:["Track revenue per FTE monthly as a board-level KPI","Decompose into utilisation x rate x leverage to identify the weakest factor","Benchmark against published industry data for your sector","Set a 3-year target trajectory with annual milestones"]},fin_overhead:{benchmarks:"The industry average overhead ratio for PSFs is approximately 30% (based on industry benchmarking data). However, this is the average  not the M&A-ready target. Top-quartile firms achieve overheads below 25% of revenue, enabled by integrated technology stacks (PSA, CRM, HCM), lean administration, and efficient office strategies. Overhead ratio directly impacts EBITDA  a 5-point reduction flows straight to the bottom line.",caseStudy:"A 120-person consultancy had 38% overheads driven by expensive city-centre offices, a large HR team relative to headcount, and fragmented technology (7 separate systems with manual data entry between them). After consolidating to a single PSA platform, moving to a hybrid office model, and automating expense management, overheads dropped to 26% over two years  adding 1.4M to annual EBITDA.",workedExample:{situation:"Your overheads are 32% of revenue. The largest components are office costs (10%), non-billable staff (12%), and technology/tools (6%). You have not formally benchmarked against peers.",rating:"Evolving (Level 2)",rationale:"32% is close to industry average but above the 25% M&A-ready target. The non-billable staff ratio of 12% warrants examination  M&A-ready firms typically achieve 810%. Technology spend at 6% may indicate fragmentation. To reach Optimised, target office costs below 7%, non-billable staff below 10%, and consolidate technology."},improvementTips:["Break overheads into categories and benchmark each against industry data","Audit non-billable headcount ratio  target below 10% of total staff","Consolidate technology platforms to reduce licence and integration costs","Review office strategy  hybrid models can reduce property costs by 3040%"]},ppl_talent:{benchmarks:"M&A-ready firms have structured competency frameworks covering 100% of roles, with documented career paths from entry to partner level. Training investment should exceed 3% of revenue (top firms invest 5%+). Skill gap analysis should be conducted annually, with >80% of identified gaps addressed through targeted development within 12 months.",caseStudy:"A 90-person consultancy had no competency framework and promoted based on tenure rather than capability. After implementing a skills matrix, creating learning pathways, and tying promotion to demonstrated competence, they saw a 40% increase in internal promotion rates and a 25% reduction in mis-hires within two years.",workedExample:{situation:"Your firm has informal mentoring but no documented competency framework. Training is ad-hoc and budget-dependent. Promotions are decided by partners in an annual closed-door meeting.",rating:"Foundational (Level 1)",rationale:"The absence of a structured competency framework and transparent promotion criteria is a red flag for acquirers. It signals key-person dependency and makes talent assessment during due diligence difficult. To reach Evolving, document role competencies and create visible career pathways."},improvementTips:["Create a competency matrix mapping skills to roles at each seniority level","Establish a dedicated L&D budget of at least 3% of revenue","Implement transparent promotion criteria linked to competency achievement","Conduct annual skills gap analysis and create targeted development plans"]},ppl_exp:{benchmarks:"Leading PSFs measure employee experience through regular pulse surveys (quarterly or more frequent) with participation rates above 80% and engagement scores above 75% favourable. Glassdoor ratings above 4.0 and eNPS above +20 are considered strong. The correlation between employee engagement and client satisfaction is well-documented  firms in the top quartile for engagement outperform on client retention by 18%.",caseStudy:"A consulting firm with declining engagement scores (falling from 72% to 61% over two years) saw a corresponding drop in client NPS from 55 to 38. After investing in management training, flexible working, and a wellbeing programme, engagement recovered to 78% over 18 months  and client NPS rebounded to 52.",workedExample:{situation:"You run an annual engagement survey with 65% participation. Results show 68% favourable overall, but the question on career development scores only 45% favourable. You have no action plan from last years results.",rating:"Evolving (Level 2)",rationale:"Having a survey is positive, but 65% participation is below the 80% target, and the lack of follow-up action undermines credibility. The career development score is a specific risk flag. To reach Optimised, increase survey frequency to quarterly, drive participation above 80%, and visibly act on results."},improvementTips:["Switch to quarterly pulse surveys with 58 focused questions","Share results transparently and publish an action plan within 2 weeks","Address the lowest-scoring area with a visible, resourced initiative","Track the engagement-to-retention correlation to build the business case"]},ppl_recruit:{benchmarks:"Top PSFs maintain time-to-hire below 45 days, offer acceptance rates above 85%, and first-year retention above 80%. Cost-per-hire should be tracked and benchmarked (typically 515k depending on seniority). Mature firms have a structured employer brand, active talent pipelines for critical roles, and use data-driven assessment methods with measured quality-of-hire metrics.",caseStudy:"A technology consulting firm struggling with 60-day average time-to-hire and 65% offer acceptance was losing candidates to competitors. By building a talent community, streamlining their interview process from 5 stages to 3, and investing in employer branding on LinkedIn, they reduced time-to-hire to 38 days and increased acceptance to 88%.",workedExample:{situation:"Your firm relies primarily on recruitment agencies (80% of hires), has no employer brand strategy, and your interview process takes 46 weeks with 5 interview stages.",rating:"Foundational (Level 1)",rationale:"Heavy agency dependency is costly (typically 2025% of salary) and signals weak employer brand. A 5-stage process is excessive and loses candidates. To reach Evolving, build direct sourcing capability, streamline to 3 stages, and develop an employer value proposition."},improvementTips:["Set a target to reduce agency dependency to <50% of hires within 12 months","Streamline the interview process to 3 stages maximum with a 3-week target","Invest in employer branding  employee stories, Glassdoor management, LinkedIn presence","Build a talent pipeline by maintaining relationships with strong candidates"]},ppl_churn:{benchmarks:"Voluntary turnover in healthy PSFs should be below 12% annually, with involuntary (managed) turnover of 58%. Total turnover above 20% is a significant M&A risk flag. Regrettable attrition (losing people you wanted to keep) should be tracked separately and kept below 8%. The cost of replacing a consultant is typically 12x their annual salary when accounting for lost productivity, recruitment, and training.",caseStudy:"A consulting firm with 28% annual turnover was spending over 800k annually on replacement recruitment. Exit interview analysis revealed that 60% of leavers cited lack of career progression as their primary reason. After implementing structured career paths and transparent promotion criteria, voluntary turnover dropped to 14% within 18 months, saving 450k in recruitment costs.",workedExample:{situation:"Your voluntary turnover is 16% and you dont track regrettable vs non-regrettable attrition. Exit interviews are conducted for only about half of departures.",rating:"Evolving (Level 2)",rationale:"16% voluntary turnover exceeds the 12% target but is not critical. The lack of regrettable/non-regrettable distinction means you cannot prioritise retention efforts. Inconsistent exit interviews miss valuable data. To improve, systematise exit interviews and begin tracking attrition by type and cause."},improvementTips:["Conduct exit interviews for 100% of voluntary leavers using a consistent framework","Distinguish between regrettable and non-regrettable attrition in reporting","Analyse turnover by tenure, level, and department to identify patterns","Calculate the true cost of turnover to build the business case for retention investment"]},ppl_wf:{benchmarks:"Mature PSFs maintain a balanced workforce pyramid with a leverage ratio of 34:1 (junior to senior). The proportion of staff on permanent contracts should exceed 70%, with contractor usage strategic rather than structural. Diversity metrics increasingly matter in M&A  firms with gender-balanced leadership teams (>30% female partners) outperform on innovation and client satisfaction metrics.",caseStudy:"An engineering consultancy with a top-heavy structure (1.5:1 junior to senior ratio) was struggling with margin pressure because senior staff were doing work that juniors could handle. By restructuring the pyramid over two years  hiring 20 graduates and promoting mid-level staff into management  they improved the ratio to 2.8:1 and increased gross margin by 8 percentage points.",workedExample:{situation:"Your firm has a 2:1 junior to senior ratio, 25% contractors, and limited diversity data. The partnership is 15% female.",rating:"Evolving (Level 2)",rationale:"The leverage ratio is below the 3:1 target, meaning seniors are likely doing lower-value work. Contractor usage at 25% is at the upper end of acceptable. Limited diversity data signals that DE&I is not yet a strategic priority. To improve, develop a workforce plan that builds the pyramid base and sets measurable diversity targets."},improvementTips:["Create a 3-year workforce plan targeting a 3:1 leverage ratio","Develop a strategic contractor vs permanent framework  define which roles should be permanent","Begin tracking diversity metrics across seniority levels and set improvement targets","Model the margin impact of improving leverage ratios to build the business case"]},ppl_training:{benchmarks:"Top-quartile PSFs invest 2.55% of revenue in training and development, equating to 68 days per employee per year. The ATD benchmark suggests 4050 hours annually as healthy for knowledge workers. Firms with higher training investment show significantly lower voluntary attrition (industry data shows approximately 11.7% average when L&D is prioritised vs 15%+ when it is not). Training ROI should be tracked through retention, promotion rates, and capability assessments.",caseStudy:"A 75-person consulting firm spent less than 0.5% of revenue on training, relying on 'learning on the job.' Annual attrition hit 28%, with exit interviews consistently citing lack of development. After implementing a structured L&D programme at 3% of revenue (including external certifications, internal mentoring, and quarterly skills workshops), attrition dropped to 14% within 18 months  saving approximately 400k in annual recruitment costs.",workedExample:{situation:"Your firm invests approximately 1.5% of revenue in training. Most development is informal (shadowing, on-the-job). You offer an annual external training budget of 500 per person but uptake is below 40%.",rating:"Evolving (Level 2)",rationale:"1.5% investment is above Foundational but below the 2.5% M&A-ready target. The low uptake of the training budget suggests it is not well-promoted or the allocation is too small to cover meaningful courses. To reach Optimised, increase investment to 2.5%+, create structured learning pathways tied to career progression, and track completion and impact."},improvementTips:["Set a minimum training budget of 2.5% of revenue and track it as a board-level KPI","Create structured learning pathways aligned to your competency framework","Track training ROI through retention rates, promotion rates, and skill assessment scores","Offer a mix of formal courses, mentoring, and on-the-job development opportunities"]},ppl_equity:{benchmarks:"M&A-ready PSFs distribute equity among 1525% of key staff (Schwab RIA 2025 benchmark shows 33% of staff as equity owners in advisory firms). Founder-only ownership triggers key-person discounts of 2040% on valuation. The critical threshold is ensuring no single individual holds more than 50% of equity. Equity should be tied to retention agreements (typically 24 year vesting) to protect value through M&A transitions.",caseStudy:"A founder-owned 60-person consultancy valued at 6x EBITDA (4.2M) was told by two potential acquirers that the concentration of ownership was a deal-breaker. The founder implemented an equity scheme distributing 25% of shares among 8 senior leaders over 3 years with performance-based vesting. When the firm went to market again, it achieved 8.2x EBITDA (5.7M)  a 36% premium attributed directly to reduced key-person risk.",workedExample:{situation:"Your founding partners hold 95% of equity between them. Two senior managers have 2.5% each but no formal retention agreements. No other staff have ownership stakes.",rating:"Foundational (Level 1)",rationale:"95% founder concentration creates severe key-person risk that acquirers will price in as a significant discount. The 2.5% stakes without retention agreements offer minimal protection. To reach Evolving, develop an equity distribution plan targeting 1015% of staff with vesting schedules aligned to business plan milestones."},improvementTips:["Develop a formal equity participation plan with clear eligibility criteria","Target distribution to 15%+ of staff across multiple levels (not just the leadership team)","Implement 34 year vesting schedules tied to retention and performance","Ensure no single individual holds more than 50% of total equity"]},srv_prop:{benchmarks:"M&A-ready firms have clearly articulated service propositions that can be explained in under 60 seconds and differentiated from competitors. The proposition should be validated through client feedback (>80% of clients able to articulate what makes the firm different). Market positioning should be documented and reviewed annually against competitive intelligence.",caseStudy:"A generalist consultancy struggled to articulate their differentiation beyond our people. After conducting a positioning study with 30 clients and 15 prospects, they discovered their real strength was in post-merger integration for mid-market firms. Repositioning around this niche increased average project value by 45% and win rates by 20 percentage points.",workedExample:{situation:"Your website describes your firm as offering end-to-end consulting solutions across multiple industries. Partners describe the firms value proposition differently depending on who is asked.",rating:"Foundational (Level 1)",rationale:"A generic, undifferentiated proposition is a significant weakness. If partners cannot consistently articulate the value, clients and acquirers wont understand it either. To reach Evolving, conduct competitive analysis, gather client feedback on perceived strengths, and craft a focused proposition."},improvementTips:["Interview 1015 key clients to understand why they chose you over alternatives","Conduct competitive analysis of 510 direct competitors positioning","Draft a proposition statement and test it with clients and prospects","Ensure all partners can consistently articulate the proposition"]},srv_innov:{benchmarks:"High-growth PSFs invest 35% of revenue in service innovation, launching at least one new service offering annually. Innovation should be systematic rather than ad-hoc, with a documented pipeline of service ideas, a testing/validation process, and metrics for new service uptake. Firms that derive >20% of revenue from services launched in the last 3 years demonstrate strong innovation capability.",caseStudy:"A management consultancy that had not launched a new service in five years found that 80% of revenue came from offerings designed over a decade ago. After establishing a quarterly innovation review, allocating 4% of revenue to service R&D, and launching a data analytics practice, new services contributed 18% of revenue within two years and attracted a new segment of clients.",workedExample:{situation:"Your firm launched one new service area 18 months ago after a partner noticed a market trend. There is no formal innovation process and no budget allocated to service development.",rating:"Evolving (Level 2)",rationale:"The firm has demonstrated some innovation capability, but it was reactive rather than systematic. Without a formal process and budget, innovation depends on individual initiative. To reach Optimised, establish a structured innovation pipeline with dedicated investment and regular review cycles."},improvementTips:["Allocate a specific innovation budget (start with 23% of revenue)","Create a quarterly innovation review with a pipeline of service ideas","Test new services with 23 pilot clients before full launch","Track the percentage of revenue from services launched in the last 3 years"]},srv_ip:{benchmarks:"Proprietary IP  methodologies, frameworks, tools, and diagnostic instruments  is a key M&A value driver. Acquirers value IP because it creates barriers to entry, enables scalable delivery, and reduces dependency on individual consultants. Target >3 documented proprietary methodologies, with IP contributing to >20% of revenue through licensed tools, productised services, or IP-enabled engagements.",caseStudy:"A strategy consultancy had deep expertise but everything lived in partners heads. Over 18 months they codified their approach into a branded diagnostic tool, a delivery framework, and a benchmarking database. The IP portfolio was independently valued at 2.1M during the subsequent acquisition  adding approximately 1x to the EBITDA multiple.",workedExample:{situation:"Your firm has informal methodologies that vary by partner. One team has created a client-facing diagnostic tool, but its not branded or documented as firm IP.",rating:"Evolving (Level 2)",rationale:"There is emerging IP but its not systematically captured, branded, or protected. The diagnostic tool shows promise but needs formalisation. To reach Optimised, document and brand key methodologies, register any protectable IP, and build service offerings around proprietary tools."},improvementTips:["Audit existing methodologies and frameworks across all teams","Select 23 strongest approaches to codify, brand, and document formally","Consider IP protection (copyright, trademark) for key branded methodologies","Build service packages that incorporate proprietary tools as differentiators"]},srv_size:{benchmarks:"Average project size is a key efficiency metric. Larger projects reduce the overhead of business development and onboarding per revenue pound. M&A-ready PSFs typically achieve average project sizes at least 2x their industry median. For consulting firms, this means average engagements of 75150k+. The ratio of project size to cost-of-sale should be monitored  target >15:1.",caseStudy:"A firm with an average project size of 28k was spending disproportionate effort on business development and project setup. By introducing diagnostic-to-engagement conversion pathways and multi-phase project structures, average project size grew to 65k within 18 months. Revenue per BD hour increased by 120%, and partners spent less time selling and more time delivering.",workedExample:{situation:"Your average project size is 40k. Roughly 30% of projects are under 15k (quick advisory jobs) and 10% are over 100k.",rating:"Evolving (Level 2)",rationale:"40k is moderate but the long tail of small projects drags down efficiency. The 30% of sub-15k work likely consumes disproportionate sales and admin effort. To improve, consider minimum project thresholds and design engagement models that naturally expand smaller entry points into larger programmes."},improvementTips:["Set a minimum project threshold (e.g., 20k) and decline or refer smaller work","Design land and expand engagement models: diagnostic  pilot  full programme","Track cost-of-sale per project and identify which project sizes are most profitable","Bundle related small projects into programme-level agreements with clients"]},srv_price:{benchmarks:"Pricing sophistication is a strong signal of commercial maturity. M&A-ready firms use value-based pricing on >40% of engagements, achieve >90% rate realisation, and review pricing strategy annually. The shift from time-and-materials to outcomes-based pricing typically improves margins by 1525% on affected engagements while simultaneously improving client satisfaction.",caseStudy:"A consulting firm billing 100% on day rates introduced value-based pricing for their diagnostic and strategy engagements. By pricing based on the value of the client outcome rather than consultant days, average margins on these engagements increased from 35% to 52%. Within two years, 45% of revenue used value-based pricing models.",workedExample:{situation:"Your firm bills 90% on time-and-materials, with a standard rate card. Occasionally partners offer fixed-fee quotes but without a structured approach to scoping or risk management.",rating:"Foundational (Level 1)",rationale:"Near-complete reliance on T&M billing limits margin potential and exposes the firm to utilisation risk. The ad-hoc fixed-fee quoting without structured scoping is actually riskier than pure T&M. To reach Evolving, develop a value-based pricing capability for advisory work with proper scoping methodology."},improvementTips:["Identify 23 service offerings best suited for value-based pricing (typically advisory/diagnostic)","Develop a scoping methodology that quantifies client value outcomes","Train partners on value conversation techniques and pricing confidence","Pilot value-based pricing on 510 engagements and measure margin impact"]},srv_portfolio:{benchmarks:"M&A-ready PSFs have structured service portfolios with 3+ material service lines, where no single line exceeds 40% of total revenue. The portfolio should include clear entry-level services (lower risk, lower value) that create upsell pathways to core and strategic offerings. Firms with well-architected portfolios achieve 25%+ higher average project values because clients naturally progress through the service tiers.",caseStudy:"A technology consultancy had 75% of revenue from a single service line (cloud migration). When the market matured and competition intensified, margins fell from 45% to 28%. After designing a structured portfolio with cloud assessments (entry), migration (core), and managed services (strategic), they reduced single-line dependence to 45% and created a natural client progression that increased average engagement length from 4 to 14 months.",workedExample:{situation:"Your firm has two main service lines: advisory (65% of revenue) and implementation (35%). There is no structured entry-level offering, and upsell from implementation to advisory is rare.",rating:"Evolving (Level 2)",rationale:"Having two service lines is a start, but 65% concentration in advisory is above the 40% threshold. The lack of entry-level services limits pipeline development, and the poor cross-sell between lines suggests they operate as silos. To reach Optimised, design an entry-level diagnostic service, create formal pathways between lines, and reduce advisory dependence below 50%."},improvementTips:["Map your current service portfolio into entry, core, and strategic tiers","Design low-barrier entry services (diagnostics, assessments) that create upsell pathways","Set targets for each service line as a percentage of total revenue","Track client progression through service tiers and measure average engagement length"]},vis_market:{benchmarks:"M&A-ready firms have a clearly defined target market with demonstrable market share. The ideal is a niche position with >15% share in a defined segment, supported by evidence of market understanding (published market analysis, client win data by segment, competitive positioning maps). Firms targeting a total addressable market 1050x their current revenue have credible growth headroom.",caseStudy:"A 12M generalist consultancy attempted to serve all industries and all geographies. After market analysis revealed that 65% of their most profitable work came from financial services clients in the South East, they repositioned as financial services specialists. Within two years, revenue grew to 18M with better margins, as the focused positioning attracted higher-quality clients.",workedExample:{situation:"Your firm serves all industries but analysis shows 40% of revenue comes from healthcare and 25% from financial services. You have no published market analysis for either sector.",rating:"Evolving (Level 2)",rationale:"The data shows natural sector concentrations, but they havent been consciously developed. Without market analysis, the firm cannot articulate market size, share, or growth potential to acquirers. To reach Optimised, commit to 12 target sectors, develop market intelligence, and build sector-specific propositions."},improvementTips:["Analyse revenue by sector over 3 years to identify natural strengths","Commission or create market sizing for your top 2 sectors","Develop sector-specific case studies, references, and propositions","Set measurable market share targets and track progress annually"]},vis_comp:{benchmarks:"Mature firms maintain documented competitive intelligence covering their top 510 competitors, updated at least annually. This should include pricing positioning, service overlap, win/loss analysis, and differentiation assessment. Barriers to entry (specialisation, IP, relationships, regulatory expertise) should be identified and deliberately strengthened.",caseStudy:"A firm that had never formally analysed competitors discovered through a structured competitive review that three rivals had launched similar services at 20% lower price points. This intelligence enabled them to reposition their offering around quality outcomes data (which competitors lacked), protecting margins while maintaining win rates.",workedExample:{situation:"Partners have anecdotal knowledge of competitors but there is no documented competitive analysis. You lose 30% of competitive pitches but dont systematically analyse why.",rating:"Foundational (Level 1)",rationale:"Without competitive intelligence, strategic decisions are based on intuition. A 30% competitive win rate is below the 3550% benchmark, and without win/loss analysis you cannot improve it. To reach Evolving, implement structured win/loss reviews and create a competitive intelligence database."},improvementTips:["Implement win/loss analysis for all competitive bids","Create competitor profiles for your top 510 competitors","Identify and document your barriers to entry and deliberately invest in strengthening them","Review competitive positioning annually and adjust strategy accordingly"]},vis_align:{benchmarks:"Strategic alignment means every team member understands the firms direction and their role in achieving it. Top firms score >80% on internal surveys asking I understand the firms strategy and I know how my work contributes to strategic goals. Strategic objectives should cascade from firm-wide goals to team and individual KPIs, reviewed quarterly.",caseStudy:"A 70-person firm found that only 35% of staff could articulate the firms strategy. After quarterly all-hands strategy sessions, visual strategy maps in every office, and individual goal-setting aligned to strategic priorities, the understanding score rose to 82%. Partners noted that teams began self-organising around strategic objectives.",workedExample:{situation:"Your firm has a strategy document but it was last updated two years ago. Partners reference it occasionally. Most consultants would struggle to name the firms top three strategic priorities.",rating:"Evolving (Level 2)",rationale:"Having a strategy document is positive, but a two-year-old plan that isnt actively communicated provides little strategic value. Strategy should be a living process, not a static document. To improve, refresh the plan, communicate it actively, and cascade objectives to team level."},improvementTips:["Refresh the strategic plan annually with input from the leadership team","Hold quarterly all-hands sessions to communicate strategic progress","Create team-level objectives that visibly link to firm-wide strategic goals","Measure strategic awareness through pulse surveys quarterly"]},vis_plan:{benchmarks:"Best-practice PSFs operate with 35 year strategic plans, reviewed quarterly, with annual budgets and rolling forecasts. The plan should include market analysis, competitive positioning, financial targets, investment priorities, and measurable milestones. Board or leadership team review should occur quarterly with documented decisions and action tracking.",caseStudy:"A firm operating without a formal plan beyond annual budgets found themselves making reactive decisions. After creating a 3-year plan with quarterly reviews, they made three significant strategic investments (a new practice area, an acquisition, and a technology platform) in a coordinated sequence rather than competing for the same resources simultaneously.",workedExample:{situation:"Your firm creates an annual budget but has no multi-year plan. Strategic decisions are made ad-hoc in monthly partner meetings without a structured framework.",rating:"Foundational (Level 1)",rationale:"An annual budget is not a strategic plan. Without a multi-year framework, the firm cannot make sequenced investments or demonstrate growth intentionality to acquirers. Due diligence teams specifically look for documented planning rigour. To reach Evolving, create a 3-year strategic plan with quarterly review cadence."},improvementTips:["Facilitate a strategy offsite to create a 3-year plan with measurable goals","Establish a quarterly strategy review rhythm with documented outcomes","Separate strategic discussion from operational meetings","Track strategic milestones alongside financial performance"]},vis_esg:{benchmarks:"ESG is increasingly material in M&A. Acquirers expect at minimum a published ESG policy, measurable environmental targets, and evidence of social responsibility. Progressive firms have carbon reduction plans, diversity targets, and community engagement programmes. B Corp certification or UN SDG alignment demonstrate mature ESG integration. ESG due diligence is now standard in >60% of mid-market transactions.",caseStudy:"A consulting firm that had dismissed ESG as not relevant for services firms nearly lost an acquisition deal when the buyers ESG due diligence found no policy, no carbon measurement, and no diversity data. A 6-month scramble to create an ESG framework delayed the transaction. In contrast, a competitor with established ESG credentials completed their deal in half the time.",workedExample:{situation:"Your firm has an informal commitment to sustainability but no published policy. You measure carbon from office energy but not business travel. Diversity data is collected but not reported.",rating:"Evolving (Level 2)",rationale:"Some ESG activity exists but its neither systematic nor transparent. Acquirers will look for published commitments and measurable progress. To reach Optimised, publish an ESG policy, expand carbon measurement to include travel, set targets, and report annually."},improvementTips:["Publish a formal ESG policy with measurable targets","Measure full carbon footprint including business travel (Scope 1, 2, and key Scope 3)","Set and publish diversity targets for leadership and the wider firm","Consider B Corp assessment as a structured framework for ESG maturity"]},sal_pipe:{benchmarks:"Pipeline coverage of 34x the revenue target is considered healthy for PSFs. Pipeline should be tracked in a CRM with defined stages, probability weightings, and conversion metrics. Visibility beyond 90 days should cover >60% of the next quarters target. Mature firms segment pipeline by new vs existing client, service line, and probability band.",caseStudy:"A firm with no CRM was shocked to discover during acquisition due diligence that they had only 1.2x pipeline coverage and less than 40% visibility for the next quarter. The acquirer reduced their offer by 15% citing revenue unpredictability. A subsequent investment in pipeline management took 12 months but improved coverage to 3.5x and visibility to 72%.",workedExample:{situation:"You have a CRM but pipeline data is inconsistently maintained. Estimated pipeline coverage is approximately 2x based on the data that exists. Pipeline reviews happen monthly but attendance is sporadic.",rating:"Evolving (Level 2)",rationale:"Having a CRM is positive but inconsistent usage undermines its value. 2x coverage is below the 3x minimum. Sporadic pipeline reviews mean the data isnt driving decisions. To improve, mandate CRM usage, implement weekly pipeline reviews, and set coverage targets by service line."},improvementTips:["Mandate CRM updates as a non-negotiable for all BD-active staff","Implement weekly 30-minute pipeline reviews with standardised agenda","Define pipeline stages with clear entry/exit criteria and probability weightings","Set pipeline coverage targets by quarter and service line"]},sal_conv:{benchmarks:"Qualified opportunity win rates should be 3550% for well-positioned PSFs. Track conversion at each pipeline stage to identify where opportunities are lost. Proposal-to-win ratios should exceed 40%. Importantly, measure no decision outcomes separately from competitive losses  a high no-decision rate (>25%) indicates qualification issues rather than competitive weakness.",caseStudy:"A firm with a 25% overall win rate implemented structured deal qualification using the BANT framework (Budget, Authority, Need, Timeline). By declining to pursue 30% of opportunities that failed qualification, their win rate on pursued opportunities jumped to 44% while reducing wasted BD effort. Net revenue from new business actually increased despite pursuing fewer opportunities.",workedExample:{situation:"Your win rate is approximately 30% but you dont track pipeline stages or no-decision outcomes. The team pursues most opportunities that come in without formal qualification.",rating:"Evolving (Level 2)",rationale:"30% win rate is below the 35% minimum and the lack of stage tracking means you cannot diagnose where opportunities are lost. Without qualification, the team is likely wasting effort on low-probability pursuits. To improve, implement deal qualification criteria and stage-by-stage conversion tracking."},improvementTips:["Implement a deal qualification framework (e.g., BANT or MEDDIC)","Track conversion rates at each pipeline stage to identify the biggest drop-off points","Distinguish between competitive losses and no-decision outcomes in your analysis","Set a target to decline at least 20% of unqualified opportunities"]},sal_mgmt:{benchmarks:"Mature sales management includes a named BD/sales leader (even if part-time), weekly pipeline reviews, monthly win/loss analysis, and quarterly sales strategy reviews. Key metrics should be dashboarded: pipeline coverage, conversion rates, average deal size, sales cycle length, and revenue by source (new/existing, inbound/outbound). CRM adoption should be >90% across BD-active staff.",caseStudy:"A partner-led firm where each partner managed their own pipeline independently appointed a Head of Business Development. Within a year, pipeline data was centralised, cross-selling opportunities were identified (generating 1.5M in incremental revenue), and the firm could produce accurate quarterly revenue forecasts for the first time.",workedExample:{situation:"Business development is managed individually by partners. There is no centralised pipeline view, no BD meetings, and no cross-selling coordination between practice areas.",rating:"Foundational (Level 1)",rationale:"Fragmented, partner-led BD with no coordination is a common pattern in smaller PSFs but is a significant M&A concern. It signals founder-dependency in revenue generation and makes due diligence pipeline assessment very difficult. To reach Evolving, centralise pipeline visibility and implement regular BD meetings."},improvementTips:["Appoint a BD leader or coordinator (can be part-time initially)","Centralise all pipeline data into a single CRM view","Implement fortnightly cross-practice BD meetings to identify cross-selling opportunities","Create a BD dashboard with key metrics visible to the leadership team"]},sal_skills:{benchmarks:"PSFs should have documented sales processes for different engagement types, with >70% of BD-active staff trained in consultative selling techniques. Proposal quality should be measured through win rate tracking and client feedback. Response time for RFPs should be under 48 hours for an initial acknowledgment and 23 weeks for a full proposal.",caseStudy:"A technically excellent consultancy was losing bids because their proposals were dense, technical documents that failed to connect with client decision-makers. After training the team in storytelling-based proposal writing and consultative selling, their proposal win rate improved from 28% to 42% in six months  without changing their pricing.",workedExample:{situation:"Your firm has no formal sales training. Partners sell based on personal style and relationships. Proposals follow no standard template and vary widely in quality.",rating:"Foundational (Level 1)",rationale:"Without sales process or training, BD capability is entirely partner-dependent and inconsistent. Variable proposal quality directly impacts win rates. To reach Evolving, create proposal templates, implement basic sales training, and document a standard sales process."},improvementTips:["Create proposal templates with consistent structure and branding","Invest in consultative selling training for all BD-active staff","Document a standard sales process from initial enquiry to contract signature","Implement proposal reviews with feedback to continuously improve quality"]},sal_crosssell:{benchmarks:"M&A-ready PSFs generate 2535% of annual revenue from cross-selling additional services to existing clients. The average number of service lines per client should be 2.5+ for top-20 accounts. Expansion revenue is typically the highest-margin revenue source (3040% lower cost of sale than new business). Track account plan coverage  top-quartile firms have formal account plans for clients representing 80%+ of revenue.",caseStudy:"A 100-person consultancy with 15M revenue had only 12% of revenue from cross-sell  despite having four distinct service lines. After implementing structured quarterly business reviews with the top 20 clients, creating a 'service menu' for account managers, and incentivising cross-introductions between practice leads, cross-sell revenue grew to 28% within two years, adding 2.4M in high-margin revenue.",workedExample:{situation:"Your top 20 clients average 1.3 service lines each. Cross-sell revenue is approximately 18% of total. Account planning is informal and inconsistent.",rating:"Evolving (Level 2)",rationale:"18% cross-sell is above Foundational but below the 25% target. The low service-lines-per-client metric (1.3 vs target of 2.5+) indicates significant untapped potential. The lack of formal account plans means cross-sell opportunities are being missed. To reach Optimised, implement formal account plans for all top-20 clients with specific cross-sell targets."},improvementTips:["Implement formal account plans for the top 20 clients with specific cross-sell targets","Create a client service menu and train delivery teams to identify expansion opportunities","Introduce quarterly business reviews with strategic clients to surface unmet needs","Track and report cross-sell revenue as a separate KPI alongside new business"]},cli_conc:{benchmarks:"M&A advisors flag concentration risk when any single client exceeds 15-20% of revenue. Best-practice PSFs keep their top client below 10% and top-5 clients below 35%. Acquirers typically apply a revenue-at-risk discount of 1-2x EBITDA for every client representing more than 20% of billings.",caseStudy:"A 60-person management consultancy derived 42% of revenue from one government department. When that contract was re-tendered and lost, the firm faced an immediate 40% revenue gap. Over 18 months they rebuilt by targeting three new sectors, eventually reducing top-client dependency to 14% and improving their valuation multiple by 1.5x.",workedExample:{situation:"Your largest client represents 28% of total revenue, and the top three clients account for 55% of billings.",rating:"Foundational (Level 1)",rationale:"Significant concentration risk exists with one client above 25% and top-three above 50%. Foundational because the firm is heavily exposed to individual client decisions, which depresses acquirer confidence and valuation multiples."},improvementTips:["Set a strategic cap of 20% maximum revenue from any single client and actively pursue new logos to dilute concentration","Build a client acquisition engine targeting 3-5 new mid-market clients per quarter in adjacent sectors","Develop recurring revenue streams such as retainers or managed services that spread income across a broader client base","Create an early-warning dashboard tracking concentration ratios monthly so leadership can intervene before thresholds are breached"]},cli_long:{benchmarks:"Top-quartile professional services firms achieve gross client retention rates of 85-92% annually. Net revenue retention (including expansion) exceeds 105-115% in high-performing firms. Average client tenure of 4+ years signals strong relationship depth. Acquirers value predictable, recurring client relationships as they reduce post-acquisition revenue risk.",caseStudy:"A technology consulting firm had client retention of 62% annually with average tenure of 1.8 years. They implemented quarterly business reviews, assigned dedicated client success managers, and introduced a tiered loyalty programme. Within two years, retention climbed to 88%, average tenure reached 3.4 years, and revenue predictability improved dramatically.",workedExample:{situation:"Your firm retains 78% of clients year-over-year, with average client tenure of 2.5 years. You have some long-standing relationships but also significant annual churn.",rating:"Evolving (Level 2)",rationale:"Retention is moderate but below the 85%+ benchmark for top-quartile firms. Some loyal clients exist, but the churn rate suggests relationships are project-based rather than deeply embedded, limiting recurring revenue predictability."},improvementTips:["Implement structured quarterly business reviews with all key clients to deepen relationships and surface expansion opportunities","Assign dedicated relationship managers to top-20 clients with formal account development plans","Track net revenue retention separately from gross retention to measure expansion within existing accounts","Develop multi-year framework agreements or retainer models that lock in longer engagement periods"]},cli_size:{benchmarks:"High-performing PSFs target average annual client value of 150-300K for mid-market firms, with top-tier consultancies achieving 500K+. Revenue per client should be growing 5-10% annually through scope expansion. Firms with average client values below 50K often struggle with delivery economics and face margin pressure from high client management overhead.",caseStudy:"A digital agency had an average client value of 35K with over 200 active clients, creating unsustainable account management overhead. They repositioned toward mid-market enterprise clients, introduced minimum engagement thresholds of 75K, and developed strategic account plans for high-potential clients. Within two years, average client value reached 120K with fewer but more profitable relationships.",workedExample:{situation:"Your average annual client value is 85K, with a long tail of small engagements under 20K that consume disproportionate management time.",rating:"Evolving (Level 2)",rationale:"Average client value is moderate but the long tail of small engagements suggests an unfocused client strategy. The firm is evolving beyond taking any work that comes in, but has not yet established minimum engagement thresholds or strategic account targeting."},improvementTips:["Establish minimum engagement thresholds and gradually sunset or refer clients below the threshold to partner firms","Develop strategic account plans for top-20 clients with specific revenue growth targets and cross-sell opportunities","Create tiered service packages that encourage clients to consolidate more work with your firm rather than splitting across vendors","Track client lifetime value alongside annual value to identify which client profiles deliver the best long-term economics"]},cli_part:{benchmarks:"Leading PSFs convert 15-25% of their client base into strategic partnerships characterised by multi-year commitments, joint planning, and embedded teams. These strategic accounts typically generate 3-5x the revenue of transactional clients. Firms with formal partner programmes report 20-30% higher net revenue retention than those without.",caseStudy:"An HR consulting firm treated all 150 clients identically with no formal partnership tiers. They introduced a Strategic Partner Programme for their top 15 clients, offering dedicated teams, quarterly strategy sessions, and priority access to new service offerings. Partner accounts grew revenue by 35% in the first year while non-partner accounts grew just 4%.",workedExample:{situation:"You have a handful of close client relationships but no formal partnership structure, tiered service model, or strategic account programme.",rating:"Foundational (Level 1)",rationale:"While some strong relationships exist organically, the absence of formal structures means partnership depth depends on individual consultants rather than institutional capabilities. This is foundational because strategic value creation with clients is ad hoc rather than systematic."},improvementTips:["Design a formal client partnership programme with clear tiers, benefits, and qualification criteria for each level","Assign executive sponsors to strategic accounts and conduct joint annual planning sessions with client leadership","Create co-innovation opportunities such as joint research, pilot programmes, or shared IP development with top-tier partners","Measure partnership health through a balanced scorecard covering revenue, satisfaction, strategic alignment, and relationship breadth"]},cli_ref:{benchmarks:"M&A-ready PSFs have over 75% of active clients willing to serve as references (industry research tracks this at 71.976% across surveyed firms). Firms with >90% referenceability have a 38% higher win-to-bid ratio. During M&A due diligence, acquirers will typically request 510 client references  firms that struggle to provide these face immediate credibility concerns and potential valuation discounts.",caseStudy:"A mid-sized consultancy approaching a sale found that only 40% of their clients would agree to be referenced. The primary issues were inconsistent delivery quality and a lack of ongoing relationship management after project completion. Over 12 months they implemented post-project reviews, a client success programme, and a formal reference request process. Referenceability rose to 82%, and the three case studies they published generated 1.2M in new pipeline.",workedExample:{situation:"You have 35 active clients. You have 4 published case studies (all over 2 years old) and could confidently offer perhaps 15 clients as references if asked.",rating:"Evolving (Level 2)",rationale:"At approximately 43% referenceability, this is above Foundational but well below the 75% target. The outdated case studies suggest delivery quality may have changed since they were published. To reach Optimised, refresh case studies annually, implement a post-project reference request process, and build a reference-ready client database."},improvementTips:["Build a formal reference programme  request references at project completion when satisfaction is highest","Maintain a database of reference-ready clients with up-to-date contact information","Publish at least 4 new case studies per year covering different service lines and sectors","Prepare a reference pack for M&A due diligence with diverse client profiles"]},led_team:{benchmarks:"Acquirers evaluate leadership teams on depth, complementarity, and retention risk. Best-practice PSFs have a leadership team of 4-7 members covering delivery, sales, finance, and people. Key person dependency where one leader holds more than 40% of client relationships or institutional knowledge is a major red flag. Leadership teams with 3+ years average tenure together signal stability.",caseStudy:"A founder-led strategy firm had all major client relationships, pricing decisions, and delivery oversight concentrated in the CEO. When exploring a sale, three potential acquirers walked away citing key-person risk. The firm spent 18 months deliberately distributing responsibilities, promoting two directors to Managing Partner roles, and transitioning client relationships. The eventual sale achieved a 30% higher multiple than the initial offers.",workedExample:{situation:"Your firm has a capable leadership team of five, but the founder still personally manages the top 8 client relationships and makes all major pricing decisions.",rating:"Evolving (Level 2)",rationale:"A leadership team exists and has relevant capabilities, but significant key-person dependency remains with the founder controlling critical client and commercial functions. The firm is evolving beyond pure founder-dependency but has not yet achieved the distributed leadership that acquirers seek."},improvementTips:["Conduct a key-person dependency audit mapping which leaders hold critical relationships, knowledge, and decision authority","Create a structured transition plan to distribute client relationships across at least three senior leaders over 12-18 months","Establish a formal leadership development programme identifying and grooming the next generation of leaders from within","Implement a leadership scorecard tracking delegation progress, succession readiness, and team decision-making independence"]},led_deleg:{benchmarks:"High-performing PSFs delegate operational decisions to the lowest competent level, with founders and senior leaders spending 60-70% of time on strategic activities rather than operational firefighting. Decision-making authority should be formally documented with clear escalation paths. Firms with strong delegation cultures report 25-40% higher employee engagement scores.",caseStudy:"A 45-person engineering consultancy had every project decision escalated to one of two founding partners, creating bottlenecks and burning out senior leadership. They introduced a decision authority matrix defining which decisions could be made at project manager, director, and partner level. Within six months, partner workload dropped 35%, project delivery speed improved 20%, and two high-potential directors stepped up into genuine leadership roles.",workedExample:{situation:"Most operational and client decisions are made by partners. Project managers have limited authority and frequently escalate routine matters. There is no formal decision authority framework.",rating:"Foundational (Level 1)",rationale:"The firm operates with a command-and-control style where partners are bottlenecks for most decisions. This is foundational because it limits scalability, creates partner burnout, and signals to acquirers that the business cannot operate independently of its current senior leaders."},improvementTips:["Create a formal decision authority matrix defining which decisions are made at each organisational level","Start with low-risk delegation such as project-level budgeting and scheduling decisions, then progressively expand scope","Invest in management training for mid-level leaders to build confidence and competence in autonomous decision-making","Track delegation metrics including escalation frequency, decision turnaround time, and leader time allocation between strategic and operational work"]},led_gov:{benchmarks:"M&A-ready PSFs have formal governance structures including advisory boards or non-executive directors, documented roles and responsibilities, regular board meetings with minutes, and clear succession plans. Firms with independent advisory board members achieve 15-25% higher valuations. Governance maturity is assessed on structure, documentation, independence, and strategic orientation.",caseStudy:"A 90-person consulting firm had no formal governance beyond monthly partner meetings with no agenda or minutes. In preparation for a future exit, they established a quarterly advisory board with two independent non-executives, formalised partner meeting agendas and minutes, and created a governance charter. Two years later, the due diligence process was dramatically smoother and faster, and the acquirer cited governance maturity as a key confidence factor.",workedExample:{situation:"Your firm has informal partner meetings but no advisory board, no documented governance charter, and no independent outside perspective on strategic decisions.",rating:"Foundational (Level 1)",rationale:"Governance is informal and undocumented, with no independent oversight or structured decision-making processes. This is foundational because acquirers see poor governance as a risk indicator for post-acquisition integration challenges and hidden liabilities."},improvementTips:["Establish a formal advisory board with at least one independent non-executive who brings M&A or industry expertise","Document a governance charter defining meeting cadence, decision-making processes, voting rights, and escalation procedures","Implement structured board reporting with standardised financial dashboards, KPI tracking, and strategic initiative updates","Create a succession plan for all key leadership roles and review it annually with the advisory board"]},led_risk:{benchmarks:"M&A-ready PSFs maintain a formal risk register reviewed quarterly by the board, with assigned risk owners and documented mitigation plans. Business continuity plans should be tested annually. Cyber security and data protection frameworks should be documented and evidenced. Weak risk governance can trigger 1015% valuation discounts in M&A (ISO 31000, G31000 Risk Maturity Model). Acquirers specifically check for employment law compliance, data protection (GDPR), professional indemnity insurance adequacy, and contractual risk management.",caseStudy:"During due diligence on a 70-person technology consultancy, the acquirer discovered no risk register, expired professional indemnity insurance, and undocumented contractor arrangements that created IR35 exposure. The deal was delayed by 4 months for remediation and the purchase price was reduced by 12% to cover identified risk exposures. A competitor firm of similar size with documented risk management completed its sale 6 weeks faster at a 10% higher multiple.",workedExample:{situation:"Your firm has professional indemnity insurance and basic data protection policies, but no formal risk register, no business continuity plan, and no regular risk review process.",rating:"Foundational (Level 1)",rationale:"While basic insurance and data protection exist, the absence of a risk register and business continuity plan leaves the firm exposed to operational, regulatory, and reputational risks. Acquirers will flag this as a due diligence concern. To reach Evolving, establish a risk register with quarterly reviews and create a basic business continuity plan."},improvementTips:["Create a formal risk register covering operational, financial, regulatory, cyber, and reputational risks","Assign a risk owner for each identified risk and document mitigation actions","Develop and test a business continuity plan at least annually","Review professional indemnity, cyber insurance, and key contractual protections quarterly"]},cos_deliv:{benchmarks:"Top-quartile PSFs achieve delivery cost ratios of 55-65% of revenue, with direct project costs tightly managed. Delivery overhead (non-billable delivery support) should be below 8-12% of revenue. Project-level gross margins of 45-55% indicate healthy delivery economics. Firms with mature delivery cost management consistently outperform on EBITDA margins by 5-8 percentage points.",caseStudy:"A management consulting firm had delivery costs at 72% of revenue due to over-staffing projects as a quality hedge. They implemented resource demand forecasting, right-sized project teams using historical delivery data, and introduced peer review rather than senior over-staffing for quality assurance. Delivery costs dropped to 61% of revenue within 12 months, adding 11 percentage points to gross margin.",workedExample:{situation:"Your delivery costs represent 68% of revenue, with projects frequently over-staffed and no systematic tracking of delivery efficiency by project type or client.",rating:"Evolving (Level 2)",rationale:"Delivery costs are above the top-quartile benchmark but not severely mismanaged. The firm is delivering profitably but has not yet optimised staffing models or implemented data-driven resource allocation, leaving significant margin on the table."},improvementTips:["Implement project-level P&L tracking with real-time visibility into planned vs actual delivery costs for every engagement","Develop staffing models based on historical delivery data to right-size teams by project type, complexity, and client","Introduce delivery efficiency KPIs such as cost-per-deliverable and revenue-per-delivery-hour into project manager scorecards","Create a delivery optimisation committee that reviews project economics monthly and shares best practices across teams"]},cos_tech:{benchmarks:"Leading PSFs invest 4-7% of revenue in technology and automation, with top performers reaching 8-10%. Technology ROI should be measured through productivity gains and automation of repeatable tasks. Firms that invest strategically in technology report 15-25% higher revenue per employee. AI and automation adoption is increasingly a differentiator in due diligence.",caseStudy:"A compliance advisory firm spent just 1.5% of revenue on technology, relying on spreadsheets and email for project management and client reporting. They invested in an integrated PSA platform, automated report generation, and client portal technology. Technology spend rose to 6% of revenue, but revenue per consultant increased 22% and the firm eliminated two administrative roles through automation.",workedExample:{situation:"Your firm spends approximately 3% of revenue on technology, primarily on basic tools like Office 365 and a simple CRM. There is no automation of delivery processes or client reporting.",rating:"Foundational (Level 1)",rationale:"Technology investment is below the 4-7% benchmark and focused on basic productivity tools rather than strategic automation. This is foundational because the firm has not yet leveraged technology as a scalability enabler or competitive advantage in delivery efficiency."},improvementTips:["Conduct a technology audit identifying the top 10 time-consuming manual processes that could be automated or streamlined","Develop a 3-year technology roadmap with clear ROI targets for each investment tied to productivity and margin improvement","Prioritise investments in PSA platforms, automated reporting, and AI-assisted delivery tools that directly improve consultant productivity","Track technology ROI through before-and-after metrics on time savings, error reduction, and revenue per employee"]},cos_scale:{benchmarks:"Scalable PSFs grow revenue 20-30% faster than headcount, indicating genuine leverage in their operating model. The revenue-to-headcount growth ratio should exceed 1.3x for evolving firms and 1.5x+ for optimised firms. Scalability indicators include reusable frameworks, productised services, and offshore or nearshore delivery capabilities. Acquirers pay premium multiples for firms demonstrating scalable economics.",caseStudy:"A strategy consulting firm grew revenue and headcount in lockstep for five years at roughly 12% each. They developed reusable analytical frameworks, created a nearshore analytics team for data-intensive work, and introduced a productised benchmarking service. Over the next two years, revenue grew 25% while headcount grew only 15%, demonstrating the scalability that acquirers value.",workedExample:{situation:"Your revenue grew 15% last year while headcount grew 14%. Growth is almost entirely driven by adding more consultants rather than improving leverage or efficiency.",rating:"Foundational (Level 1)",rationale:"Revenue growth is closely tied to headcount growth with a ratio near 1.0x, indicating no operating leverage. This is foundational because the firm cannot scale profitably without proportional hiring, which limits growth potential and depresses valuation multiples."},improvementTips:["Identify the top 5 repeatable delivery activities that could be templatised, productised, or partially automated","Explore nearshore or offshore delivery models for data analysis, research, or documentation work to improve leverage ratios","Develop at least one productised service offering that can be delivered with lower consultant-to-revenue ratios","Track the revenue-to-headcount growth ratio quarterly and set explicit targets for improving operating leverage year over year"]},cos_data:{benchmarks:"Leading PSFs use data analytics to drive both delivery excellence and operational efficiency. Top-quartile firms have real-time dashboards covering financial performance, utilisation, pipeline, and project health. Data-driven firms report 20-30% faster decision-making and 15-20% better project outcomes. Increasingly, acquirers assess data maturity as a proxy for management sophistication.",caseStudy:"An environmental consulting firm relied on monthly spreadsheet reports that were typically two weeks out of date. They implemented a business intelligence platform connecting their PSA, CRM, and finance systems. Real-time dashboards enabled weekly resource rebalancing, improved utilisation by 8 percentage points, and gave leadership confidence to make faster strategic decisions.",workedExample:{situation:"Your firm has basic financial reporting but no integrated dashboards. Data is siloed across spreadsheets, and management decisions rely heavily on intuition rather than real-time analytics.",rating:"Foundational (Level 1)",rationale:"Data capabilities are minimal with siloed information and no integrated analytics. This is foundational because management cannot make timely, evidence-based decisions, and the lack of data infrastructure would be a concern for acquirers assessing operational maturity."},improvementTips:["Start with a single integrated dashboard covering the four critical metrics: revenue, utilisation, pipeline coverage, and project margin","Connect core systems (PSA, CRM, finance) to eliminate data silos and enable real-time cross-functional reporting","Train leadership to use data in weekly management meetings, replacing anecdotal updates with metric-driven discussions","Develop predictive analytics for resource demand forecasting and project risk identification using historical delivery data"]},cos_lever:{benchmarks:"Optimal leverage ratios (junior-to-senior staff) vary by service type: strategy consulting 3-4:1, implementation services 5-7:1, managed services 8-10:1. Higher leverage improves margins as junior staff bill at lower cost but still generate revenue. Top-quartile firms achieve 35-45% gross margins through effective leverage. Firms with flat pyramids and partner-heavy delivery models typically have compressed margins.",caseStudy:"A boutique advisory firm had a flat structure with 60% of delivery performed by partners and directors billing at premium rates but also carrying premium costs. They hired and trained a cohort of experienced managers and senior consultants, redesigned delivery models to push appropriate work down, and improved their leverage ratio from 1.5:1 to 3.5:1. Gross margins improved from 32% to 44% within 18 months.",workedExample:{situation:"Your firm has a leverage ratio of 2:1 with partners and directors performing significant amounts of work that could be handled by more junior staff.",rating:"Evolving (Level 2)",rationale:"Some leverage exists but is below optimal ratios for most service types. The firm is evolving beyond a purely partner-led delivery model but has not yet built the middle layer of experienced managers needed to push work down efficiently and improve margin economics."},improvementTips:["Map every delivery activity to the lowest competent level that can perform it and identify work currently done by over-qualified staff","Invest in hiring and developing a strong middle management layer that can lead delivery with partner oversight rather than partner hands-on involvement","Create standardised delivery methodologies and playbooks that enable less experienced staff to deliver consistently high-quality work","Set leverage ratio targets by service line and track progress quarterly, linking improvement to margin expansion goals"]},cos_know:{benchmarks:"Effective knowledge management systems reduce project start-up time by 20-30% and improve proposal win rates by 15-20% through reuse of proven methodologies and case studies. Top PSFs have searchable repositories of past deliverables, methodologies, and lessons learned. Knowledge codification is a key scalability enabler and acquirer value driver.",caseStudy:"A 70-person consulting firm found that consultants spent an average of 6 hours per project recreating frameworks and templates that already existed elsewhere in the firm. They implemented a structured knowledge repository with tagging, search, and a curator role. Project start-up time decreased by 25%, proposal quality improved significantly, and new joiners reached productive capacity 40% faster.",workedExample:{situation:"Knowledge exists in individual consultants heads and scattered across personal drives. There is no central repository, and significant rework occurs because teams cannot find or access prior work.",rating:"Foundational (Level 1)",rationale:"Knowledge is trapped in individuals rather than codified in institutional systems. This is foundational because the firm cannot leverage its accumulated expertise at scale, and knowledge loss through staff departure represents a significant risk that acquirers will flag during due diligence."},improvementTips:["Start with a simple, searchable knowledge repository focused on the highest-value reusable assets: methodologies, templates, and case studies","Assign a part-time knowledge curator role to maintain quality, tagging, and discoverability of repository content","Build knowledge capture into project close-out processes so insights and deliverables are systematically archived","Measure knowledge reuse rates and track time savings to build the business case for continued investment in knowledge management"]},cos_resrc:{benchmarks:"Best-in-class PSFs have 4-6 week forward visibility on resource demand and achieve 85-90% resource plan accuracy. Bench time (unallocated billable staff) should be below 8-12% of available capacity. Effective resource planning reduces over-servicing by 10-15% and improves utilisation by 5-8 percentage points. Real-time resource management is increasingly table stakes for acquirer due diligence.",caseStudy:"A technology advisory firm managed resource allocation through a weekly email from the operations director, leading to frequent mismatches, double-bookings, and bench time of 18%. They implemented a resource management platform with skills-based matching and demand forecasting. Bench time dropped to 9%, utilisation improved by 6 percentage points, and consultant satisfaction with project assignments increased measurably.",workedExample:{situation:"Resource allocation is managed informally by project managers competing for the same senior staff. There is no forward demand visibility and bench time runs at approximately 15%.",rating:"Evolving (Level 2)",rationale:"Some resource management exists but it is reactive and fragmented. The firm is evolving beyond pure chaos but has not yet achieved the systematic, data-driven resource planning with forward visibility that characterises optimised operations."},improvementTips:["Implement a centralised resource management function or tool that provides visibility across all projects and available capacity","Develop skills-based resource profiles so allocation decisions match consultant capabilities to project requirements","Build 4-6 week forward demand forecasts using pipeline data to anticipate resource needs before they become urgent","Track and report bench time, utilisation variance, and resource plan accuracy as key operational health metrics"]},del_sat:{benchmarks:"Top-performing PSFs achieve client satisfaction scores (CSAT) of 8.5+/10 or NPS of 50+. Formal post-project feedback should be collected on 80%+ of engagements. Client satisfaction directly correlates with retention, referral rates, and willingness to pay premium fees. Firms with systematic satisfaction measurement report 20-30% higher client lifetime values.",caseStudy:"A financial advisory firm had no formal client feedback mechanism beyond ad hoc conversations. They implemented post-engagement surveys, quarterly relationship health checks for key accounts, and a closed-loop process where every score below 7/10 triggered a partner follow-up call. NPS increased from an estimated 25 to a measured 62 within 18 months, and client referrals doubled.",workedExample:{situation:"You collect informal feedback on some projects but have no systematic satisfaction measurement. Anecdotally, clients seem happy, but you have no quantitative data to support this.",rating:"Foundational (Level 1)",rationale:"Without systematic measurement, satisfaction claims are unverifiable. This is foundational because acquirers require evidence-based client satisfaction data during due diligence, and the absence of formal feedback processes suggests the firm may be unaware of client concerns until they result in lost work."},improvementTips:["Implement a simple post-engagement survey using NPS or CSAT methodology for every project above a minimum size threshold","Create a closed-loop feedback process where scores below a threshold trigger immediate follow-up by a senior leader","Track satisfaction trends over time by client, service line, and delivery team to identify patterns and improvement opportunities","Share aggregated satisfaction data in client proposals and marketing materials to differentiate on proven delivery quality"]},del_util:{benchmarks:"Target billable utilisation rates vary by role: partners 40-50%, directors 55-65%, managers 65-75%, consultants 75-85%. Firm-wide blended utilisation should target 68-75% for healthy economics. Over-utilisation above 85% leads to burnout and quality issues. Under-utilisation below 60% indicates poor demand management or pricing. Revenue per consultant should exceed 200-250K annually for mid-market firms.",caseStudy:"A 50-person IT consulting firm had blended utilisation of 58% with significant variance between teams. They implemented weekly utilisation tracking by team and individual, introduced proactive bench management with internal projects and training, and aligned sales targets with delivery capacity. Blended utilisation improved to 72% within 9 months, adding approximately 800K to annual revenue without hiring.",workedExample:{situation:"Your firm-wide blended utilisation is 64%, with some consultants consistently above 80% while others sit at 45-50%. There is no role-specific utilisation targeting.",rating:"Evolving (Level 2)",rationale:"Overall utilisation is below optimal benchmarks, and high variance between individuals suggests resource allocation issues rather than a demand problem. The firm tracks utilisation but has not yet optimised allocation or set role-appropriate targets."},improvementTips:["Set role-specific utilisation targets and track weekly, making variances visible to both individuals and resource managers","Implement proactive bench management with structured internal projects, training, and business development activities for under-utilised staff","Align sales pipeline management with delivery capacity to reduce feast-or-famine utilisation cycles","Analyse utilisation patterns by client, project type, and team to identify structural causes of under-utilisation and address root issues"]},del_qa:{benchmarks:"Mature PSFs have documented delivery methodologies covering 80%+ of their service offerings. Quality gates at key project milestones reduce rework by 25-35%. Peer review processes improve deliverable quality and spread knowledge across the firm. Methodology maturity is a key acquirer due diligence item as it indicates scalability and consistency of delivery.",caseStudy:"A regulatory consulting firm experienced inconsistent delivery quality depending on which partner led the engagement. They developed standardised delivery methodologies for their four core service lines, introduced quality gates at project initiation, mid-point, and delivery, and implemented peer review for all major deliverables. Rework rates dropped from 22% to 8%, and client satisfaction scores improved across all service lines.",workedExample:{situation:"Your firm has informal delivery approaches that vary by partner or team. There are no documented methodologies, quality gates, or peer review processes for project deliverables.",rating:"Foundational (Level 1)",rationale:"Delivery quality depends entirely on individual capability rather than institutional processes. This is foundational because inconsistent methodology makes quality unpredictable, inhibits scaling, and raises concerns for acquirers about post-acquisition delivery consistency."},improvementTips:["Document delivery methodologies for your top 3 service offerings, starting with the most common engagement types","Introduce quality gates at project initiation, key milestones, and final delivery with clear criteria for passing each gate","Implement peer review for all client-facing deliverables above a minimum engagement size threshold","Create delivery playbooks that capture best practices and enable consistent quality regardless of which team or partner leads the engagement"]},del_otob:{benchmarks:"The industry average for on-time project delivery is approximately 73.4% (based on industry benchmarking data), declining from 80.2% in previous years. M&A-ready PSFs target over 80% on-time and on-budget delivery. Rework should be below 3% of total project hours for optimised firms (vs 810% at industry average). Scope change frequency should be formally tracked  projects with more than 2 material scope changes are at high risk of budget and timeline overrun. PSA tool users show 24% higher project margins on average.",caseStudy:"A consulting firm discovered that only 55% of projects were delivered on time and on budget, with an average rework rate of 12%. Root cause analysis revealed poor scope definition at project initiation and absent change control. After implementing a structured scoping methodology, mandatory change control process, and weekly project health dashboards, on-time delivery improved to 83% and rework dropped to 4% within 12 months  improving project margins by 8 percentage points.",workedExample:{situation:"Your firm tracks project deadlines informally. You estimate about 65% of projects finish on time, but budget tracking is done retrospectively at project close rather than in real-time.",rating:"Evolving (Level 2)",rationale:"65% is above Foundational but below the 80% target. The lack of real-time budget tracking means margin erosion is only discovered after it has occurred. To reach Optimised, implement real-time project dashboards, formal change control processes, and a standard project health review cadence."},improvementTips:["Implement real-time project health dashboards tracking schedule, budget, and scope status","Establish a formal change control process requiring client sign-off for all material scope changes","Conduct post-project reviews on every engagement and track rework rates as a firm-wide KPI","Use earned value management principles for projects above a defined size threshold"]},mkt_size:{benchmarks:"Well-positioned PSFs can clearly articulate their total addressable market (TAM) and serviceable addressable market (SAM). Firms targeting a defined SAM of 500M-2B with clear market share goals are viewed favourably by acquirers. Market position should be defensible through specialisation, geographic presence, or unique capabilities. Niche leaders with 5-15% market share in defined segments command premium valuations.",caseStudy:"A generalist business consulting firm struggled to articulate its market position to a potential acquirer. They conducted a market sizing exercise, identified three underserved vertical niches where they had existing expertise, and repositioned as specialists. Within two years they had grown market share to 8% in their primary niche and attracted acquisition interest at a significantly higher multiple than the original discussions.",workedExample:{situation:"Your firm serves a broad market with no clear niche or specialisation. You cannot quantify your addressable market or articulate a defensible market position to an acquirer.",rating:"Foundational (Level 1)",rationale:"Without a defined market position or quantified addressable market, the firm appears undifferentiated. This is foundational because acquirers need to understand the growth runway and competitive moat, and generalist positioning suggests limited pricing power and vulnerability to competition."},improvementTips:["Conduct a market sizing exercise to quantify your TAM and SAM for each major service line or vertical","Identify 2-3 niches where you have disproportionate expertise or track record and develop a focused positioning strategy","Create a competitive landscape analysis mapping your position against key competitors on dimensions that matter to clients","Develop a market share tracking methodology and set explicit growth targets within your defined addressable market"]},mkt_mktg:{benchmarks:"High-growth PSFs invest 5-10% of revenue in marketing, with top-quartile firms achieving 40-60% of new leads through inbound channels. Marketing-generated pipeline should represent 25-35% of total pipeline. Firms with mature content marketing programmes generate 3x more leads per pound spent than those relying solely on outbound. Digital marketing maturity is increasingly assessed in due diligence.",caseStudy:"A tax advisory firm relied entirely on partner networks and referrals for new business, investing less than 1% in marketing. When two key referral sources retired, new business dropped 35%. They hired a marketing director, invested in content marketing, SEO, and webinar programmes, and built a systematic lead generation engine. Within 18 months, inbound leads represented 45% of new pipeline and reduced dependency on any single referral source.",workedExample:{situation:"Your marketing consists of an outdated website and occasional LinkedIn posts. Less than 2% of revenue is invested in marketing, and almost all new business comes through personal networks.",rating:"Foundational (Level 1)",rationale:"Marketing is minimal and entirely dependent on personal relationships rather than institutional capabilities. This is foundational because the firm has no scalable lead generation engine, creating risk if key relationship holders depart."},improvementTips:["Invest in a professional website refresh with clear positioning, case studies, and calls-to-action that convert visitors into leads","Develop a content marketing calendar with regular thought leadership articles, insights, and research publications","Build an email nurture programme for prospects and past clients that keeps the firm top-of-mind between active engagements","Track marketing-generated pipeline and cost-per-lead to build the business case for sustained marketing investment"]},mkt_award:{benchmarks:"Recognised PSFs report 15-25% higher win rates on competitive proposals compared to unrecognised peers. Industry awards, analyst rankings, and directory listings serve as independent third-party validation. Firms appearing in recognised rankings such as Financial Times, Chambers, or industry-specific league tables command measurably higher fee rates. A track record of awards over 3+ years signals sustained excellence rather than a one-off achievement.",caseStudy:"A mid-market risk advisory firm had strong client satisfaction but zero industry recognition. They developed a systematic awards programme, submitting to 8-10 relevant awards annually and securing analyst briefings with key industry commentators. Over three years they won 6 awards and were listed in two industry rankings. Their proposal win rate increased from 28% to 41%, and they were able to increase fee rates by 12%.",workedExample:{situation:"Your firm has never submitted for industry awards and has no external rankings or recognition beyond client testimonials on your website.",rating:"Foundational (Level 1)",rationale:"No external validation or recognition exists. This is foundational because while the firm may deliver excellent work, the lack of independent third-party recognition limits credibility in competitive situations and reduces the brand premium that acquirers value."},improvementTips:["Research and create a calendar of 8-10 relevant industry awards with submission deadlines and entry requirements","Assign a team member to manage award submissions, ensuring they are well-written with compelling evidence and client endorsements","Pursue analyst and journalist relationships through briefings, commentary, and thought leadership contributions to build profile","Leverage every award win and recognition in proposals, website, social media, and client communications to maximise brand impact"]},mkt_thought:{benchmarks:"High-growth PSFs publish thought leadership content 4-6 times per month across channels including white papers, blogs, webinars, and speaking engagements. Firms with visible thought leaders generate 60-70% more inbound leads than those without. Thought leadership topics should align with the firm capabilities and target client pain points. Acquirers value firms with recognised subject matter experts as they represent sustainable competitive advantage.",caseStudy:"A cybersecurity consulting firm had deep expertise but minimal external visibility. They launched a monthly research report, a weekly blog series, and a quarterly webinar programme led by their three most senior technical experts. Within a year, they were being invited to speak at industry conferences, web traffic increased 180%, and inbound enquiries from their target market segment tripled.",workedExample:{situation:"Your firm has significant expertise in its domain but publishes content rarely, perhaps one or two blog posts per quarter. Your senior leaders do not speak at conferences or contribute to industry publications.",rating:"Evolving (Level 2)",rationale:"Some content exists but publication frequency and reach are well below benchmarks. The firm is evolving beyond complete obscurity but has not yet built the systematic thought leadership engine that positions it as a recognised authority in its space."},improvementTips:["Develop a thought leadership calendar with at least weekly content publication covering topics aligned with target client challenges","Identify 3-5 senior leaders to develop as visible experts through speaking engagements, articles, and media commentary","Create a research programme producing original data and insights that journalists and conference organisers will seek out","Repurpose content across channels so a single research piece becomes a white paper, blog series, webinar, and social media campaign"]},mkt_brand:{benchmarks:"Strong PSF brands achieve 70-80% unaided awareness within their target market segments. Brand strength correlates with ability to charge premium fees, with recognised brands commanding 10-20% fee premiums. Brand consistency across all touchpoints including website, proposals, deliverables, and social media builds trust and professionalism. Acquirers pay 15-30% more for firms with strong, transferable brands.",caseStudy:"A supply chain consulting firm had inconsistent branding with different visual identities across offices, outdated website design, and no brand guidelines. They invested in a comprehensive rebrand including visual identity, messaging framework, website redesign, and brand guidelines for all touchpoints. Post-rebrand, they reported a 25% increase in proposal requests, 15% higher average engagement values, and significantly improved talent attraction.",workedExample:{situation:"Your brand is inconsistent across touchpoints with an outdated website, varying proposal formats, and no formal brand guidelines. Awareness within your target market is low.",rating:"Foundational (Level 1)",rationale:"Brand presence is weak and inconsistent, limiting the firm ability to command premium fees or attract top talent. This is foundational because a strong brand is a transferable asset that acquirers value, and the current state suggests limited investment in how the firm is perceived by the market."},improvementTips:["Invest in professional brand development including visual identity, messaging framework, and comprehensive brand guidelines","Ensure brand consistency across every client touchpoint from website to proposals to deliverables to email signatures","Conduct a brand awareness survey within your target market to establish a baseline and track improvement over time","Develop a brand activation plan that builds awareness through consistent thought leadership, events, and digital presence"]},mkt_digital:{benchmarks:"High-growth PSFs generate 30%+ of their new business pipeline from digital/inbound channels (based on industry research). Organic search drives approximately 33% of PSF website traffic (based on industry data). Inbound leads cost 2.6x less than outbound and convert at higher rates. M&A-ready firms have websites optimised for lead generation with clear calls-to-action, gated content, and marketing automation tracking attribution from first touch to closed deal.",caseStudy:"A 50-person niche consultancy relied entirely on partner networks for new business, with a brochure-style website generating zero leads. After investing in content marketing (weekly blog posts, quarterly research reports), SEO optimisation, and marketing automation, inbound pipeline grew from 0% to 35% of total within 18 months. The reduced dependence on partner-led business development directly addressed the key-person risk that had previously suppressed their valuation.",workedExample:{situation:"Your website was last updated 3 years ago. You publish occasional blog posts but have no content strategy, no lead tracking, and no marketing automation. Approximately 5% of your pipeline comes from inbound enquiries.",rating:"Foundational (Level 1)",rationale:"5% inbound pipeline is well below the 10% threshold for Evolving. The outdated website and absent content strategy mean digital channels are not contributing to growth. To reach Evolving, invest in website redesign with lead capture, implement basic marketing automation, and establish a regular content publishing cadence."},improvementTips:["Invest in website optimisation with clear CTAs, gated content, and lead capture forms","Establish a content calendar with minimum monthly publishing of thought leadership content","Implement marketing automation to track lead attribution from first touch to opportunity","Measure and report digital pipeline contribution as a board-level KPI quarterly"]}}},wC={"Professional Services":pt["M&A-Ready (PSF)"]},y1=["M&A-Ready (PSF)","Top Decile","Industry Average","Consulting","Technology Services"],Kae={Consulting:"Consulting","Technology Services":"Technology Services"},$R="gdmf_app_state",Wae=()=>{try{const e=localStorage.getItem($R);return e?JSON.parse(e):null}catch{return null}},Yae=e=>{try{localStorage.setItem($R,JSON.stringify(e))}catch{}},UR=()=>crypto.randomUUID(),FR=()=>{const e=(i,s="")=>({level:i,comment:s,updatedAt:new Date(Date.now()-Math.random()*864e5).toISOString()}),t={fin_revenue:e(3,"Strong 15% YoY growth with diversified revenue"),fin_gm:e(3,"Consistent 55% gross margin"),fin_ebitda:e(3,"EBITDA at 24%, strong trend"),fin_cash:e(3,"Excellent cash conversion, 28 day debtors"),fin_quality:e(2,"32% recurring revenue from retainers"),fin_rate:e(3,"Average day rate 1,800"),fin_revfte:e(3,"Revenue per FTE 165k"),fin_overhead:e(3,"Overheads at 22% of revenue"),ppl_talent:e(3,"Full competency framework implemented"),ppl_exp:e(2,"Glassdoor 4.2, eNPS 42"),ppl_recruit:e(3,"Strong employer brand, 14 applicants per role"),ppl_churn:e(2,"Attrition at 16%, below industry average"),ppl_wf:e(3,"90% permanent staff"),ppl_training:e(3,"3.5% of revenue on L&D, 8 days per employee"),ppl_equity:e(3,"18% of staff hold equity, founder at 45%"),srv_prop:e(3,"Clear differentiation in digital transformation"),srv_innov:e(2,"5% R&D investment"),srv_ip:e(3,"Proprietary methodology and tools"),srv_size:e(3,"Average deal size 320k"),srv_price:e(3,"Value-based pricing model"),srv_portfolio:e(3,"3 service tiers with clear client journey"),vis_market:e(3,"AI consulting  hot sector"),vis_comp:e(2,"Good differentiation, 4 direct competitors"),vis_align:e(3,"Quarterly strategy reviews, full alignment"),vis_plan:e(3,"Rolling 5-year plan with quarterly updates"),vis_esg:e(2,"ESG policy in place, reporting established"),sal_pipe:e(3,"82% of next 12 months booked"),sal_conv:e(2,"42% win rate"),sal_mgmt:e(3,"CRM driven, weekly pipeline reviews"),sal_skills:e(3,"MEDDIC methodology trained across all sellers"),sal_crosssell:e(2,"22% cross-sell revenue, 2.1 lines per client"),cli_conc:e(2,"Top 3 clients at 28%, manageable concentration"),cli_long:e(3,"Average tenure 4.8 years"),cli_size:e(3,"48% from 250k+ clients"),cli_part:e(3,"Microsoft Gold and Salesforce partnerships"),cli_ref:e(3,"85% referenceable, 12 published case studies"),led_team:e(3,"Ex-Big 4 leadership with M&A experience"),led_deleg:e(3,"CEO fully delegated, strong deputies"),led_gov:e(3,"Advisory board with PE representation"),led_risk:e(3,"Formal risk register, BCP tested annually"),cos_deliv:e(2,"15% nearshore delivery"),cos_tech:e(3,"Fully integrated CRM, PSA, BI stack"),cos_scale:e(2,"45% process automation"),cos_data:e(3,"Real-time dashboards and reporting"),cos_lever:e(3,"Zero debt, strong balance sheet"),cos_know:e(2,"Confluence-based knowledge management"),cos_resrc:e(3,"84% utilisation"),del_sat:e(3,"NPS 65, quarterly surveys"),del_util:e(3,"84% billable utilisation"),del_qa:e(3,"Full QA gates on all projects"),del_otob:e(3,"88% on time and budget, 2% rework"),mkt_size:e(3,"Large addressable market 2bn+"),mkt_mktg:e(2,"12% of revenue marketing-influenced"),mkt_award:e(3,"MCA winner 2024, shortlisted 2025"),mkt_thought:e(3,"6 whitepapers, regular speaking slots"),mkt_brand:e(2,"Growing brand recognition in target sectors"),mkt_digital:e(2,"25% of pipeline from inbound, content strategy in place")},r={fin_revenue:e(2,"8% growth, stable trajectory"),fin_gm:e(2,"Gross margin 44%"),fin_ebitda:e(2,"EBITDA 15%"),fin_cash:e(2,"Cash conversion improving, 48 day debtors"),fin_quality:e(2,"18% recurring revenue"),fin_rate:e(2,"Day rate 1,150"),fin_revfte:e(2,"Revenue per FTE 105k"),fin_overhead:e(2,"Overheads at 31% of revenue"),ppl_talent:e(2,"Competency framework exists, improving"),ppl_exp:e(2,"Glassdoor 3.8, eNPS 28"),ppl_recruit:e(2,"6 applicants per role"),ppl_churn:e(2,"22% attrition"),ppl_wf:e(2,"65% permanent staff"),ppl_training:e(2,"1.8% of revenue on L&D, 4 days per employee"),ppl_equity:e(2,"8% of staff hold equity, founder at 65%"),srv_prop:e(2,"Good capability, clearer messaging emerging"),srv_innov:e(2,"Structured R&D starting"),srv_ip:e(2,"Some reusable accelerators and templates"),srv_size:e(2,"Average deal 95k"),srv_price:e(2,"Moving toward value-based pricing"),srv_portfolio:e(2,"2 service lines, some tiering emerging"),vis_market:e(3,"Cloud migration  warm sector with growth"),vis_comp:e(2,"Moderate differentiation"),vis_align:e(2,"Strategy cascaded to senior team"),vis_plan:e(2,"Annual planning with quarterly reviews"),vis_esg:e(1,"Basic policy only"),sal_pipe:e(2,"58% visibility of next 12 months"),sal_conv:e(2,"35% win rate"),sal_mgmt:e(2,"CRM adopted, improving discipline"),sal_skills:e(3,"Sales training programme in place"),sal_crosssell:e(2,"18% cross-sell revenue, 1.8 lines per client"),cli_conc:e(2,"Top 3 at 38%"),cli_long:e(2,"2.5 year average tenure"),cli_size:e(2,"Growing mid-market client base"),cli_part:e(2,"AWS and Azure partnerships"),cli_ref:e(2,"62% referenceable, 5 case studies"),led_team:e(3,"Strong leadership with industry experience"),led_deleg:e(2,"Founder stepping back, deputies growing"),led_gov:e(2,"Advisory board established"),led_risk:e(2,"Risk register maintained, basic BCP"),cos_deliv:e(2,"5% nearshore delivery"),cos_tech:e(2,"CRM and basic PSA in place"),cos_scale:e(2,"30% automation"),cos_data:e(2,"Monthly reporting pack with KPIs"),cos_lever:e(3,"Manageable debt, strong cashflow"),cos_know:e(2,"SharePoint-based knowledge management"),cos_resrc:e(2,"72% utilisation"),del_sat:e(2,"NPS 38, bi-annual surveys"),del_util:e(2,"72% billable utilisation"),del_qa:e(3,"QA on all client projects"),del_otob:e(2,"72% on time and budget, 5% rework"),mkt_size:e(2,"Medium addressable market"),mkt_mktg:e(2,"8% of revenue marketing-influenced"),mkt_award:e(2,"Regional award winner"),mkt_thought:e(2,"Regular blog and webinar programme"),mkt_brand:e(2,"Growing regional recognition"),mkt_digital:e(2,"15% of pipeline from inbound channels")},n={fin_revenue:e(1,"Flat revenue, margin pressure"),fin_gm:e(1,"GM 32%, declining"),fin_ebitda:e(1,"EBITDA 6%, below viability threshold"),fin_cash:e(1,"Working capital challenges, 68 day debtors"),fin_quality:e(1,"100% project-based revenue"),fin_rate:e(1,"Day rate 750, under market rate"),fin_revfte:e(1,"Revenue per FTE 68k"),fin_overhead:e(1,"Overheads at 42% of revenue"),ppl_talent:e(1,"No formal development framework"),ppl_exp:e(1,"Glassdoor 3.0, high dissatisfaction"),ppl_recruit:e(1,"Struggling to attract talent"),ppl_churn:e(1,"35% attrition, critical flight risk"),ppl_wf:e(1,"60% contractors, high dependency"),ppl_training:e(1,"No training budget, ad-hoc only"),ppl_equity:e(1,"100% founder owned, no equity sharing"),srv_prop:e(1,"Generalist positioning, no differentiation"),srv_innov:e(1,"No formal R&D investment"),srv_ip:e(1,"No proprietary IP or methodology"),srv_size:e(1,"35k average deal size"),srv_price:e(1,"Heavy discounting to win work"),srv_portfolio:e(1,"Single service line, no tiering"),vis_market:e(1,"Project management  crowded, cold sector"),vis_comp:e(1,"Highly commoditised, no differentiation"),vis_align:e(1,"No clear strategy communicated"),vis_plan:e(1,"Annual budget only, reactive approach"),vis_esg:e(1,"No ESG consideration"),sal_pipe:e(1,"25% visibility of next 12 months"),sal_conv:e(1,"20% win rate, declining"),sal_mgmt:e(1,"Spreadsheet-based tracking"),sal_skills:e(1,"No formal sales process or training"),sal_crosssell:e(1,"8% cross-sell, 1.1 lines per client"),cli_conc:e(1,"Top 3 clients at 68%, critical risk"),cli_long:e(1,"6 month average tenure, high churn"),cli_size:e(1,"Mostly small contracts under 50k"),cli_part:e(1,"No strategic partnerships"),cli_ref:e(1,"35% referenceable, 1 outdated case study"),led_team:e(2,"Founder experienced but stretched thin"),led_deleg:e(1,"100% founder dependent"),led_gov:e(1,"No governance structure"),led_risk:e(1,"No risk register or BCP"),cos_deliv:e(1,"100% onshore, high cost base"),cos_tech:e(1,"Basic spreadsheets and email"),cos_scale:e(1,"Manual processes throughout"),cos_data:e(1,"Quarterly reporting, limited visibility"),cos_lever:e(2,"Some debt but manageable"),cos_know:e(1,"Tribal knowledge, no documentation"),cos_resrc:e(1,"52% utilisation, significant bench"),del_sat:e(1,"NPS 12, no formal surveys"),del_util:e(1,"52% billable utilisation"),del_qa:e(1,"Inconsistent QA, no formal process"),del_otob:e(1,"45% on time, 15% rework rate"),mkt_size:e(2,"Niche market with limited growth"),mkt_mktg:e(1,"No marketing function"),mkt_award:e(1,"No industry recognition"),mkt_thought:e(1,"No thought leadership activity"),mkt_brand:e(1,"Limited brand awareness"),mkt_digital:e(1,"Under 5% of pipeline from digital channels")};return{firms:[{id:"demo_techbridge",name:"TechBridge Solutions",sector:"Technology Services",createdAt:"2026-02-01T14:30:00Z"},{id:"demo_apex",name:"Apex Consulting Partners",sector:"Consulting",createdAt:"2026-01-15T10:00:00Z"},{id:"demo_phoenix",name:"Phoenix Advisory Group",sector:"Consulting",createdAt:"2026-02-05T09:00:00Z"}],assessments:{demo_apex_a1:{id:"demo_apex_a1",firmId:"demo_apex",createdAt:"2026-01-20T11:00:00Z",ratings:t},demo_techbridge_a1:{id:"demo_techbridge_a1",firmId:"demo_techbridge",createdAt:"2026-02-03T16:00:00Z",ratings:r},demo_phoenix_a1:{id:"demo_phoenix_a1",firmId:"demo_phoenix",createdAt:"2026-02-06T10:30:00Z",ratings:n}}}},Vae=()=>{const e=Wae();return e&&e.firms&&e.firms.length>0?e:FR()},Vr=(e,t)=>{const r=t||pt["M&A-Ready (PSF)"],n={};let i=0,s=0,l=0,d=0;ke.themes.forEach(S=>{let k=0,j=0,_=0;S.metrics.forEach(E=>{d++;const A=e[E.id];A&&A.notTracked||(A&&(A.level||A.notTracked)&&(A.level&&(k+=A.level*E.weight),l++,_++),j+=3*E.weight)}),n[S.id]={score:k,max:j,rated:_,total:S.metrics.length,pct:j>0?Math.round(k/j*100):0},i+=k,s+=j});let f=0,h=0;const p=[];ke.themes.forEach(S=>{const k=n[S.id],j=r[S.id]||65,_=S.metrics.reduce((A,T)=>A+(T.weight||100),0),E=k?k.pct:0;f+=Math.min(E/j,1)*_,h+=_,p.push({themeId:S.id,themeName:S.name,color:S.color,current:E,target:j,gap:j-E})});const g=h>0?Math.round(f/h*100):0,v=s>0?Math.round(i/s*100):0,x=v>=66?"On Track":v>=38?"Developing":"Early Stage";return p.sort((S,k)=>k.gap-S.gap),{themeScores:n,totalScore:i,totalMaxPossible:s,pct:s>0?Math.round(i/s*100):0,ratedCount:l,totalMetrics:d,readinessScore:v,readinessLevel:x,benchmarkAlignment:g,themeGaps:p}},Xae=e=>e?e<=1.5?{bg:"#FFE0B2",text:"#DC2626",border:"#E6B0AA"}:e<=2.5?{bg:"#BBDEFB",text:"#7D6608",border:"#F9E79F"}:{bg:"#A5D6A7",text:"#16A34A",border:"#A9DFBF"}:{bg:"#F0F0F0",text:"#6C757D",border:"#DEE2E6"},jC=e=>e?e===1?"Foundational":e===1.5?"Found./Evolving":e===2?"Evolving":e===2.5?"Evolv./Optimised":e===3?"Optimised":`Level ${e}`:"Not Rated",Zae={pound:bR,users:ld,tag:wR,compass:dR,"trending-up":sa,handshake:hR,shield:Ks,calculator:cR,"check-square":xR,globe:ju},oa=(e,t=16,r="")=>{const n=Zae[e];return n?c.jsx(n,{size:t,className:r}):null};function dm({value:e,suffix:t="",prefix:r="",duration:n=500}){const[i,s]=b.useState(e);return b.useEffect(()=>{const l=i,d=e,f=Date.now(),h=()=>{const p=Date.now()-f,g=Math.min(p/n,1),v=1-Math.pow(1-g,3),x=Math.round(l+(d-l)*v);s(x),g<1&&requestAnimationFrame(h)};requestAnimationFrame(h)},[e]),c.jsxs(c.Fragment,{children:[r,i,t]})}function SC({progress:e,size:t=80,strokeWidth:r=6,color:n="#f2a71b"}){const i=(t-r)/2,s=i*2*Math.PI,l=s-e/100*s;return c.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[c.jsx("circle",{cx:t/2,cy:t/2,r:i,fill:"none",stroke:"#E5E7EB",strokeWidth:r}),c.jsx("circle",{cx:t/2,cy:t/2,r:i,fill:"none",stroke:n,strokeWidth:r,strokeDasharray:s,strokeDashoffset:l,strokeLinecap:"round",className:"transition-all duration-700 ease-out"})]})}function z0({text:e}){const[t,r]=b.useState(!1);return c.jsxs("span",{className:"relative inline-flex ml-1",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[c.jsx(up,{size:14,className:"text-gray-400 hover:text-amber-500 cursor-help"}),t&&c.jsx("span",{className:`absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2
          text-xs text-white bg-gray-800 rounded-lg shadow-lg whitespace-normal normal-case
          w-56 text-center z-50 pointer-events-none`,children:e})]})}function Qae({title:e,message:t,confirmLabel:r="Delete",cancelLabel:n="Cancel",onConfirm:i,onCancel:s,variant:l="danger"}){const d={danger:{btn:"bg-red-600 hover:bg-red-700 text-white",icon:"text-red-500"},warning:{btn:"bg-amber-500 hover:bg-amber-600 text-white",icon:"text-amber-500"}},f=d[l]||d.danger;return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:s,children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 p-6 transform transition-all",onClick:h=>h.stopPropagation(),children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full bg-red-50 flex items-center justify-center ${f.icon}`,children:c.jsx(nre,{size:20})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e}),c.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:t})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[c.jsx("button",{onClick:s,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:n}),c.jsx("button",{onClick:i,className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${f.btn}`,children:r})]})]})})}function Jae({message:e,seconds:t,onUndo:r,onExpire:n}){const[i,s]=b.useState(t);return b.useEffect(()=>{const l=setInterval(()=>s(f=>f-1),1e3),d=setTimeout(n,t*1e3);return()=>{clearInterval(l),clearTimeout(d)}},[]),c.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex items-center gap-3 bg-gray-900 text-white px-4 py-3 rounded-lg shadow-xl animate-in",children:[c.jsx("span",{className:"text-sm",children:e}),c.jsxs("button",{onClick:r,className:"px-3 py-1 bg-amber-500 hover:bg-amber-600 text-white text-sm font-semibold rounded",children:["Undo (",i,"s)"]})]})}function eie({scores:e,ratings:t,onJumpToTheme:r}){const[n,i]=b.useState(!0),[s,l]=b.useState([]);b.useEffect(()=>{const p=[];ke.themes.forEach(g=>{g.metrics.forEach(v=>{const x=t[v.id];x?.updatedAt&&p.push({metricId:v.id,metricName:v.name,themeName:g.name,themeId:g.id,level:x.level,updatedAt:x.updatedAt})})}),p.sort((g,v)=>new Date(v.updatedAt)-new Date(g.updatedAt)),l(p.slice(0,3))},[t]);const d=ke.themes.filter(p=>{const g=e.themeScores[p.id];return g?.rated<g?.total}),f=e.totalMetrics>0?Math.round(e.ratedCount/e.totalMetrics*100):0,h=e.ratedCount===e.totalMetrics;return c.jsxs("div",{className:`flex-shrink-0 transition-all duration-300 ${n?"w-72":"w-12"}`,children:[c.jsx("button",{onClick:()=>i(!n),className:"absolute -left-3 top-4 w-6 h-6 bg-[#f2a71b] text-white rounded-full shadow-lg flex items-center justify-center text-xs hover:bg-[#d9950f] transition-colors z-10",children:n?"":""}),n?c.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-gray-200 overflow-hidden",children:[c.jsx("div",{className:`px-4 py-3 ${h?"bg-gradient-to-r from-green-500 to-emerald-500":"bg-gradient-to-r from-[#f2a71b] to-indigo-600"} text-white`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"font-bold text-sm",children:"Live Progress"}),h&&c.jsx("span",{className:"text-xs bg-white/20 px-2 py-0.5 rounded-full",children:" Complete!"})]})}),c.jsx("div",{className:"p-4 border-b border-gray-100",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(SC,{progress:f,color:h?"#10B981":"#f2a71b"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("span",{className:"text-lg font-bold text-gray-800",children:c.jsx(dm,{value:f,suffix:"%"})})})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-2xl font-bold text-gray-800",children:c.jsx(dm,{value:e.pct,suffix:"%"})}),c.jsx("div",{className:"text-xs text-gray-500",children:"Maturity Score"}),c.jsxs("div",{className:"text-xs mt-0.5",style:{color:e.ratedCount===e.totalMetrics?"#16A34A":e.ratedCount>0?"#D97706":"#9ca3af"},children:[e.ratedCount,"/",e.totalMetrics," metrics rated"]})]})]})}),d.length>0&&c.jsxs("div",{className:"p-3 border-b border-gray-100",children:[c.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Quick Jump"}),c.jsx("div",{className:"space-y-1",children:d.slice(0,3).map(p=>{const g=e.themeScores[p.id];return c.jsxs("button",{onClick:()=>r(p.id),className:"w-full flex items-center justify-between p-2 rounded-lg hover:bg-amber-900/10 transition-colors group",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:p.color}}),c.jsx("span",{className:"text-xs text-gray-600 group-hover:text-[#f2a71b] truncate",children:p.name})]}),c.jsxs("span",{className:"text-xs text-gray-400",children:[g?.rated,"/",g?.total]})]},p.id)})})]}),s.length>0&&c.jsxs("div",{className:"p-3",children:[c.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Recent Activity"}),c.jsx("div",{className:"space-y-2",children:s.map((p,g)=>c.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg animate-fade-in border-l-[3px]",style:{animationDelay:`${g*100}ms`,borderLeftColor:(ke.themes.find(v=>v.id===p.themeId)||{}).color||"#9ca3af"},children:[c.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${p.level>=2.5?"bg-green-100 text-green-700":p.level>=1.5?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:p.level}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-xs font-medium text-gray-700 truncate",children:p.metricName}),c.jsx("div",{className:"text-xs text-gray-400",children:p.themeName})]})]},g))})]})]}):c.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-2",children:[c.jsxs("div",{className:"relative w-8 h-8 mx-auto",children:[c.jsx(SC,{progress:f,size:32,strokeWidth:3,color:h?"#10B981":"#f2a71b"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("span",{className:"text-xs font-bold text-gray-700",children:f})})]}),c.jsx("div",{className:"text-center mt-2",children:c.jsxs("div",{className:"text-xs font-bold text-gray-700",children:[e.pct,"%"]})})]})]})}function tie({metric:e,rating:t,onRate:r,onComment:n,onConfidence:i,evidence:s,onEvidence:l,locked:d}){const[f,h]=b.useState(!1),[p,g]=b.useState(!1),[v,x]=b.useState(!1),S=t?.confidence||null,[k,j]=b.useState(!1),[_,E]=b.useState("link"),[A,T]=b.useState(""),[C,O]=b.useState(""),[M,P]=b.useState(t?.comment||""),[I,q]=b.useState(null),Z=[{level:1,label:"Foundational",text:e.foundational,color:"#DC2626",bg:"#FFE0B2",border:"#E6B0AA"},{level:2,label:"Evolving",text:e.evolving,color:"#7D6608",bg:"#BBDEFB",border:"#F9E79F"},{level:3,label:"Optimised",text:e.optimised,color:"#16A34A",bg:"#A5D6A7",border:"#A9DFBF"}],U=t?.notTracked?null:t?.level,ce=$=>{d||(q($),r(e.id,$),setTimeout(()=>q(null),300))};return c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm mb-4 overflow-hidden hover-lift transition-all duration-200",children:[c.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("h4",{className:"font-semibold text-gray-800 text-sm truncate",children:e.name}),e.weight>0&&c.jsxs("span",{className:"text-xs bg-[#f2a71b]/10 text-[#f2a71b] px-2 py-0.5 rounded-full font-medium whitespace-nowrap",children:[e.weight," pts"]}),e.weight===0&&c.jsx("span",{className:"text-xs bg-gray-100 text-gray-500 px-2 py-0.5 rounded-full whitespace-nowrap",children:"Supplementary"})]}),c.jsxs("div",{className:"flex items-center gap-1.5 shrink-0 ml-2",children:[e.guidance&&c.jsxs("button",{onClick:()=>x(!v),className:`text-xs font-medium inline-flex items-center gap-1 px-3 py-2 rounded transition-all ${v?"bg-[#f2a71b]/10 text-[#f2a71b]":"text-[#f2a71b] hover:text-[#d9950f] hover:bg-[#f2a71b]/5"}`,children:[c.jsx(wu,{size:12}),v?"Hide":"Guidance"]}),(U||t?.notTracked)&&!d&&c.jsx("button",{onClick:()=>r(e.id,null),className:"text-xs text-gray-400 hover:text-red-500 hover:scale-110 transition-all p-3",title:"Clear rating",children:c.jsx(qn,{size:14})}),c.jsxs("button",{onClick:()=>g(!p),className:`flex items-center gap-1 text-xs px-3 py-2 rounded transition-all button-press ${M?"bg-[#f2a71b]/10 text-[#f2a71b]":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:[c.jsx(vR,{size:12}),M?"Note":"Add note"]})]})]}),e.question&&c.jsx("p",{className:"text-xs text-gray-500 mt-1.5 italic leading-relaxed",children:e.question}),v&&e.guidance&&(()=>{const $=qR.metrics[e.id];return c.jsxs("div",{className:"mt-2 bg-amber-900/10 border-l-4 border-[#f2a71b] p-3 text-xs text-[#1f1f1f]",children:[e.guidance.split(`
`).map((te,L)=>c.jsx("p",{className:`${L>0?"mt-1.5 pl-3 border-l-2 border-amber-200":""} mb-1 leading-relaxed`,children:te},L)),e.improvementAction&&c.jsx("p",{className:"mt-1 text-[#f2a71b] font-medium",children:e.improvementAction}),$&&c.jsxs("div",{className:"space-y-1 mt-3 border-t border-[#f2a71b]/30 pt-2",children:[c.jsxs("details",{className:"group",children:[c.jsx("summary",{className:"cursor-pointer font-semibold text-[#f2a71b] hover:text-[#d4910f] select-none py-0.5",children:"Industry Benchmarks"}),c.jsx("p",{className:"mt-1 pl-4 leading-relaxed opacity-80",children:$.benchmarks})]}),c.jsxs("details",{className:"group",children:[c.jsx("summary",{className:"cursor-pointer font-semibold text-[#f2a71b] hover:text-[#d4910f] select-none py-0.5",children:"Case Study"}),c.jsx("p",{className:"mt-1 pl-4 leading-relaxed opacity-80",children:$.caseStudy})]}),c.jsxs("details",{className:"group",children:[c.jsx("summary",{className:"cursor-pointer font-semibold text-[#f2a71b] hover:text-[#d4910f] select-none py-0.5",children:"Scoring Guide"}),c.jsxs("div",{className:"mt-1 pl-4 leading-relaxed opacity-80 space-y-1",children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Situation:"})," ",$.workedExample.situation]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Rating:"})," ",c.jsx("span",{className:"font-semibold text-[#f2a71b]",children:$.workedExample.rating})]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Rationale:"})," ",$.workedExample.rationale]})]})]}),c.jsxs("details",{className:"group",children:[c.jsx("summary",{className:"cursor-pointer font-semibold text-[#f2a71b] hover:text-[#d4910f] select-none py-0.5",children:"Improvement Tips"}),c.jsx("ul",{className:"mt-1 pl-8 leading-relaxed opacity-80 list-disc space-y-0.5",children:$.improvementTips.map((te,L)=>c.jsx("li",{children:te},L))})]})]})]})})()]}),c.jsxs("div",{className:"divide-y divide-gray-100",role:"radiogroup","aria-label":"Maturity level",children:[Z.map($=>{const te=U===$.level,L=I===$.level;return c.jsxs("button",{onClick:()=>ce($.level),role:"radio","aria-checked":te,tabIndex:te?0:-1,onKeyDown:F=>handleRadioGroupKeyDown(F,[1,2,3],Z.findIndex(ae=>ae.level===U),ae=>ce(ae)),className:`relative w-full text-left px-4 py-2.5 transition-all duration-200 hover:bg-gray-50 ${L?"animate-scale-pop":""}`,style:{backgroundColor:te?$.bg:"white",borderLeft:te?`4px solid ${$.color}`:"4px solid transparent"},children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`transition-transform duration-200 flex-shrink-0 ${te?"scale-110":""}`,children:te?c.jsx(jr,{size:16,style:{color:$.color}}):c.jsx(ote,{size:16,className:"text-gray-300"})}),c.jsx("span",{className:"text-xs font-bold uppercase tracking-wide flex-shrink-0 w-24",style:{color:te?$.color:"#9CA3AF"},children:$.label}),c.jsx("p",{className:"text-xs leading-relaxed flex-1",style:{color:te?$.color:"#6B7280"},children:$.text})]}),te&&c.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 rounded-full animate-pulse",style:{backgroundColor:$.color}})]},$.level)}),c.jsx("button",{onClick:()=>{d||r(e.id,{level:0,notTracked:!0})},className:`w-full text-left px-4 py-2 border-t border-gray-200 transition-all duration-200 hover:bg-gray-100 ${t?.notTracked?"bg-gray-100 border-l-4 border-l-gray-400":"border-l-4 border-l-transparent"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex-shrink-0",children:t?.notTracked?c.jsx(jr,{size:16,className:"text-gray-500"}):c.jsx(wu,{size:16,className:"text-gray-300"})}),c.jsx("span",{className:"text-xs font-bold uppercase tracking-wide flex-shrink-0 w-24 text-gray-500",children:"Not tracked"}),c.jsx("p",{className:"text-xs leading-relaxed text-gray-400",children:"We don't track / have this information"})]})})]}),U&&c.jsxs("div",{className:"px-4 py-2 bg-gray-50 border-t border-gray-100 flex flex-wrap items-center gap-2 animate-fade-in",role:"radiogroup","aria-label":"Fine-tune score",children:[c.jsx("span",{className:"text-xs text-gray-500",children:"Fine-tune:"}),[1,1.5,2,2.5,3].map($=>c.jsx("button",{onClick:()=>ce($),role:"radio","aria-checked":U===$,tabIndex:U===$?0:-1,onKeyDown:te=>handleRadioGroupKeyDown(te,[1,1.5,2,2.5,3],[1,1.5,2,2.5,3].indexOf(U),L=>ce(L)),className:`text-xs px-3 py-1.5 rounded-full transition-all duration-200 button-press ${U===$?"bg-[#f2a71b] text-white font-bold scale-110 shadow-md":"bg-gray-200 text-gray-600 hover:bg-gray-300 hover:scale-105"}`,children:$},$)),c.jsxs("div",{className:"flex justify-between w-full mt-0.5",style:{paddingLeft:"70px"},children:[c.jsx("span",{className:"text-[10px] text-gray-400",children:"Foundational"}),c.jsx("span",{className:"text-[10px] text-gray-400",children:"Evolving"}),c.jsx("span",{className:"text-[10px] text-gray-400",children:"Optimised"})]})]}),p&&c.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 animate-fade-in",children:c.jsx("textarea",{value:M,onChange:$=>{P($.target.value),n(e.id,$.target.value)},placeholder:"Add evidence notes, reasoning, or commentary...",className:"w-full text-xs border border-gray-200 rounded p-2 h-16 resize-none focus:outline-none focus:ring-2 focus:ring-[#f2a71b] transition-shadow"})}),c.jsx("div",{className:"px-3 py-1.5 border-t border-gray-100 flex justify-center",children:c.jsxs("button",{onClick:()=>h(!f),className:"text-xs text-gray-400 hover:text-amber-600 transition-colors flex items-center gap-1",children:[f?"Hide detail":"Add detail (confidence & evidence)",c.jsx(Ui,{size:12,className:f?"rotate-180 transition-transform":"transition-transform"})]})}),f&&c.jsxs("div",{children:[c.jsxs("div",{className:"px-4 py-2.5 bg-gray-50 border-t border-gray-100",children:[c.jsx("label",{className:"text-xs font-medium text-gray-500 block mb-1.5",children:"Confidence"}),c.jsx("div",{className:"flex gap-1.5",role:"radiogroup","aria-label":"Confidence level",children:["low","medium","high"].map($=>c.jsx("button",{onClick:()=>i&&i(e.id,$),role:"radio","aria-checked":S===$,tabIndex:S===$||!S&&$==="low"?0:-1,onKeyDown:te=>handleRadioGroupKeyDown(te,["low","medium","high"],["low","medium","high"].indexOf(S||"low"),L=>i&&i(e.id,L)),className:`flex-1 py-1.5 px-3 text-xs font-medium rounded transition-colors text-center ${S===$?$==="high"?"bg-green-600 text-white":$==="medium"?"bg-amber-500 text-white":"bg-orange-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:$.charAt(0).toUpperCase()+$.slice(1)},$))})]}),c.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-100",children:[c.jsxs("button",{onClick:()=>j(!k),className:"flex items-center gap-2 text-sm font-medium text-gray-600 hover:text-gray-900",children:[k?c.jsx(op,{size:14}):c.jsx(Ui,{size:14}),c.jsxs("span",{children:["Evidence (",(s||[]).length,")"]})]}),k&&c.jsxs("div",{className:"mt-3 space-y-2",children:[(s||[]).length===0&&c.jsx("p",{className:"text-xs text-gray-400 italic",children:"Add links, notes, or documents to support your rating. Evidence strengthens assessment credibility during due diligence."}),(s||[]).map(($,te)=>c.jsxs("div",{className:"flex items-start justify-between p-2 bg-gray-50 rounded text-sm",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium text-gray-800",children:$.label}),$.type==="link"?c.jsx("a",{href:$.content,target:"_blank",rel:"noopener noreferrer",className:"text-[#f2a71b] hover:underline break-all",children:$.content}):c.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:$.content})]}),c.jsx("button",{onClick:()=>l((s||[]).filter((L,F)=>F!==te)),className:"text-red-500 hover:text-red-700 text-xs ml-2",children:"Remove"})]},te)),c.jsxs("div",{className:"p-3 bg-amber-900/10 rounded space-y-2",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("select",{value:_,onChange:$=>E($.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm",children:[c.jsx("option",{value:"link",children:"Link"}),c.jsx("option",{value:"note",children:"Note"})]}),c.jsx("input",{type:"text",placeholder:"Label",value:A,onChange:$=>T($.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm"})]}),_==="link"?c.jsx("input",{type:"url",placeholder:"https://...",value:C,onChange:$=>O($.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}):c.jsx("textarea",{placeholder:"Add notes...",value:C,onChange:$=>O($.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",rows:"2"}),c.jsx("button",{onClick:()=>{A&&C&&(l([...s||[],{type:_,label:A,content:C}]),T(""),O(""))},className:"px-3 py-1 bg-[#f2a71b] text-white text-sm rounded hover:bg-[#d9950f]",children:"Add"})]})]})]})]})]})}function rie({themes:e,selectedTheme:t,onSelect:r,scores:n}){return c.jsxs("div",{className:"hidden md:block w-52 min-w-52 bg-white border-r border-gray-200 overflow-y-auto",children:[c.jsx("div",{className:"p-3 border-b border-gray-200 bg-gray-50",children:c.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Growth Themes"})}),e.map(i=>{const s=n?.themeScores?.[i.id],l=t===i.id;return c.jsxs("button",{onClick:()=>r(i.id),className:`w-full text-left px-3 py-2.5 border-b border-gray-100 transition-all flex items-center gap-2 ${l?"bg-amber-900/10 border-l-4 ":"hover:bg-gray-50 border-l-4 border-l-transparent"}`,style:l?{borderLeftColor:i.color}:{},children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"flex items-center gap-1.5",children:c.jsx("span",{className:`text-xs font-semibold truncate ${l?"":"text-gray-700"}`,style:l?{color:i.color}:{},children:c.jsxs("span",{className:"flex items-center gap-1",children:[oa(i.icon,12)," ",i.name]})})}),c.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[c.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1.5",children:c.jsx("div",{className:"h-1.5 rounded-full transition-all",style:{width:`${s?s.rated/s.total*100:0}%`,backgroundColor:i.color}})}),c.jsxs("span",{className:"text-xs text-gray-400",children:[s?.rated||0,"/",s?.total||i.metrics.length]})]})]}),s?.rated===s?.total&&s?.total>0&&c.jsx(jr,{size:14,className:"text-green-500 flex-shrink-0"})]},i.id)})]})}function nie({ratings:e}){const t=[...ke.themes].sort((l,d)=>d.totalWeight-l.totalWeight),r=Math.ceil(t.length/2),n=t.slice(0,r),i=t.slice(r),s=l=>c.jsxs("div",{children:[c.jsxs("div",{className:"text-xs font-semibold mb-1 flex items-center gap-1.5",style:{color:l.color},children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full flex-shrink-0",style:{backgroundColor:l.color}}),oa(l.icon,12,"flex-shrink-0")," ",l.name]}),c.jsx("div",{className:"flex flex-wrap gap-1",children:l.metrics.map(d=>{const f=e[d.id],h=Xae(f?.level);return c.jsxs("div",{title:`${d.name}: ${jC(f?.level)}`,className:"relative group",children:[c.jsx("div",{className:"w-9 h-9 rounded flex items-center justify-center text-sm font-bold cursor-default border",style:{backgroundColor:h.bg,color:h.text,borderColor:h.border},children:f?.level||"-"}),c.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 bg-gray-900 text-white text-xs rounded-lg px-3 py-2 whitespace-nowrap opacity-0 group-hover:opacity-100 pointer-events-none z-10 shadow-lg",style:{borderTop:`3px solid ${l.color}`},children:[c.jsx("div",{className:"font-semibold",children:d.name}),c.jsxs("div",{className:"text-gray-300 mt-0.5",children:[f?.level||0,"/3  ",jC(f?.level)]})]})]},d.id)})})]},l.id);return c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[c.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-3",children:"Maturity Heatmap (All Metrics)"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-0",children:[c.jsx("div",{className:"space-y-3",children:n.map(s)}),c.jsx("div",{className:"space-y-3",children:i.map(s)})]}),c.jsxs("div",{className:"flex items-center gap-4 mt-3 pt-3 border-t border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 rounded bg-gray-100 border border-gray-300"}),c.jsx("span",{className:"text-xs text-gray-500",children:"Not rated"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#FFE0B2"}}),c.jsx("span",{className:"text-xs text-gray-500",children:"Foundational"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#BBDEFB"}}),c.jsx("span",{className:"text-xs text-gray-500",children:"Evolving"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#A5D6A7"}}),c.jsx("span",{className:"text-xs text-gray-500",children:"Optimised"})]})]})]})}function aie({ratings:e}){const t=[];ke.themes.forEach(i=>i.metrics.forEach(s=>{const l=e[s.id];l?.level&&s.weight>0&&t.push({...s,level:l.level,theme:i.name,themeColor:i.color,themeIcon:i.icon,weightedScore:l.level*s.weight})})),t.sort((i,s)=>s.weightedScore-i.weightedScore);const r=t.filter(i=>i.level>=2.5).slice(0,5),n=t.filter(i=>i.level<=1.5).sort((i,s)=>s.weight*(3-s.level)-i.weight*(3-i.level)).slice(0,5);return c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-4",children:[c.jsxs("h3",{className:"text-sm font-bold text-green-700 mb-2 flex items-center gap-1",children:[c.jsx(m1,{size:14})," Top Strengths"]}),c.jsx("p",{className:"text-xs text-green-600 opacity-70 mb-1 -mt-1",children:"Ranked by weighted contribution (score  importance)"}),r.length===0?c.jsx("p",{className:"text-xs text-gray-400 italic",children:"Rate metrics to see strengths"}):r.map((i,s)=>c.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-green-50 last:border-0 pl-2 border-l-2",style:{borderLeftColor:i.themeColor+"40"},children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-xs font-medium text-gray-700",children:i.name}),c.jsxs("span",{className:"text-xs text-gray-400 ml-1 inline-flex items-center gap-1",children:[oa(i.themeIcon,11,"shrink-0")," ",c.jsx("span",{className:"w-1.5 h-1.5 rounded-full inline-block shrink-0",style:{backgroundColor:i.themeColor}}),i.theme]})]}),c.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[c.jsxs("span",{className:"text-xs font-bold text-green-600 bg-green-50 px-1.5 py-0.5 rounded-full",children:[i.level,"/3"]}),c.jsxs("span",{className:"text-xs text-gray-400 font-medium",children:["wt ",i.weight]})]})]},s))]}),c.jsxs("div",{className:"bg-white rounded-lg border border-red-200 p-4",children:[c.jsxs("h3",{className:"text-sm font-bold text-red-700 mb-2 flex items-center gap-1",children:[c.jsx(lp,{size:14})," Key Improvement Areas"]}),c.jsx("p",{className:"text-xs text-red-600 opacity-70 mb-1 -mt-1",children:"Ranked by improvement potential  highest impact first"}),n.length===0?c.jsx("p",{className:"text-xs text-gray-400 italic",children:"Rate metrics to see areas for improvement"}):n.map((i,s)=>c.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-red-50 last:border-0 pl-2 border-l-2",style:{borderLeftColor:i.themeColor+"40"},children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-xs font-medium text-gray-700",children:i.name}),c.jsxs("span",{className:"text-xs text-gray-400 ml-1 inline-flex items-center gap-1",children:[oa(i.themeIcon,11,"shrink-0")," ",c.jsx("span",{className:"w-1.5 h-1.5 rounded-full inline-block shrink-0",style:{backgroundColor:i.themeColor}}),i.theme]})]}),c.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[c.jsxs("span",{className:"text-xs font-bold text-red-600 bg-red-50 px-1.5 py-0.5 rounded-full",children:[i.level,"/3"]}),c.jsxs("span",{className:"text-xs text-gray-400 font-medium",children:["wt ",i.weight]})]})]},s))]})]})}const iie=e=>{const t=i=>i===3?"Optimised":i===2?"Evolving":i===1?"Foundational":"Not Rated",r=i=>{const s=String(i??"").replace(/"/g,'"""');return/^[=+\-@\t\r]/.test(s)?"'"+s:s},n=[["Theme","Metric","Weight","Level","Maturity","Comment"]];return ke.themes.forEach(i=>{i.metrics.forEach(s=>{const l=e.ratings[s.id];n.push([r(i.name),r(s.name),s.weight,l?.level||"",r(t(l?.level)),r(l?.comment||"").replace(/"/g,'""')])})}),n.map(i=>i.map(s=>`"${s}"`).join(",")).join(`
`)},sie=(e,t,r,n)=>{const{jsPDF:i}=window.jspdf,s=new i("p","mm","a4"),l=210,d=15,f=l-2*d;let h=d;const p=new Date(e.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"}),{readinessScore:g,readinessLevel:v}=n,x=n.pct,S=v==="On Track"?[30,132,73]:v==="Developing"?[183,149,11]:[146,43,33],k=(P,I)=>P>=I?[5,150,105]:P>=I-10?[217,119,6]:[220,38,38];s.setFontSize(8),s.setTextColor(107,114,128),s.text("GROWTH DRIVERS MATURITY FRAMEWORK",l/2,h,{align:"center"}),h+=10,s.setFontSize(20),s.setTextColor(31,31,31),s.text("M&A Readiness Executive Summary",l/2,h,{align:"center"}),h+=7,s.setFontSize(11),s.setTextColor(100,116,139),s.text(t+" | "+(r||"Professional Services")+" | "+p,l/2,h,{align:"center"}),h+=3,s.setDrawColor(31,31,31),s.setLineWidth(.5),s.line(d,h,l-d,h),h+=10,s.setFillColor(255,252,209),s.setDrawColor(31,31,31),s.roundedRect(d,h,f,42,3,3,"FD"),s.setFontSize(8),s.setTextColor(100,116,139),s.text("M&A READINESS SCORE",l/2,h+8,{align:"center"}),s.setFontSize(40),s.setTextColor(...S),s.text(g+"%",l/2,h+26,{align:"center"}),s.setFontSize(13),s.text(v,l/2,h+34,{align:"center"}),s.setFontSize(8),s.setTextColor(148,163,184),s.text("Overall Maturity: "+x+"%",l/2,h+40,{align:"center"}),h+=52,s.setFontSize(12),s.setTextColor(31,31,31),s.text("Theme Maturity Overview",d,h),h+=1,s.setDrawColor(31,31,31),s.setLineWidth(.3),s.line(d,h,l-d,h),h+=6;const j=f/5;ke.themes.forEach((P,I)=>{const q=I%5,Z=Math.floor(I/5),U=d+q*j,ce=h+Z*26,$=n.themeScores[P.id],te=$?Math.round($.pct):0,L=pt["M&A-Ready (PSF)"][P.id]||65,F=k(te,L);s.setDrawColor(226,232,240),s.setFillColor(255,255,255),s.roundedRect(U+1,ce,j-2,24,1.5,1.5,"FD"),s.setFontSize(6.5),s.setTextColor(100,116,139),s.text(P.name,U+j/2,ce+5,{align:"center"}),s.setFontSize(16),s.setTextColor(...F),s.text(te+"%",U+j/2,ce+16,{align:"center"}),s.setFontSize(5.5),s.setTextColor(148,163,184),s.text("Target: "+L+"%",U+j/2,ce+21,{align:"center"})}),h+=58;const _=[];ke.themes.forEach(P=>P.metrics.forEach(I=>{const q=e.ratings[I.id];q&&q.level&&_.push({name:I.name,theme:P.name,level:q.level,weight:I.weight||100})}));const E=_.filter(P=>P.level>=2.5).sort((P,I)=>I.level*I.weight-P.level*P.weight).slice(0,3),A=_.filter(P=>P.level<=1.5).sort((P,I)=>P.level-I.level).slice(0,3),T=f/2-4;s.setFontSize(11),s.setTextColor(5,150,105),s.text("Top Strengths",d,h),s.setDrawColor(5,150,105),s.setLineWidth(.3),s.line(d,h+1,d+T,h+1),h+=6,s.setFontSize(8),E.length?E.forEach((P,I)=>{s.setTextColor(51,65,85),s.text(I+1+". "+P.name,d,h),s.setTextColor(100,116,139),s.text(P.theme,d+T-2,h,{align:"right"}),h+=5}):(s.setTextColor(148,163,184),s.text("No strong ratings yet",d,h),h+=5);let C=h-(E.length?E.length*5:5)-6;const O=d+T+8;s.setFontSize(11),s.setTextColor(220,38,38),s.text("Priority Gaps",O,C),s.setDrawColor(220,38,38),s.setLineWidth(.3),s.line(O,C+1,O+T,C+1),C+=6,s.setFontSize(8),A.length?A.forEach((P,I)=>{s.setTextColor(51,65,85),s.text(I+1+". "+P.name,O,C),s.setTextColor(100,116,139),s.text(P.theme,O+T-2,C,{align:"right"}),C+=5}):(s.setTextColor(148,163,184),s.text("No critical gaps identified",O,C),C+=5),h=Math.max(h,C)+10,s.setDrawColor(226,232,240),s.setLineWidth(.2),s.line(d,h,l-d,h),h+=5,s.setFontSize(7),s.setTextColor(148,163,184),s.text("Growth Drivers Maturity Framework | Confidential | Generated "+new Date().toLocaleDateString("en-GB"),l/2,h,{align:"center"}),h+=8,s.setFillColor(248,249,250),s.setDrawColor(229,231,235),s.roundedRect(d,h,f,14,2,2,"FD"),s.setFontSize(9),s.setTextColor(31,41,55),s.text("Next Steps",d+5,h+5),s.setFontSize(7),s.setTextColor(75,85,99),s.text("For a detailed review, visit https://growthlens.app or use the Contact form in-app",d+5,h+10);const M=(t||"assessment").replace(/[^a-zA-Z0-9\-_ ]/g,"");s.save(M+"-executive-summary.pdf")},oie=(e,t,r,n)=>{const{jsPDF:i}=window.jspdf,s=new i("p","mm","a4"),l=210,d=12,f=l-2*d;let h=d;const p=Object.keys(wC).find(O=>O.toLowerCase()===(r||"").toLowerCase())||Object.keys(wC)[0],g=pt[p]||pt["M&A-Ready (PSF)"]||{},v=new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),x=[];ke.themes.forEach(O=>{O.metrics.forEach(M=>{const P=e.ratings[M.id],I=P?P.level:0;x.push({metricName:M.name,themeName:O.name,weight:M.weight,level:I,strengthScore:I>0?I*M.weight:0,weaknessScore:I<3?M.weight*(3-I):0})})});const S=x.filter(O=>O.level>0).sort((O,M)=>M.strengthScore-O.strengthScore).slice(0,5),k=x.filter(O=>O.level<3).sort((O,M)=>M.weaknessScore-O.weaknessScore).slice(0,5);s.setFillColor(27,79,114),s.rect(0,0,l,45,"F"),s.setFontSize(20),s.setTextColor(255,255,255),s.text("Growth Drivers Maturity Framework",l/2,18,{align:"center"}),s.setFontSize(12),s.text(t+"  Maturity Report",l/2,28,{align:"center"}),s.setFontSize(9),s.text(v+" | "+(r||"Professional Services"),l/2,36,{align:"center"}),h=55,s.setFontSize(10),s.setTextColor(100,116,139),s.text("OVERALL MATURITY",l/2,h,{align:"center"}),h+=8,s.setFontSize(36),s.setTextColor(27,79,114),s.text(n.pct+"%",l/2,h,{align:"center"}),h+=12,s.setFontSize(12),s.setTextColor(31,31,31),s.text("Theme Performance",d,h),h+=2,s.setDrawColor(31,31,31),s.setLineWidth(.3),s.line(d,h,l-d,h),h+=6;const j=f/5;ke.themes.forEach((O,M)=>{const P=M%5,I=Math.floor(M/5),q=d+P*j,Z=h+I*24,U=n.themeScores[O.id],ce=U?Math.round(U.pct):0,$=ce>=66?[30,132,73]:ce>=38?[183,149,11]:[146,43,33];s.setDrawColor(200,200,200),s.setFillColor(255,255,255),s.roundedRect(q+1,Z,j-2,22,1.5,1.5,"FD"),s.setFontSize(6),s.setTextColor(100,116,139),s.text(O.name,q+j/2,Z+5,{align:"center"}),s.setFontSize(16),s.setTextColor(...$),s.text(ce+"%",q+j/2,Z+15,{align:"center"}),s.setFontSize(5),s.setTextColor(148,163,184),s.text("Benchmark: "+(g[O.id]||65)+"%",q+j/2,Z+20,{align:"center"})}),h+=54,s.setFontSize(12),s.setTextColor(31,31,31),s.text("Benchmark Comparison",d,h),h+=2,s.line(d,h,l-d,h),h+=2;const _=ke.themes.map(O=>{const M=n.themeScores[O.id],P=M?Math.round(M.pct):0,I=g[O.id]||65,q=P-I;return[O.name,P+"%",I+"%",(q>=0?"+":"")+q+"%",q>=0?"Above":q>=-10?"Near":"Below"]});s.autoTable({startY:h,head:[["Theme","Your Score","Benchmark","Gap","Status"]],body:_,margin:{left:d,right:d},styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[27,79,114],textColor:255},columnStyles:{0:{cellWidth:50},4:{cellWidth:20}},didParseCell:function(O){if(O.section==="body"&&O.column.index===4){const M=O.cell.raw;M==="Above"?O.cell.styles.textColor=[5,150,105]:M==="Near"?O.cell.styles.textColor=[217,119,6]:O.cell.styles.textColor=[220,38,38]}}}),h=s.lastAutoTable.finalY+8,h>230&&(s.addPage(),h=d),s.setFontSize(12),s.setTextColor(31,31,31),s.text("Key Strengths",d,h),h+=2,s.autoTable({startY:h,head:[["#","Metric","Theme","Rating"]],body:S.map((O,M)=>[M+1,O.metricName,O.themeName,O.level>=2.5?"Optimised":O.level>=1.5?"Evolving":"Foundational"]),margin:{left:d,right:l/2+2},styles:{fontSize:7,cellPadding:1.5},headStyles:{fillColor:[5,150,105]},columnStyles:{0:{cellWidth:8}}});const E=s.lastAutoTable.finalY;s.setFontSize(12),s.setTextColor(31,31,31),s.text("Key Opportunities",l/2+5,h-2),s.autoTable({startY:h,head:[["#","Metric","Theme","Impact"]],body:k.map((O,M)=>[M+1,O.metricName,O.themeName,O.level===0?"Not Rated":"Foundational"]),margin:{left:l/2+5,right:d},styles:{fontSize:7,cellPadding:1.5},headStyles:{fillColor:[217,119,6]},columnStyles:{0:{cellWidth:8}}}),h=Math.max(E,s.lastAutoTable.finalY)+8,h>230&&(s.addPage(),h=d),s.setFontSize(12),s.setTextColor(31,31,31),s.text("Maturity Heatmap",d,h),h+=2,s.line(d,h,l-d,h),h+=2;const A=[];ke.themes.forEach(O=>{O.metrics.forEach(M=>{const P=e.ratings[M.id],I=P?P.level:0;A.push([O.name,M.name,I===0?"Not Rated":I<=1?"Foundational":I<=2?"Evolving":"Optimised"])})}),s.autoTable({startY:h,head:[["Theme","Metric","Level"]],body:A,margin:{left:d,right:d},styles:{fontSize:6.5,cellPadding:1.5},headStyles:{fillColor:[27,79,114]},columnStyles:{0:{cellWidth:40},2:{cellWidth:25}},didParseCell:function(O){if(O.section==="body"&&O.column.index===2){const M=O.cell.raw;M==="Optimised"?(O.cell.styles.textColor=[5,150,105],O.cell.styles.fontStyle="bold"):M==="Evolving"?O.cell.styles.textColor=[27,79,114]:M==="Foundational"?O.cell.styles.textColor=[217,119,6]:O.cell.styles.textColor=[180,180,180]}}});const T=s.getNumberOfPages();for(let O=1;O<=T;O++)s.setPage(O),s.setFontSize(7),s.setTextColor(148,163,184),s.text("Growth Drivers Maturity Framework | Confidential | "+t,l/2,290,{align:"center"}),s.text("Page "+O+" of "+T,l-d,290,{align:"right"});const C=(t||"assessment").replace(/[^a-zA-Z0-9\-_ ]/g,"");s.save(C+"-maturity-report.pdf")};function lie(e,t,r,n,i){const{jsPDF:s}=window.jspdf,l=new s("p","mm","a4"),d=210,f=12,h=d-2*f,p=pt[i]||pt["M&A-Ready (PSF)"]||{},g=new Date(e.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"}),v=n.pct,x=n.readinessScore,S=n.readinessLevel,k=S==="On Track"?[30,132,73]:S==="Developing"?[183,149,11]:[146,43,33],j=ke.themes.map(L=>{const F=n.themeScores[L.id],ae=p[L.id]||65,ue=F?Math.round(F.pct)-ae:-ae,ee=L.metrics.map(D=>{const H=e.ratings[D.id];return{name:D.name,score:H?H.level:0,max:3,comment:H&&H.comment||"",confidence:H&&H.confidence||"",weight:D.weight,action:D.improvementAction||"",metricBenchmark:D.benchmark||null}});return{id:L.id,name:L.name,color:L.color,pct:F?Math.round(F.pct):0,benchmark:ae,gap:ue,metrics:ee}}),_=[];j.forEach(L=>{L.metrics.forEach(F=>{const ae=Math.round(F.score/F.max*100),ue=F.metricBenchmark||L.benchmark,ee=ue-ae;ee>0&&_.push({theme:L.name,metric:F.name,pct:ae,target:ue,gap:ee,action:F.action})})}),_.sort((L,F)=>F.gap-L.gap);const E=[...j].sort((L,F)=>F.gap-L.gap),A=E.filter(L=>L.gap>=0).slice(0,3),T=E.filter(L=>L.gap<0).sort((L,F)=>L.gap-F.gap).slice(0,3);l.setFillColor(27,79,114),l.rect(0,0,d,80,"F"),l.setFontSize(28),l.setTextColor(255,255,255),l.text("Detailed Assessment Report",d/2,35,{align:"center"}),l.setFontSize(14),l.text(t,d/2,50,{align:"center"}),l.setFontSize(10),l.text(g+" | "+(r||"Professional Services"),d/2,62,{align:"center"});let C=100;l.setFillColor(255,252,209),l.setDrawColor(31,31,31),l.roundedRect(f+20,C,h-40,50,3,3,"FD"),l.setFontSize(9),l.setTextColor(100,116,139),l.text("M&A READINESS SCORE",d/2,C+12,{align:"center"}),l.setFontSize(44),l.setTextColor(...k),l.text(x+"%",d/2,C+32,{align:"center"}),l.setFontSize(14),l.text(S,d/2,C+42,{align:"center"}),C=170,l.setFontSize(10),l.setTextColor(51,65,85),l.text("Overall Maturity: "+v+"%",d/2,C,{align:"center"}),l.text("Metrics Rated: "+n.ratedCount+" of "+n.totalMetrics,d/2,C+7,{align:"center"}),l.text("Benchmark Profile: "+(i||"M&A-Ready (PSF)"),d/2,C+14,{align:"center"}),l.addPage(),C=f,l.setFontSize(16),l.setTextColor(27,79,114),l.text("Executive Summary",f,C),C+=2,l.setDrawColor(27,79,114),l.setLineWidth(.5),l.line(f,C,d-f,C),C+=8,l.autoTable({startY:C,head:[["Theme","Score","Benchmark","Gap","Status"]],body:j.map(L=>{const F=L.gap>=0?"Above":L.gap>=-10?"Near":"Below";return[L.name,L.pct+"%",L.benchmark+"%",(L.gap>=0?"+":"")+L.gap+"%",F]}),margin:{left:f,right:f},styles:{fontSize:8,cellPadding:2.5},headStyles:{fillColor:[27,79,114]},didParseCell:function(L){if(L.section==="body"&&L.column.index===4){const F=L.cell.raw;F==="Above"?L.cell.styles.textColor=[5,150,105]:F==="Near"?L.cell.styles.textColor=[217,119,6]:L.cell.styles.textColor=[220,38,38]}}}),C=l.lastAutoTable.finalY+10,A.length&&(l.setFontSize(11),l.setTextColor(5,150,105),l.text("Theme Strengths (Above Benchmark)",f,C),C+=5,A.forEach(L=>{l.setFontSize(8),l.setTextColor(51,65,85),l.text(" "+L.name+" ("+L.pct+"% vs "+L.benchmark+"% benchmark, +"+L.gap+"%)",f+3,C),C+=5}),C+=3),T.length&&(l.setFontSize(11),l.setTextColor(220,38,38),l.text("Priority Gaps (Below Benchmark)",f,C),C+=5,T.forEach(L=>{l.setFontSize(8),l.setTextColor(51,65,85),l.text(" "+L.name+" ("+L.pct+"% vs "+L.benchmark+"% benchmark, "+L.gap+"%)",f+3,C),C+=5})),l.addPage(),C=f,l.setFontSize(16),l.setTextColor(27,79,114),l.text("Theme Detail",f,C),C+=2,l.setDrawColor(27,79,114),l.setLineWidth(.5),l.line(f,C,d-f,C),C+=8,j.forEach(L=>{C>240&&(l.addPage(),C=f),l.setFontSize(11),l.setTextColor(27,79,114),l.text(L.name+"  "+L.pct+"%",f,C),l.setFontSize(8),l.setTextColor(148,163,184),l.text("Benchmark: "+L.benchmark+"% | Gap: "+(L.gap>=0?"+":"")+L.gap+"%",d-f,C,{align:"right"}),C+=3;const F=L.metrics.map(ae=>{const ue=ae.score===0?"Not Rated":ae.score<=1?"Foundational":ae.score<=2?"Evolving":"Optimised";return[ae.name,ue,ae.comment||"-"]});l.autoTable({startY:C,head:[["Metric","Level","Notes"]],body:F,margin:{left:f,right:f},styles:{fontSize:7,cellPadding:1.5},headStyles:{fillColor:[100,116,139]},columnStyles:{0:{cellWidth:55},1:{cellWidth:22}},didParseCell:function(ae){if(ae.section==="body"&&ae.column.index===1){const ue=ae.cell.raw;ue==="Optimised"?ae.cell.styles.textColor=[5,150,105]:ue==="Evolving"?ae.cell.styles.textColor=[27,79,114]:ue==="Foundational"?ae.cell.styles.textColor=[217,119,6]:ae.cell.styles.textColor=[180,180,180]}}}),C=l.lastAutoTable.finalY+6}),l.addPage(),C=f,l.setFontSize(16),l.setTextColor(27,79,114),l.text("Benchmark Comparison",f,C),C+=2,l.setDrawColor(27,79,114),l.setLineWidth(.5),l.line(f,C,d-f,C),C+=8;const O=y1,M=["Theme",...O,"Your Score"],P=j.map(L=>{const F=[L.name];return O.forEach(ae=>F.push((pt[ae][L.id]||"-")+"%")),F.push(L.pct+"%"),F});l.autoTable({startY:C,head:[M],body:P,margin:{left:f,right:f},styles:{fontSize:7,cellPadding:2},headStyles:{fillColor:[27,79,114]}}),l.addPage(),C=f,l.setFontSize(16),l.setTextColor(27,79,114),l.text("Improvement Roadmap",f,C),C+=2,l.setDrawColor(27,79,114),l.setLineWidth(.5),l.line(f,C,d-f,C),C+=8;const I=_.filter(L=>L.gap>=10),q=_.filter(L=>L.gap>=5&&L.gap<10),Z=_.filter(L=>L.gap>0&&L.gap<5);[{title:"Critical Improvements (10%+ Gap)",items:I,color:[220,38,38]},{title:"Important Improvements (5-9% Gap)",items:q,color:[217,119,6]},{title:"Nice to Have (1-4% Gap)",items:Z,color:[100,116,139]}].forEach(L=>{L.items.length&&(C>250&&(l.addPage(),C=f),l.setFontSize(10),l.setTextColor(...L.color),l.text(L.title,f,C),C+=3,l.autoTable({startY:C,head:[["Theme","Metric","Current","Target","Gap"]],body:L.items.map(F=>[F.theme,F.metric,F.pct+"%",F.target+"%",F.gap+"%"]),margin:{left:f,right:f},styles:{fontSize:7,cellPadding:1.5},headStyles:{fillColor:L.color},columnStyles:{0:{cellWidth:38},1:{cellWidth:55}}}),C=l.lastAutoTable.finalY+6)}),l.addPage(),C=f,l.setFontSize(16),l.setTextColor(27,79,114),l.text("Appendix: Full Metric Scores",f,C),C+=2,l.setDrawColor(27,79,114),l.setLineWidth(.5),l.line(f,C,d-f,C),C+=5;const ce=[];j.forEach(L=>{L.metrics.forEach(F=>{const ae=Math.round(F.score/F.max*100);ce.push([L.name,F.name,F.score+"/"+F.max,ae+"%",F.weight])})}),l.autoTable({startY:C,head:[["Theme","Metric","Score","%","Weight"]],body:ce,margin:{left:f,right:f},styles:{fontSize:6.5,cellPadding:1.5},headStyles:{fillColor:[27,79,114]},columnStyles:{0:{cellWidth:35},1:{cellWidth:55},2:{cellWidth:15},3:{cellWidth:15}}});const $=l.getNumberOfPages();for(let L=1;L<=$;L++)l.setPage(L),l.setFontSize(7),l.setTextColor(148,163,184),l.text("Growth Drivers Maturity Framework | Confidential | "+t,d/2,290,{align:"center"}),l.text("Page "+L+" of "+$,d-f,290,{align:"right"});const te=(t||"assessment").replace(/[^a-zA-Z0-9\-_ ]/g,"");l.save(te+"-detailed-report.pdf")}function cie({assessment:e,firmName:t,firmSector:r,scores:n,benchmarkProfile:i}){return c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[c.jsxs("h3",{className:"text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[c.jsx(VO,{size:14})," Export Assessment"]}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[c.jsxs("button",{onClick:()=>{rl("Export Exec Summary"),sie(e,t,r,n)},className:"flex flex-col items-center justify-center gap-2 px-3 py-4 bg-gray-800 hover:bg-gray-700 text-white rounded-lg text-sm font-medium transition-colors shadow-sm",children:[c.jsx(cp,{size:20}),c.jsx("span",{className:"text-xs text-center leading-tight",children:"Executive Summary"})]}),c.jsxs("button",{onClick:()=>{rl("Export PDF"),oie(e,t,r,n)},className:"flex flex-col items-center justify-center gap-2 px-3 py-4 bg-gray-800 hover:bg-gray-700 text-white rounded-lg text-sm font-medium transition-colors shadow-sm",children:[c.jsx(fR,{size:20}),c.jsx("span",{className:"text-xs text-center leading-tight",children:"Maturity Report"})]}),c.jsxs("button",{onClick:()=>{rl("Export Detailed Report"),lie(e,t,r,n,i)},className:"flex flex-col items-center justify-center gap-2 px-3 py-4 bg-gray-800 hover:bg-gray-700 text-white rounded-lg text-sm font-medium transition-colors shadow-sm",children:[c.jsx(Xc,{size:20}),c.jsx("span",{className:"text-xs text-center leading-tight",children:"Detailed Report"})]}),c.jsxs("button",{onClick:()=>{const s=iie(e),l=new Blob([s],{type:"text/csv"}),d=URL.createObjectURL(l),f=document.createElement("a");f.href=d,f.download=(t||"assessment")+"-ratings.csv",f.click()},className:"flex flex-col items-center justify-center gap-2 px-3 py-4 bg-gray-800 hover:bg-gray-700 text-white rounded-lg text-sm font-medium transition-colors shadow-sm",children:[c.jsx(VO,{size:20}),c.jsx("span",{className:"text-xs text-center leading-tight",children:"Download CSV"})]})]})]})}function uie({radarData:e,benchmarkProfile:t}){const r=pt[t||"M&A-Ready (PSF)"],n=e.map(i=>{const s=ke.themes.find(l=>l.name===i.fullName);return{...i,benchmark:s&&r[s.id]||50}});return c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[c.jsxs("h3",{className:"text-sm font-bold text-gray-700 flex items-center gap-2 mb-3",children:[c.jsx(Su,{size:14})," Maturity Overview"]}),c.jsx(xl,{width:"100%",height:320,children:c.jsxs(oR,{data:n,cx:"50%",cy:"50%",outerRadius:"75%",children:[c.jsx(Zw,{strokeDasharray:"3 3"}),c.jsx(t1,{dataKey:"theme",tick:({x:i,y:s,payload:l,textAnchor:d})=>{const f=l.value,h=ke.themes.find(g=>g.name===f);let p;if(f.length<=14)p=[f];else{const g=f.indexOf("&");if(g>0)p=[f.substring(0,g+1).trim(),f.substring(g+2).trim()];else{const v=f.lastIndexOf(" ",Math.ceil(f.length/2));p=v>0?[f.substring(0,v),f.substring(v+1)]:[f]}}return c.jsx("g",{children:c.jsx("text",{x:i,y:s,textAnchor:d,fontSize:9,fill:h?.color||"#666",children:p.map((g,v)=>c.jsx("tspan",{x:i,dy:v===0?-(p.length-1)*5:11,children:g},v))})})}}),c.jsx(e1,{angle:90,domain:[0,100],tick:{fontSize:8}}),c.jsx(gu,{name:"Your Firm",dataKey:"score",stroke:"#f2a71b",fill:"#f2a71b",fillOpacity:.35,strokeWidth:3}),c.jsx(gu,{name:"M&A-Ready",dataKey:"benchmark",stroke:"#1e40af",fill:"#1e40af",fillOpacity:.08,strokeWidth:2,strokeDasharray:"6 3"}),c.jsx(Pl,{formatter:(i,s)=>[i+"%",s]})]})}),c.jsxs("div",{className:"flex items-center justify-center gap-6 mt-1",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#f2a71b"}}),c.jsx("span",{className:"text-xs text-gray-500",children:"Your Firm"})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-8 h-0 border-t-2 border-dashed",style:{borderColor:"#1e40af"}}),c.jsx("span",{className:"text-xs text-gray-500",children:"M&A-Ready"})]})]})]})}function die({scores:e,benchmarkProfile:t}){const r=pt[t||"M&A-Ready (PSF)"],n=ke.themes.map(i=>{const s=e?.themeScores?.[i.id]?.pct||0,l=r[i.id]||50,d=s-l,f=d>5?"#27AE60":d<-5?"#E74C3C":"#F39C12";return{name:i.name,firm:s,benchmark:l,firmFill:f,color:i.color,icon:i.icon}});return c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("h3",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:[c.jsx(id,{size:14})," M&A-Ready Benchmark"]}),c.jsx("p",{style:{fontSize:"11px",color:"#64748b",margin:"4px 0 8px 0",lineHeight:"1.4"},children:"Top-quartile PSF performance levels associated with premium M&A valuations."})]}),c.jsx(xl,{width:"100%",height:320,children:c.jsxs(h1,{data:n,layout:"vertical",margin:{left:20,right:20},children:[c.jsx(nd,{type:"number",domain:[0,100],tick:{fontSize:10}}),c.jsx(ad,{dataKey:"name",type:"category",width:140,tick:({x:i,y:s,payload:l})=>{const d=l.value,f=ke.themes.find(p=>p.name===d);let h;if(d.length<=14)h=[d];else{const p=d.indexOf("&");if(p>0)h=[d.substring(0,p+1).trim(),d.substring(p+2).trim()];else{const g=d.lastIndexOf(" ",Math.ceil(d.length/2));h=g>0?[d.substring(0,g),d.substring(g+1)]:[d]}}return c.jsxs("g",{children:[c.jsx("text",{x:i-16,y:s,textAnchor:"end",fontSize:9,fill:f?.color||"#666",dy:h.length>1?-4:4,children:h.map((p,g)=>c.jsx("tspan",{x:i-16,dy:g===0?0:11,children:p},g))}),c.jsx("foreignObject",{x:i-14,y:s-7,width:14,height:14,style:{overflow:"visible"},children:oa(f?.icon,11,"")})]})}}),c.jsx(Pl,{formatter:(i,s)=>[i,s]}),c.jsx(bu,{dataKey:"firm",name:"Your Firm",radius:[0,4,4,0],label:({x:i,y:s,width:l,height:d,value:f,index:h})=>{const p=n[h],g=p.firm-p.benchmark;return c.jsxs("text",{x:i+l+4,y:s+d/2,fill:g>=0?"#16A34A":"#DC2626",fontSize:10,dominantBaseline:"middle",children:[g>=0?"+":"",g,"%"]})},children:n.map((i,s)=>c.jsx(Hw,{fill:i.color},s))}),c.jsx(bu,{dataKey:"benchmark",name:"M&A-Ready",fill:"#c4b5a5",radius:[0,4,4,0]})]})}),c.jsxs("div",{className:"flex items-center justify-center gap-6 mt-2 pt-2 border-t border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"flex gap-px",children:n.slice(0,4).map((i,s)=>c.jsx("div",{className:"w-1.5 h-3 rounded-sm",style:{backgroundColor:i.color}},s))}),c.jsx("span",{className:"text-xs text-gray-500",children:"Your Firm (theme colours)"})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#c4b5a5"}}),c.jsx("span",{className:"text-xs text-gray-500",children:"M&A-Ready Benchmark"})]})]})]})}function fie({view:e,firmName:t,onNavigate:r}){if(e==="landing")return null;const n=[{label:"Home",view:"firms"}];return e==="firms"&&n.push({label:"Firms",view:"firms"}),(e==="firmDetail"||e==="assess"||e==="dashboard")&&(n.push({label:"Firms",view:"firms"}),n.push({label:t||"Firm",view:"firmDetail"})),(e==="assess"||e==="dashboard")&&n.push({label:"Assessment",view:"assess"}),e==="dashboard"&&n.push({label:"Dashboard",view:"dashboard"}),e==="comparison"&&(n.push({label:"Firms",view:"firms"}),n.push({label:t||"Firm",view:"firmDetail"}),n.push({label:"Assessment",view:"assess"}),n.push({label:"Dashboard",view:"dashboard"}),n.push({label:"Insights",view:"comparison"})),e==="guidance"&&n.push({label:"Guidance",view:"guidance"}),e==="contact"&&n.push({label:"Contact",view:"contact"}),c.jsxs("div",{className:"px-4 py-1.5 bg-gray-50 border-b border-gray-100 flex items-center gap-1.5 text-xs text-gray-400 flex-shrink-0",children:[c.jsx("button",{onClick:()=>r("firms"),className:"hover:text-[#f2a71b] transition-colors",children:c.jsx(Ste,{size:12})}),n.map((i,s)=>c.jsxs("span",{className:"flex items-center gap-1.5",children:[s>0&&c.jsx(ti,{size:10}),s<n.length-1?c.jsx("button",{onClick:()=>r(i.view),className:"hover:text-[#f2a71b] transition-colors",children:i.label}):c.jsx("span",{className:"text-gray-600 font-medium",children:i.label})]},s))]})}function hie({onComplete:e}){const[t,r]=b.useState(0),n=[{title:"Welcome to GrowthLens",desc:"This tool evaluates your firms M&A readiness across 10 key growth themes, each with detailed metrics based on industry best practice.",icon:""},{title:"10 Growth Themes",desc:"From Financial Performance and People to Market Profile  each theme groups related metrics that acquirers and investors evaluate during due diligence.",icon:""},{title:"Simple 13 Scoring",desc:"Rate each metric: Level 1 (Foundational), Level 2 (Evolving), or Level 3 (Optimised). Use fine-tune adjustments for nuance. Add notes to explain your rationale.",icon:""},{title:"M&A-Ready Benchmarks",desc:"Your scores are compared against M&A-Ready benchmarks  top-quartile performance levels that command premium valuations. Synthesised from 20+ industry sources.",icon:""},{title:"Actionable Insights",desc:"The dashboard shows your readiness score, gap analysis, trends over time, and an exportable executive summary for board presentations.",icon:""}],i=n[t];return c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 animate-in",children:[c.jsx("div",{className:"text-5xl mb-5 text-center",children:i.icon}),c.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-3 text-center",children:i.title}),c.jsx("p",{className:"text-sm text-gray-600 mb-8 leading-relaxed text-center",children:i.desc}),c.jsx("div",{className:"flex items-center justify-center gap-1.5 mb-8",children:n.map((s,l)=>c.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${l===t?"w-8 bg-[#f2a71b]":"w-1.5 bg-gray-300"}`},l))}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>{localStorage.setItem("gdmf_onboarding_complete","true"),e()},className:"flex-1 px-4 py-2.5 text-gray-600 hover:bg-gray-100 rounded-lg font-medium text-sm transition",children:"Skip"}),c.jsx("button",{onClick:()=>{t<n.length-1?r(t+1):(localStorage.setItem("gdmf_onboarding_complete","true"),e())},className:"flex-1 px-4 py-2.5 bg-[#f2a71b] text-white hover:bg-[#d9950f] rounded-lg font-medium text-sm transition shadow-sm",children:t===n.length-1?"Get Started":"Next"})]}),c.jsxs("p",{className:"text-[10px] text-gray-400 text-center mt-4",children:["Step ",t+1," of ",n.length]})]})})}function mie({onGetStarted:e}){const[t,r]=b.useState(null),n={pound:bR,users:ld,tag:wR,compass:dR,"trending-up":sa,handshake:hR,shield:Ks,calculator:cR,"check-square":xR,globe:ju};ke.themes.map((s,l)=>{const d={financial:"#4e5b73",people:"#6ba7a1",services:"#a4c8e1",vision:"#f2a71b",sales:"#d5b79c",clients:"#f4a896",leadership:"#a79d94",cost:"#e8c840",delivery:"#c5c5c5",market:"#7a8fa8"},f=["services","sales","clients","cost","delivery"],h=ke.themes.length,p=.025,g=260,v=260,x=235,S=152,k=l/h*2*Math.PI-Math.PI/2+p/2,j=(l+1)/h*2*Math.PI-Math.PI/2-p/2,_=(k+j)/2,E=(x+S)/2,A=["M",g+x*Math.cos(k),v+x*Math.sin(k),"A",x,x,0,0,1,g+x*Math.cos(j),v+x*Math.sin(j),"L",g+S*Math.cos(j),v+S*Math.sin(j),"A",S,S,0,0,0,g+S*Math.cos(k),v+S*Math.sin(k),"Z"].join(" "),T=g+E*Math.cos(_),C=g+E*Math.sin(_),O=f.includes(s.id)?"#1f1f1f":"#ffffff",M=s.name.includes(" & ")?[s.name.split(" & ")[0]+" &",s.name.split(" & ")[1]]:s.name.split(" ").length>1?[s.name.split(" ").slice(0,Math.ceil(s.name.split(" ").length/2)).join(" "),s.name.split(" ").slice(Math.ceil(s.name.split(" ").length/2)).join(" ")]:[s.name];return{...s,d:A,lx:T,ly:C,labelColor:O,nameParts:M,color:d[s.id]||"#4e5b73",isHovered:t===s.id}});const i=[{num:1,title:"Assess",desc:"Rate 57 metrics across 10 growth themes using a 3-level maturity scale"},{num:2,title:"Benchmark",desc:"Compare against M&A-ready PSF benchmarks from 20+ industry sources"},{num:3,title:"Identify",desc:"Pinpoint strengths, gaps, and strategic priorities ranked by impact"},{num:4,title:"Act",desc:"Follow improvement roadmaps and scenario models to grow firm value"}];return c.jsxs("div",{className:"",style:{fontFamily:"'Montserrat', sans-serif"},children:[c.jsxs("div",{className:"flex flex-col items-center justify-center px-6 pt-10 pb-12",style:{background:"linear-gradient(170deg, #1f1f1f 0%, #2a2a2a 55%, #333 100%)",minHeight:"calc(100vh - 64px)"},children:[c.jsxs("div",{className:"text-center max-w-xl mb-8",style:{position:"relative",zIndex:2},children:[c.jsx("div",{className:"inline-flex items-center gap-1.5 rounded-full px-3 py-1 text-xs font-semibold mb-5 uppercase tracking-wider",style:{background:"#1f1f1f",border:"1px solid #f2a71b",color:"#f2a71b"},children:"M&A Due Diligence Platform"}),c.jsxs("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold text-white mb-3 uppercase tracking-tight leading-tight",style:{letterSpacing:"-0.03em"},children:["Assess. Benchmark.",c.jsx("br",{}),c.jsx("span",{style:{color:"#f2a71b"},children:"Maximise Value."})]}),c.jsx("p",{className:"text-sm sm:text-base leading-relaxed",style:{color:"#c5c5c5",maxWidth:480,margin:"0 auto"},children:"A structured framework that evaluates professional services firms across 10 growth themes and 57 metrics  benchmarked against M&A-ready standards."})]}),c.jsxs("div",{className:"w-full max-w-5xl mx-auto px-4 mb-8",children:[c.jsx("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(280px,1fr))] gap-3 mb-6",children:ke.themes.map(s=>{const l=n[s.icon]||ju;return c.jsxs("div",{className:"group relative bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 hover:border-amber-400/60 rounded-xl p-4 text-center transition-all duration-300 cursor-pointer",onMouseEnter:()=>r(s.id),onMouseLeave:()=>r(null),onClick:()=>document.getElementById("how-it-works")?.scrollIntoView({behavior:"smooth"}),children:[c.jsx(l,{size:24,className:"mx-auto mb-2 text-amber-400 group-hover:scale-110 transition-transform"}),c.jsx("div",{className:"text-xs font-bold text-white tracking-wide leading-tight",children:s.name.toUpperCase()}),c.jsxs("div",{className:"text-[10px] text-white/50 mt-1",children:[s.metrics.length," metrics"]})]},s.id)})}),c.jsxs("div",{className:"flex items-center justify-center gap-3 text-gray-400",children:[c.jsx("div",{className:"px-4 py-1.5 border border-gray-500 rounded text-xs font-bold tracking-wider",children:"EBITDA"}),c.jsx("span",{className:"text-lg font-bold text-gray-500",children:""}),c.jsx("div",{className:"px-4 py-1.5 border border-gray-500 rounded text-xs font-bold tracking-wider",children:"MULTIPLE"}),c.jsx("span",{className:"text-lg font-bold text-gray-500",children:"="}),c.jsx("div",{className:"px-4 py-1.5 bg-amber-400/20 border border-amber-400/40 rounded text-xs font-bold text-amber-400 tracking-wider",children:"FIRM VALUE"})]}),c.jsx("p",{className:"text-[11px] text-gray-300 text-center mt-2",children:"5 themes drive EBITDA  5 themes drive the Multiple  Together they determine Firm Value"})]}),c.jsxs("div",{className:"flex gap-3",style:{position:"relative",zIndex:2},children:[c.jsx("button",{onClick:e,className:"px-8 py-3 rounded-lg text-sm font-bold cursor-pointer",style:{background:"#f2a71b",color:"#1f1f1f",border:"none",boxShadow:"0 4px 16px rgba(242,167,27,0.3)",letterSpacing:"0.02em",fontFamily:"'Montserrat', sans-serif"},children:"START ASSESSMENT"}),c.jsx("button",{onClick:e,className:"px-8 py-3 rounded-lg text-sm font-bold cursor-pointer",style:{background:"rgba(242, 167, 27, 0.08)",border:"2px solid #f2a71b",color:"#f2a71b",fontFamily:"'Montserrat', sans-serif",letterSpacing:"0.02em"},children:"VIEW DEMO FIRMS"})]})]}),c.jsx("div",{className:"flex justify-center mt-2 mb-4",children:c.jsx(Ui,{size:28,className:"text-white/40 animate-bounce cursor-pointer",onClick:()=>document.getElementById("how-it-works")?.scrollIntoView({behavior:"smooth"})})}),c.jsx("div",{id:"how-it-works",className:"py-16 px-6",style:{background:"linear-gradient(to bottom, #23272b, #f9f9f9)"},children:c.jsxs("div",{className:"max-w-sm sm:max-w-2xl md:max-w-4xl mx-auto",children:[c.jsx("h2",{className:"text-2xl font-bold text-center mb-1 uppercase",style:{color:"#ffffff",letterSpacing:"-0.02em"},children:"How It Works"}),c.jsx("p",{className:"text-center text-sm mb-10",style:{color:"#4b5563"},children:"Four steps from assessment to actionable insight"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-5",children:i.map((s,l)=>c.jsxs("div",{className:"text-center p-5 rounded-xl relative",style:{background:"#f9f9f9",border:"1px solid #e5e5e5"},children:[c.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mx-auto mb-3",style:{background:"#f2a71b",color:"#1f1f1f",fontWeight:800,fontSize:16,fontFamily:"'Montserrat', sans-serif"},children:s.num}),c.jsx("h3",{className:"text-sm font-bold mb-1 uppercase",style:{color:"#1f1f1f",fontFamily:"'Montserrat', sans-serif",letterSpacing:"0.02em"},children:s.title}),c.jsx("p",{className:"text-xs leading-relaxed",style:{color:"#4e5b73"},children:s.desc}),l<3&&c.jsx("span",{className:"absolute -right-3.5 top-1/2 -translate-y-1/2 text-gray-300",children:""})]},l))})]})}),c.jsxs("div",{style:{background:"#23272b",padding:"48px 24px",textAlign:"center"},children:[c.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1f2937",marginBottom:"12px"},children:"Built on Industry Research"}),c.jsx("p",{style:{color:"#9ca3af",maxWidth:"600px",margin:"0 auto 24px",fontSize:"0.95rem"},children:"Our framework synthesises 20+ benchmarking studies and industry-standard methodologies to assess M&A readiness across five critical themes."}),c.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"12px",maxWidth:"700px",margin:"0 auto"},children:["Hinge Research","Deltek","SPI Research","Mercer","IBIS","Kennedy"].map(s=>c.jsx("span",{style:{background:"rgba(242,167,27,0.12)",color:"#f2a71b",padding:"6px 16px",borderRadius:"20px",fontSize:"0.85rem",fontWeight:"500",border:"1px solid rgba(242,167,27,0.25)"},children:s},s))})]}),c.jsxs("div",{style:{background:"linear-gradient(135deg, #1a1a2e 0%, #23272b 100%)",borderRadius:"16px",marginTop:"2rem"},className:"text-center py-12 px-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Ready to Assess Your Portfolio?"}),c.jsx("p",{className:"text-base text-gray-300 mb-6 max-w-lg mx-auto",children:"Start with our built-in demo data or create your own firm assessments"}),c.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[c.jsx("button",{onClick:e,className:"px-8 py-3 rounded-lg text-sm font-bold bg-[#f2a71b] text-[#1a1a2e] hover:bg-[#d4911a] transition-colors cursor-pointer",children:"Explore Demo Data"}),c.jsx("button",{onClick:e,className:"px-8 py-3 rounded-lg text-sm font-bold border-2 border-white/30 text-white hover:border-white/60 transition-colors cursor-pointer",children:"Get Started "})]})]}),"    "]})}function pie({firms:e,onCreateFirm:t,onSelectFirm:r,onDeleteFirm:n,onViewDashboard:i,assessments:s,recentlyDeleted:l,restoreItem:d,permanentlyDeleteItem:f,userTier:h,isDemoAccount:p}){const[g,v]=b.useState(!1),[x,S]=b.useState(!1),[k,j]=b.useState(""),_=e.find(q=>!q.isDemo),E=e.filter(q=>q.isDemo),A=!!_,C=h==="premium"||!A,[O,M]=b.useState(""),P=()=>{k.trim()&&C&&(t({id:UR(),name:k.trim(),sector:O.trim(),createdAt:new Date().toISOString()}),j(""),M(""),v(!1))},I=(q,Z=!1)=>{const U=Object.values(s).filter(te=>te.firmId===q.id),ce=U.sort((te,L)=>new Date(L.createdAt)-new Date(te.createdAt))[0],$=ce?Vr(ce.ratings):null;return c.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:border-[#f2a71b]/40 hover:shadow-sm transition-all cursor-pointer group",onClick:()=>r(q.id),children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white font-bold text-sm",style:{backgroundColor:$?$.pct>=66?"#1E8449":$.pct>=38?"#B7950B":"#922B21":"#4e5b73"},children:q.name.charAt(0).toUpperCase()}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-800",children:q.name}),c.jsxs("p",{className:"text-xs text-gray-400",children:['"Professional Services"',$?`  ${$.ratedCount}/${$.totalMetrics} rated`:U.length===0?"  No assessment yet":""]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[$&&c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-lg font-bold",style:{color:$.pct>=66?"#1E8449":$.pct>=38?"#B7950B":"#922B21"},children:[$.pct,"%"]}),c.jsx("div",{className:"text-xs text-gray-400",children:$.readinessLevel})]}),U.length>0&&c.jsx("button",{onClick:te=>{te.stopPropagation(),i(q.id,U[0].id)},className:"opacity-0 group-hover:opacity-100 text-gray-300 hover:text-[#f2a71b] p-1 transition-all",title:"View Dashboard",children:c.jsx(sd,{size:14})}),!Z&&c.jsx("button",{onClick:te=>{te.stopPropagation(),n(q.id)},className:"opacity-0 group-hover:opacity-100 text-gray-300 hover:text-red-500 p-1 transition-all",title:"Delete firm",children:c.jsx(dl,{size:14})}),c.jsx(ti,{size:20,className:"text-gray-400 group-hover:text-amber-500 transition-colors"})]})]})},q.id)};return c.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Your Firm"}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Assess your firm's M&A readiness across 57 metrics"})]}),c.jsxs("div",{className:"flex items-center gap-4 mb-4 px-1",children:[c.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Score:"}),c.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-gray-500",children:[c.jsx("span",{className:"inline-block w-2.5 h-2.5 rounded-full",style:{backgroundColor:"#1E8449"}}),">=66% On Track"]}),c.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-gray-500",children:[c.jsx("span",{className:"inline-block w-2.5 h-2.5 rounded-full",style:{backgroundColor:"#B7950B"}}),"38-65% Developing"]}),c.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-gray-500",children:[c.jsx("span",{className:"inline-block w-2.5 h-2.5 rounded-full",style:{backgroundColor:"#922B21"}}),"<38% Early Stage"]})]}),!p&&(A?c.jsx("div",{className:"mb-6",children:I(_,!1)}):c.jsx("div",{className:"mb-6",children:g?c.jsxs("div",{className:"bg-white rounded-lg border border-[#f2a71b]/30 p-5 shadow-sm",children:[c.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-3",children:"Create Your Firm"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3",children:[c.jsx("input",{value:k,onChange:q=>j(q.target.value),placeholder:"Firm name",className:"border border-gray-200 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#f2a71b]",autoFocus:!0}),c.jsx("input",{value:O,onChange:q=>M(q.target.value),placeholder:"Sector (optional)",className:"border border-gray-200 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#f2a71b]"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:P,className:"bg-[#f2a71b] text-white px-4 py-1.5 rounded text-sm font-medium hover:bg-[#d9950f]",children:"Create"}),c.jsx("button",{onClick:()=>v(!1),className:"text-gray-500 px-4 py-1.5 rounded text-sm hover:bg-gray-100",children:"Cancel"})]}),!C&&c.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Upgrade to Premium to add multiple firms."})]}):c.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[c.jsx(sp,{size:48,className:"mx-auto text-gray-300 mb-5"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Get started"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Create your firm to begin an M&A readiness assessment."}),c.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center gap-2 px-6 py-2.5 rounded-lg text-white font-bold hover:opacity-90 transition cursor-pointer",style:{background:"#f2a71b"},children:[c.jsx(yR,{size:16})," Create Your Firm"]})]})})),E.length>0&&(p?c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-400 mb-2 px-1",children:"Select a firm below to explore a full M&A readiness assessment"}),c.jsx("div",{className:"space-y-2",children:E.map(q=>I(q,!0))})]}):c.jsxs("div",{className:"mt-2",children:[c.jsxs("button",{onClick:()=>S(!x),className:"flex items-center gap-2 w-full text-left px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(Gs,{size:16,className:"text-gray-400"}),c.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Explore Demo Firms"}),c.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"- see example assessments"}),c.jsx(Ui,{size:16,className:`text-gray-400 ml-auto transition-transform ${x?"rotate-180":""}`})]}),x&&c.jsx("div",{className:"mt-2 space-y-2",children:E.map(q=>I(q,!0))})]})),l.length>0&&c.jsxs("details",{className:"mt-6",children:[c.jsxs("summary",{className:"flex items-center gap-2 cursor-pointer text-sm text-gray-500 hover:text-gray-700",children:[c.jsx(dl,{size:14}),"Recently Deleted (",l.length,")"]}),c.jsx("div",{className:"mt-2 space-y-2",children:l.map((q,Z)=>c.jsxs("div",{className:"flex items-center justify-between bg-gray-50 border border-gray-200 rounded-lg px-4 py-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:q.name}),c.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:[q.type,"  deleted ",new Date(q.timestamp).toLocaleDateString("en-GB",{day:"numeric",month:"short"})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>d(q),className:"text-sm text-amber-600 hover:text-amber-800 font-medium",children:"Restore"}),c.jsx("button",{onClick:()=>f(q),className:"text-sm text-red-500 hover:text-red-700 font-medium",children:"Delete permanently"})]})]},Z))})]})]})}function gie({firm:e,assessments:t,onCreateAssessment:r,onDeleteAssessment:n,onSelectAssessment:i,onViewDashboard:s,onBack:l,userTier:d,isDemo:f,onDeleteFirm:h,isDemoAccount:p}){const{isPremium:g}=Ir(),{openContactModal:v}=ud(),[x,S]=b.useState(!1),[k,j]=b.useState(null),[_,E]=b.useState(null),A=Object.values(t).filter(P=>P.firmId===e.id).sort((P,I)=>new Date(I.createdAt)-new Date(P.createdAt)),T=d!=="premium",O=!f&&T&&A.length>=1,M=!T||!A.some(P=>{const I=Vr(P.ratings),q=Object.values(P.ratings||{}).filter(ce=>ce&&typeof ce=="object"&&ce.notTracked).length,Z=I.ratedCount+q===I.totalMetrics&&I.totalMetrics>0,U=P.createdAt?Math.floor((Date.now()-new Date(P.createdAt).getTime())/(1e3*60*60*24)):0;return Z||U>=7});return c.jsxs("div",{className:"max-w-3xl mx-auto p-4 sm:p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:e.name}),c.jsx("p",{className:"text-sm text-gray-500",children:'"Professional Services"'})]}),!f&&!p&&h&&M&&c.jsxs("button",{onClick:()=>h(e.id),className:"flex items-center gap-1.5 px-3 py-1.5 text-sm text-red-500 hover:bg-red-50 rounded-lg transition-colors border border-red-200 hover:border-red-300",title:"Delete this firm and all its assessments",children:[c.jsx(dl,{size:14})," Delete Firm"]}),k===e.id&&c.jsxs("div",{style:{marginTop:"16px",padding:"20px",background:"rgba(242,167,27,0.06)",border:"1px solid rgba(242,167,27,0.2)",borderRadius:"12px"},children:[c.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#f5f5f5",marginBottom:"12px"},children:"About This Assessment"}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"16px",fontSize:"0.9rem",color:"#9ca3af"},children:[c.jsxs("div",{children:[c.jsx("span",{style:{color:"#f2a71b",fontWeight:"600"},children:"Duration:"})," ~1015 minutes"]}),c.jsxs("div",{children:[c.jsx("span",{style:{color:"#f2a71b",fontWeight:"600"},children:"You'll get:"})," M&A Readiness Score, Gap Analysis & Improvement Roadmap"]}),c.jsxs("div",{children:[c.jsx("span",{style:{color:"#f2a71b",fontWeight:"600"},children:"Tip:"})," Have your firm's financial and operational metrics to hand"]})]}),c.jsxs("div",{style:{display:"flex",gap:"8px"},children:[c.jsx("button",{onClick:()=>{r(e.id),j(null)},style:{background:"#f2a71b",color:"#1a1a2e",padding:"8px 20px",borderRadius:"8px",fontWeight:"600",fontSize:"0.9rem",border:"none",cursor:"pointer"},children:"Start Assessment "}),c.jsx("button",{onClick:()=>j(null),style:{background:"transparent",color:"#9ca3af",padding:"8px 16px",borderRadius:"8px",fontSize:"0.9rem",border:"1px solid #4b5563",cursor:"pointer"},children:"Cancel"})]})]})]}),f&&c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-3",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Gs,{size:20,className:"text-blue-600 mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Demo Firm"}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"This is a sample firm for demonstration purposes. Explore the assessment and dashboard to see how GrowthLens works. Create your own firm to get started with your assessment."})]})]})}),O&&!f&&c.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-3",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Ks,{size:20,className:"text-amber-600 mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"Free plan  1 assessment per firm"}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Your baseline assessment is locked once complete. Upgrade to Premium to create additional assessments and track progress over time."}),c.jsxs("button",{onClick:v,className:"inline-flex items-center gap-1.5 mt-2 text-xs font-medium text-amber-700 hover:text-amber-900 transition-colors",children:[c.jsx(od,{size:12})," Contact us about upgrading"]})]})]})}),A.length>0&&(()=>{const P=A[0],I=Vr(P.ratings,pt["M&A-Ready (PSF)"]);return c.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-amber-50/30 rounded-lg border border-gray-200 p-3 mb-3 flex items-center gap-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold",style:{color:I.pct>=66?"#16A34A":I.pct>=38?"#D97706":"#DC2626"},children:[I.pct,"%"]}),c.jsxs("div",{className:"text-[10px] text-gray-500 uppercase flex items-center justify-center gap-1",children:["Score",c.jsx(z0,{text:"Raw maturity score  the unweighted average across all rated metrics and themes"})]})]}),c.jsx("div",{className:"h-8 w-px bg-gray-200"}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-[#f2a71b]",children:[I.readinessScore,"%"]}),c.jsxs("div",{className:"text-[10px] text-gray-500 uppercase flex items-center justify-center gap-1",children:["M&A Ready",c.jsx(z0,{text:"Weighted readiness  each metric is weighted by its importance to M&A readiness based on the selected benchmark"})]})]}),c.jsx("div",{className:"h-8 w-px bg-gray-200"}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-gray-700",children:[I.ratedCount,"/",I.totalMetrics]}),c.jsxs("div",{className:"text-[10px] text-gray-500 uppercase flex items-center justify-center gap-1",children:["Rated",c.jsx(z0,{text:"Number of metrics rated out of the total available"})]})]}),c.jsxs("div",{className:"flex-1 text-right text-xs text-gray-500",children:["Latest: ",new Date(P.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]})})(),A.length===0?c.jsxs("div",{className:"text-center py-10 bg-white rounded-lg border border-gray-200",children:[c.jsx(cp,{size:48,className:"mx-auto text-gray-300 mb-3"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"No assessments yet. Start one to begin evaluating this firm."}),!f&&!O&&!p&&c.jsxs("button",{onClick:()=>r(e.id),className:"inline-flex items-center gap-2 px-6 py-2.5 rounded-lg text-white font-bold hover:opacity-90 transition cursor-pointer",style:{background:"#f2a71b"},children:[c.jsx(yR,{size:16})," Start Assessment"]})]}):c.jsx("div",{className:"space-y-1.5",children:A.map(P=>{const I=Vr(P.ratings),q=Object.values(P.ratings||{}).filter(te=>te&&typeof te=="object"&&te.notTracked).length,Z=I.ratedCount+q===I.totalMetrics&&I.totalMetrics>0,U=P.createdAt?Math.floor((Date.now()-new Date(P.createdAt).getTime())/(1e3*60*60*24)):0,ce=f||T&&(Z||U>=7),$=!T||!ce;return c.jsxs("div",{onClick:()=>i(P.id),className:"bg-white rounded-lg border border-gray-200 p-4 hover:border-[#f2a71b]/40 hover:shadow-sm transition-all cursor-pointer",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-gray-800",children:["Assessment - ",new Date(P.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]}),c.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[I.ratedCount,"/",I.totalMetrics," metrics rated"]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-lg font-bold",style:{color:I.pct>=66?"#16A34A":I.pct>=38?"#D97706":"#DC2626"},children:[I.pct,"%"]}),c.jsxs("div",{className:"text-xs text-gray-500",children:[I.totalScore," / ",I.totalMaxPossible]})]}),c.jsx("button",{onClick:te=>{te.stopPropagation(),s(P.id)},className:"p-1 text-gray-500 hover:text-[#f2a71b] transition-colors",title:"View Dashboard",children:c.jsx(sd,{size:16})}),$&&c.jsx("button",{onClick:te=>{te.stopPropagation(),n(P.id)},className:"p-1 text-gray-500 hover:text-red-500 transition-colors",title:"Delete assessment",children:c.jsx(dl,{size:16})}),c.jsx(ti,{size:20,className:"text-gray-500 group-hover:text-amber-500 transition-colors"})]})]}),c.jsx("div",{className:"mt-2 bg-gray-100 rounded-full h-1.5",children:c.jsx("div",{className:"h-1.5 rounded-full bg-amber-500 transition-all",style:{width:`${I.ratedCount/I.totalMetrics*100}%`}})})]},P.id)})}),c.jsx($ae,{isOpen:x,onClose:()=>S(!1),onUpgrade:v,type:"assessment"})]})}function vie({assessment:e,onRate:t,onComment:r,onBack:n,onConfidence:i,onEvidence:s,onGuidance:l,userTier:d,isDemo:f}){const{openContactModal:h}=ud();b.useEffect(()=>{rl("Assessment Started")},[]);const[p,g]=b.useState(ke.themes[0].id),v=Vr(e.ratings),x=b.useRef(null),S=d!=="premium",k=Object.values(e.ratings||{}).filter(P=>P&&typeof P=="object"&&P.notTracked).length,j=v.ratedCount+k===v.totalMetrics&&v.totalMetrics>0,_=e.createdAt?Math.floor((Date.now()-new Date(e.createdAt).getTime())/(1e3*60*60*24)):0,E=S&&_>=7,A=f||S&&(j||E),T=b.useRef(!1),[C,O]=b.useState(()=>localStorage.getItem("gdmf_dismiss_assess_banner")==="1"),M=P=>{g(P),T.current=!0;const I=document.getElementById("theme-section-"+P);I&&I.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{T.current=!1},1200)};return b.useEffect(()=>{const P=x.current;if(!P)return;const I=()=>{if(T.current)return;const q=P.querySelectorAll("[data-theme-id]");let Z=ke.themes[0].id;q.forEach(U=>{U.getBoundingClientRect().top<=200&&(Z=U.dataset.themeId)}),g(Z)};return P.addEventListener("scroll",I),()=>P.removeEventListener("scroll",I)},[]),c.jsxs("div",{className:"flex h-full",children:[c.jsx(rie,{themes:ke.themes,selectedTheme:p,onSelect:M,scores:v}),c.jsxs("div",{ref:x,className:"flex-1 overflow-y-auto min-w-0",style:{scrollBehavior:"smooth"},children:[c.jsxs("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 px-4 py-2 flex items-center justify-between shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(Gi,{size:18})}),c.jsx("h2",{className:"text-sm font-bold text-gray-800",children:"Assessment"}),c.jsxs("span",{className:"text-xs text-gray-400",children:[ke.themes.length," themes  ",ke.themes.reduce((P,I)=>P+I.metrics.length,0)," metrics"]}),l&&c.jsxs("button",{onClick:l,className:"text-xs text-gray-400 hover:text-amber-500 flex items-center gap-1 transition-colors ml-2",children:[c.jsx(wu,{size:13})," Guidance"]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-xs text-gray-400",children:"Overall"}),c.jsx("span",{className:"text-sm font-bold text-[#f2a71b]",children:c.jsx(dm,{value:v.pct,suffix:"%"})}),c.jsxs("span",{className:"text-xs text-gray-400",children:["(",v.ratedCount,"/",v.totalMetrics,")"]})]})]}),f&&c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3 flex items-center gap-3",children:[c.jsx(Gs,{size:18,className:"text-blue-500 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"Demo Assessment"}),c.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"This is a sample assessment for demonstration purposes. Ratings are read-only."})]})]}),A&&!f&&c.jsx("div",{className:"bg-amber-50 border-b border-amber-200 px-4 py-3",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Rn,{size:16,className:"text-amber-600 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"Assessment Locked"}),c.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:[E&&!j?"Your 7-day free editing window has expired.":"Your completed assessment is saved as a read-only baseline."," Upgrade to Premium to edit, create new assessments, and track progress."]})]}),c.jsx("button",{onClick:h,className:"ml-auto text-xs font-medium text-amber-700 hover:text-amber-900 whitespace-nowrap",children:"Upgrade"})]})}),c.jsx("div",{className:"md:hidden px-4 pt-2",children:c.jsx("select",{value:p,onChange:P=>M(P.target.value),className:"w-full text-sm border border-gray-200 rounded-lg px-3 py-2 bg-white focus:ring-2 focus:ring-[#f2a71b] focus:border-[#f2a71b]",children:ke.themes.map(P=>{const I=v.themeScores?.[P.id];return c.jsxs("option",{value:P.id,children:[P.name," (",I?.rated||0,"/",I?.total||P.metrics.length,")"]},P.id)})})}),!C&&c.jsxs("div",{className:"bg-amber-50/60 border border-amber-200/60 rounded-lg mx-4 mt-3 mb-1 p-4 relative",children:[c.jsx("button",{onClick:()=>{O(!0),localStorage.setItem("gdmf_dismiss_assess_banner","1")},className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Dismiss",children:c.jsx(qn,{size:14})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx(up,{size:16,className:"text-amber-600 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"text-xs text-gray-600 space-y-1.5",children:[c.jsx("p",{className:"font-semibold text-gray-700",children:"How to complete your assessment"}),c.jsxs("p",{children:["For each metric, select the maturity level that best describes your firm today: ",c.jsx("strong",{children:"Foundational"})," (basic/informal), ",c.jsx("strong",{children:"Evolving"})," (structured but inconsistent), or ",c.jsx("strong",{children:"Optimised"})," (best-in-class). Use the fine-tune slider to adjust between levels."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Confidence rating:"})," After selecting a level, rate your confidence as Low, Medium, or High. Low confidence flags areas where you need more data or stakeholder input before finalising. This helps prioritise follow-up during due diligence."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Evidence:"})," Expand the Evidence section to attach supporting links or notes. Evidence-backed ratings carry more weight in M&A reviews."]})]})]})]}),ke.themes.map(P=>c.jsxs("div",{id:"theme-section-"+P.id,"data-theme-id":P.id,className:"transition-opacity duration-200 border-b border-gray-100 scroll-mt-16",children:[c.jsx("div",{className:"sticky top-[41px] z-[5] bg-gray-50 border-b border-gray-200 px-4 py-2",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[oa(P.icon,18),c.jsx("h3",{className:"text-md font-bold",style:{color:P.color},children:P.name}),c.jsxs("span",{className:"text-xs text-gray-400 ml-1",children:[P.metrics.length," metrics"]})]}),c.jsx("div",{className:"text-sm font-bold",style:{color:P.color},children:c.jsx(dm,{value:v.themeScores[P.id]?.pct||0,suffix:"%"})})]})}),c.jsx("div",{className:"p-4",children:P.metrics.map((I,q)=>c.jsx("div",{className:"animate-fade-in",style:{animationDelay:`${q*50}ms`},children:c.jsx(tie,{metric:I,rating:e.ratings[I.id],onRate:A?()=>{}:t,onComment:A?()=>{}:r,onConfidence:A?()=>{}:i,onEvidence:A?()=>{}:s,locked:A})},I.id))})]},P.id))]}),c.jsx("div",{className:"hidden lg:block sticky top-0 self-start max-h-screen overflow-y-auto",children:c.jsx(eie,{scores:v,ratings:e.ratings,onJumpToTheme:M})})]})}function yie({themeGaps:e}){return c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Su,{size:18,className:"text-amber-600"}),c.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Readiness Gap Analysis"})]}),c.jsx("p",{className:"text-xs text-gray-500 mb-5",children:"Themes ranked by largest gap to M&A-Ready benchmark. Focus improvement efforts on the top gaps."}),c.jsx("div",{className:"space-y-3",children:e.map((t,r)=>c.jsxs("div",{className:"group",children:[c.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[c.jsxs("span",{className:"text-sm font-medium text-gray-800",style:{display:"flex",alignItems:"center",gap:"4px"},children:[oa(ke.themes.find(n=>n.id===t.themeId)?.icon,14,"text-gray-400")," ",t.themeName]}),c.jsx("span",{className:`text-xs font-bold ${t.gap>0?"text-red-600":"text-green-600"}`,children:t.gap>0?`${Math.round(t.gap)}%`:`+${Math.abs(Math.round(t.gap))}%`})]}),c.jsxs("div",{className:"relative h-5 bg-gray-100 rounded-full overflow-hidden",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full transition-all duration-700",style:{width:`${Math.min(Math.max(t.current,0),100)}%`,backgroundColor:t.color||"#4e5b73"}}),c.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-amber-500",style:{left:`${Math.min(t.target,100)}%`},children:c.jsx("div",{className:"absolute -top-5 -translate-x-1/2 text-[9px] font-bold text-amber-600 whitespace-nowrap",children:r===0?`Target ${t.target}%`:""})})]}),c.jsxs("div",{className:"flex justify-between mt-0.5",children:[c.jsxs("span",{className:"text-[10px] text-gray-400",children:["Current: ",Math.round(t.current),"%"]}),c.jsxs("span",{className:"text-[10px] text-gray-400",children:["M&A-Ready: ",t.target,"%"]})]})]},t.themeId))})]})}function bie({firmAssessments:e}){const[t,r]=b.useState(!1),[n,i]=b.useState(()=>new Set);if(!e||e.length<2)return c.jsxs("div",{className:"bg-slate-50 border border-dashed border-slate-300 rounded-lg p-3 mb-4 text-center flex items-center justify-center gap-2",children:[c.jsx(sa,{size:16,className:"text-slate-400"}),c.jsx("p",{className:"text-xs text-slate-400",children:"Complete another assessment to unlock trend analysis and score change history."})]});const s=[...e].sort((p,g)=>new Date(p.createdAt)-new Date(g.createdAt)),l=s.map(p=>{const g=Vr(p.ratings),v={name:new Date(p.createdAt).toLocaleDateString("en-GB",{month:"short",year:"2-digit"}),overall:g.pct,readiness:g.readinessScore};return ke.themes.forEach(x=>{const S=g.themeScores[x.id];v[x.id]=S?S.pct:0}),v}),d=l[l.length-1],f=l[l.length-2],h=p=>{i(g=>{const v=new Set(g);return v.has(p)?v.delete(p):v.add(p),v}),t||r(!0)};return c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(sa,{size:18,className:"text-[#f2a71b]"}),c.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Maturity Trend"})]}),c.jsx("button",{onClick:()=>{r(!t),t&&i(new Set)},className:`text-xs px-3 py-1.5 rounded-full font-medium transition-colors ${t?"bg-[#f2a71b] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:t?"Hide Theme Lines":"Show Theme Lines"})]}),c.jsxs("p",{className:"text-xs text-gray-500 mb-5",children:["Overall maturity progression across ",s.length," assessments",t?"  click themes below to toggle their lines":""]}),c.jsx("div",{style:{width:"100%",height:t?340:280},children:c.jsx(xl,{width:"100%",height:"100%",children:c.jsxs(Eee,{data:l,margin:{top:5,right:20,left:0,bottom:5},children:[c.jsx(ap,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),c.jsx(nd,{dataKey:"name",tick:{fontSize:11},stroke:"#94a3b8"}),c.jsx(ad,{domain:[0,100],tick:{fontSize:11},stroke:"#94a3b8"}),c.jsx(Pl,{contentStyle:{backgroundColor:"#1f1f1f",border:"none",borderRadius:8,color:"#fff",fontSize:12}}),c.jsx(E3,{y:65,stroke:"#D97706",strokeDasharray:"6 4",label:{value:"M&A-Ready",position:"insideTopRight",fill:"#D97706",fontSize:10}}),c.jsx(sh,{type:"monotone",dataKey:"overall",stroke:"#f2a71b",strokeWidth:3,dot:{fill:"#f2a71b",r:5},activeDot:{r:7},name:"Overall %"}),c.jsx(sh,{type:"monotone",dataKey:"readiness",stroke:"#0d9488",strokeWidth:2,strokeDasharray:"5 3",dot:{fill:"#0d9488",r:4},name:"Readiness %"}),t&&ke.themes.filter(p=>n.has(p.id)).map(p=>c.jsx(sh,{type:"monotone",dataKey:p.id,stroke:p.color,strokeWidth:2,dot:{fill:p.color,r:3},name:p.name},p.id))]})})}),c.jsx("div",{className:"mt-5 pt-4 border-t border-gray-100 grid grid-cols-2 sm:grid-cols-5 gap-3",children:ke.themes.map(p=>{const g=Math.round(d[p.id]||0),v=Math.round(f[p.id]||0),x=g-v,S=n.has(p.id);return c.jsxs("div",{className:`text-center cursor-pointer rounded-lg p-1.5 transition-all ${S?"bg-gray-100 ring-2":"hover:bg-gray-50"}`,style:S?{ringColor:p.color}:{},onClick:()=>h(p.id),children:[c.jsxs("div",{className:"text-[10px] text-gray-500 font-medium truncate flex items-center justify-center gap-1",children:[oa(p.icon,10,"flex-shrink-0"),c.jsx("span",{children:p.name})]}),c.jsxs("div",{className:"text-base font-bold text-slate-800",children:[g,"%"]}),c.jsxs("div",{className:`text-xs font-semibold ${x>0?"text-green-600":x<0?"text-red-500":"text-gray-400"}`,children:[x>0?"":x<0?"":"",Math.abs(x),"%"]}),S&&c.jsx("div",{className:"w-4 h-1 rounded-full mx-auto mt-1",style:{backgroundColor:p.color}})]},p.id)})})]})}function xie({assessment:e,benchmarkProfile:t}){const r=pt[t||"M&A-Ready (PSF)"],n=Vr(e.ratings,r),[i,s]=b.useState("critical"),l=[];ke.themes.forEach(S=>{n.themeScores[S.id];const k=r[S.id]||65;S.metrics.forEach(j=>{const _=e.ratings?Object.entries(e.ratings).find(([O])=>O===j.id):null,E=_?typeof _[1]=="object"?_[1]?.level:_[1]:null;if(E==null)return;const A=Math.round(E/3*100),T=j.benchmark||k,C=T-A;C>0&&l.push({metric:j,theme:S.name,pct:Math.round(A),benchmark:T,gap:Math.round(C),level:E,action:j.improvementAction,evolving:j.evolving,optimised:j.optimised,themeColor:S.color,themeIcon:S.icon})})}),l.forEach(S=>{S.priority=Math.round(S.gap*(S.metric.weight||1))}),l.sort((S,k)=>k.priority-S.priority);const d=l.length,f=Math.max(1,Math.ceil(d*.3)),h=Math.max(0,Math.ceil(d*.4)),p=l.slice(0,f),g=l.slice(f,f+h),v=l.slice(f+h),x=({id:S,title:k,bgColor:j,textColor:_,borderColor:E,groupItems:A})=>c.jsxs("div",{className:"rounded-lg border overflow-hidden",style:{borderColor:E},children:[c.jsxs("button",{onClick:()=>s(i===S?null:S),className:"w-full px-4 py-3 text-left font-semibold flex items-center justify-between "+j+" "+_,children:[c.jsx("span",{children:k}),c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs font-bold bg-white bg-opacity-30 px-2 py-0.5 rounded-full",children:A.length}),i===S?c.jsx(op,{size:18}):c.jsx(Ui,{size:18})]})]}),i===S&&A.length>0&&c.jsx("div",{className:"p-3 space-y-3 bg-gray-50",children:A.map((T,C)=>c.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 border-l-3",style:{borderLeftColor:T.themeColor},children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:T.metric.name}),c.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[oa(T.themeIcon,11,"shrink-0")," ",c.jsx("span",{className:"w-1.5 h-1.5 rounded-full inline-block",style:{backgroundColor:T.themeColor}}),T.theme,"  wt ",T.metric.weight]})]}),c.jsxs("span",{className:"text-lg font-bold",style:{color:E},children:[T.pct,"%"]})]}),c.jsxs("div",{className:"mb-2",children:[c.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[c.jsx("span",{children:"Current"}),c.jsxs("span",{children:["Target: ",T.benchmark,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"h-2 rounded-full bg-amber-900/100",style:{width:Math.min(100,T.pct/T.benchmark*100)+"%"}})})]}),c.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Gap: ",c.jsxs("strong",{children:[T.gap,"%"]})," ",c.jsxs("span",{className:"text-xs text-gray-400 ml-1",children:["Priority score: ",T.priority]})]}),T.action&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Improvement Actions"}),c.jsxs("div",{className:"flex items-start gap-2 bg-amber-50 p-2.5 rounded border-l-3 border-amber-400",children:[c.jsx(Su,{size:12,className:"text-amber-600 mt-0.5 flex-shrink-0"}),c.jsx("p",{className:"text-sm text-gray-700",children:T.action})]}),T.level===1&&T.evolving&&c.jsxs("div",{className:"flex items-start gap-2 bg-blue-50 p-2.5 rounded border-l-3 border-blue-400",children:[c.jsx(sa,{size:12,className:"text-blue-600 mt-0.5 flex-shrink-0"}),c.jsxs("p",{className:"text-sm text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"Next level:"})," ",T.evolving]})]}),T.level<=2&&T.optimised&&c.jsxs("div",{className:"flex items-start gap-2 bg-green-50 p-2.5 rounded border-l-3 border-green-400",children:[c.jsx(m1,{size:12,className:"text-green-600 mt-0.5 flex-shrink-0"}),c.jsxs("p",{className:"text-sm text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"Target state:"})," ",T.optimised]})]})]})]},C))})]});return c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[c.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[c.jsx(Su,{size:20,className:"text-[#f2a71b]"})," Improvement Roadmap"]}),l.length===0?c.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 rounded-lg p-8 text-center",children:[c.jsx(jr,{size:48,className:"mx-auto text-green-600 mb-3"}),c.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:"Excellent Progress!"}),c.jsx("p",{className:"text-green-700 mb-2",children:"All metrics meet or exceed M&A-Ready benchmarks."}),c.jsx("p",{className:"text-sm text-green-600",children:"Continue monitoring to maintain this strong position."})]}):c.jsxs("div",{className:"space-y-3",children:[p.length>0&&c.jsx(x,{id:"critical",title:"Critical Priority",bgColor:"bg-red-50",textColor:"text-red-800",borderColor:"#DC2626",groupItems:p}),g.length>0&&c.jsx(x,{id:"important",title:"Important",bgColor:"bg-amber-50",textColor:"text-amber-800",borderColor:"#D97706",groupItems:g}),v.length>0&&c.jsx(x,{id:"nice",title:"Nice-to-Have",bgColor:"bg-amber-900/10",textColor:"text-[#d9950f]",borderColor:"#2563EB",groupItems:v})]})]})}function wie({assessment:e,benchmarkProfile:t}){const r=Vr(e.ratings,pt[t||"M&A-Ready (PSF)"]),[n,i]=b.useState(()=>Object.fromEntries(Object.entries(r.themeScores).map(([x,S])=>[x,S.pct]))),[s,l]=b.useState(!1),[d,f]=b.useState(!1),h=pt[t],p=ke.themes.reduce((x,S)=>x+S.totalWeight,0),g=p>0?Math.round(ke.themes.reduce((x,S)=>x+S.totalWeight*Math.min((n[S.id]||0)/(h[S.id]||65),1)*100,0)/p):0,v=s?g-r.benchmarkAlignment:0;return c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[c.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[c.jsx(sa,{size:20,className:"text-[#f2a71b]"})," Scenario Modelling"]}),c.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Drag the sliders to model how improving individual theme scores would impact your overall M&A Readiness. Changes are for modelling only and do not affect your saved assessment."}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-900/10 rounded-lg mb-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Current Readiness"}),c.jsxs("p",{className:"text-2xl font-bold text-[#f2a71b]",children:[r.benchmarkAlignment,"%"]})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Change"}),c.jsxs("p",{className:"text-xl font-bold "+(v>=0?"text-green-600":"text-red-600"),children:[v>=0?"+":"",v,"%"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Projected Readiness"}),c.jsxs("p",{className:"text-2xl font-bold text-[#f2a71b]",children:[g,"%"]})]})]}),c.jsxs("button",{onClick:()=>f(!d),className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-medium text-gray-700 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors mb-3",children:[d?c.jsx(op,{size:16}):c.jsx(Ui,{size:16}),d?"Hide sliders":"Adjust themes"]}),d&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-80 overflow-y-auto",children:ke.themes.map(x=>{const S=r.themeScores[x.id]?.pct||0;return c.jsxs("div",{className:"p-2 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsxs("span",{className:"text-xs font-medium truncate flex items-center gap-1",style:{color:x.color},children:[oa(x.icon,11),x.name]}),c.jsxs("span",{className:"text-xs font-bold",style:{color:n[x.id]!==S?"#2563EB":"#6B7280"},children:[n[x.id],"%"]})]}),c.jsx("input",{type:"range",min:"0",max:"100",value:n[x.id],onChange:k=>{l(!0),i(j=>({...j,[x.id]:parseInt(k.target.value)}))},className:"w-full h-1.5 bg-gray-300 rounded-lg appearance-none cursor-pointer",style:{accentColor:x.color}}),c.jsxs("div",{className:"text-xs text-gray-400 text-right mt-0.5",children:["Current: ",S,"%"]})]},x.id)})}),s&&c.jsx("button",{onClick:()=>{l(!1),i(Object.fromEntries(Object.entries(r.themeScores).map(([x,S])=>[x,S.pct])))},className:"mt-3 w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Reset to Current"})]})]})}function jie({firmId:e,firmName:t,assessments:r,benchmarkProfile:n,onBack:i}){const{isPremium:s}=Ir(),{openContactModal:l}=ud(),[d,f]=b.useState("benchmark"),h=Object.values(r).filter(j=>j.firmId===e).sort((j,_)=>new Date(j.createdAt)-new Date(_.createdAt)),p=h.map(j=>({id:j.id,date:new Date(j.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),scores:Vr(j.ratings,pt[n]),ratings:j.ratings})),g=p[p.length-1],v=y1,x=g?v.map(j=>{const _=Vr(g.ratings,pt[j]),E=_.benchmarkAlignment,A=E>=100?"Benchmark Met":E>=80?"Near Target":E>=50?"Developing":"Early Stage";return{name:j,readiness:E,level:A,pct:_.pct}}):[],S="px-4 py-2 rounded-lg text-sm font-medium bg-[#f2a71b] text-white shadow-sm",k="px-4 py-2 rounded-lg text-sm font-medium bg-gray-100 text-gray-600 hover:bg-gray-200";return c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[t,"  Insights"]}),c.jsx("button",{onClick:i,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 font-medium",children:"Back to Dashboard"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>f("benchmark"),className:d==="benchmark"?S:k,children:"Benchmark Position"}),c.jsxs("button",{onClick:()=>f("comparison"),className:d==="comparison"?S:k,children:[!s&&c.jsx(Rn,{className:"w-3 h-3 mr-1 inline opacity-50"}),"Assessment Comparison"]})]}),d==="benchmark"&&g&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Readiness Across Benchmark Profiles"}),c.jsx("p",{className:"text-sm text-gray-500 mb-5",children:"How your firm measures against different industry standards. The highlighted card shows your currently selected benchmark."}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:x.map(j=>c.jsxs("div",{className:`text-center p-4 rounded-xl border-2 transition-all ${j.name===n?"border-[#f2a71b] bg-amber-900/10 shadow-md":"border-gray-200 hover:border-gray-300"}`,children:[c.jsx("div",{className:"text-xs text-gray-500 mb-1 font-medium truncate",title:j.name,children:j.name}),c.jsxs("div",{className:"text-3xl font-bold",style:{color:j.readiness>=100?"#059669":j.readiness>=50?"#D97706":"#DC2626"},children:[j.readiness,"%"]}),c.jsx("div",{className:`text-xs mt-1.5 px-2 py-0.5 rounded-full inline-block font-medium ${j.readiness>=100?"bg-green-100 text-green-700":j.readiness>=50?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:j.level}),c.jsx("p",{className:"text-xs mt-2",style:{color:j.readiness>=100?"#16A34A":j.readiness>=50?"#D97706":"#DC2626"},children:j.readiness>=100?"Benchmark met ":`Need +${100-j.readiness}% to meet benchmark`})]},j.name))})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Theme-Level Benchmark Gaps"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b-2 border-gray-200",children:[c.jsx("th",{className:"text-left py-2.5 px-3 font-semibold text-gray-700 sticky left-0 z-10 bg-white",children:"Theme"}),c.jsx("th",{className:"text-center py-2.5 px-3 font-semibold text-[#f2a71b]",children:"Score"}),v.map(j=>c.jsx("th",{className:"text-center py-2.5 px-2 font-medium text-gray-500 text-xs",title:j,children:j.replace("M&A-Ready (PSF)","M&A-Ready").replace("Top Decile (PSF)","Top Dec.").replace("Industry Average","Ind. Avg").replace("Consulting Benchmark","Consult.").replace("Technology Scale-up","Tech S/U").replace("Legal & Compliance","Legal")},j))]})}),c.jsx("tbody",{children:ke.themes.map((j,_)=>{const E=g.scores.themeScores[j.id]?.pct||0;return c.jsxs("tr",{className:`border-b ${_%2===0?"bg-gray-50":""}`,children:[c.jsx("td",{className:"py-2 px-3 font-medium text-gray-800 sticky left-0 z-10 bg-white",children:j.name}),c.jsxs("td",{className:"text-center py-2 px-3 font-bold text-[#f2a71b]",children:[E,"%"]}),v.map(A=>{const T=pt[A][j.id]||65,C=E-T;return c.jsx("td",{className:"text-center py-2 px-2",children:c.jsxs("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${C>=0?"text-green-700 bg-green-50":C>=-5?"text-yellow-700 bg-yellow-50":"text-red-700 bg-red-50"}`,children:[C>=0?"+":"",C]})},A)})]},j.id)})})]})}),c.jsxs("p",{className:"text-xs text-gray-400 mt-3",children:["Gap = your score minus the benchmark target. ",c.jsx("span",{className:"text-green-600 font-medium",children:"Green"})," = meets/exceeds, ",c.jsx("span",{className:"text-yellow-600 font-medium",children:"Amber"})," = within 5%, ",c.jsx("span",{className:"text-red-600 font-medium",children:"Red"})," = below benchmark."]})]})]}),d==="comparison"&&!s&&c.jsx(oh,{feature:"comparison",onUpgrade:l}),d==="comparison"&&s&&c.jsx("div",{className:"space-y-6",children:h.length<2?c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-10 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-amber-900/10 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(id,{className:"text-[#f2a71b]",size:28})}),c.jsx("h3",{className:"font-semibold text-lg mb-2 text-gray-900",children:"Compare Assessments Over Time Available"}),c.jsx("p",{className:"text-gray-500 mb-4 max-w-md mx-auto",children:"Periodic assessments reveal score trends across time and assessors, helping you track real impact."}),c.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[c.jsx("span",{className:"text-xs px-3 py-1.5 bg-amber-50 text-amber-700 rounded-full border border-amber-200",children:"Track Progress Over Time"}),c.jsx("span",{className:"text-xs px-3 py-1.5 bg-amber-50 text-amber-700 rounded-full border border-amber-200",children:"Spot Score Trends"}),c.jsx("span",{className:"text-xs px-3 py-1.5 bg-amber-50 text-amber-700 rounded-full border border-amber-200",children:"Measure Real Impact"})]}),c.jsxs("div",{className:"flex gap-6 justify-center text-sm text-gray-400",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(jr,{size:14,className:"text-green-400"})," Multiple assessors"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(jr,{size:14,className:"text-green-400"})," Year-on-year tracking"]})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Theme Scores Across Assessments"}),c.jsx(xl,{width:"100%",height:400,children:c.jsxs(h1,{data:ke.themes.map(j=>{const _={theme:j.name};return p.forEach(E=>{_[E.date]=E.scores.themeScores[j.id]?.pct||0}),_}),children:[c.jsx(ap,{strokeDasharray:"3 3"}),c.jsx(nd,{dataKey:"theme",height:120,interval:0,tick:({x:j,y:_,payload:E})=>{const A=E.value,T=A.includes(" & ")?[A.substring(0,A.indexOf(" & ")),"& "+A.substring(A.indexOf(" & ")+3)]:A.includes(" ")?[A.substring(0,A.indexOf(" ")),A.substring(A.indexOf(" ")+1)]:[A];return c.jsx("g",{transform:`translate(${j},${_})`,children:c.jsx("text",{textAnchor:"middle",fill:"#666",fontSize:10,children:T.map((C,O)=>c.jsx("tspan",{x:0,dy:O===0?14:13,children:C},O))})})}}),c.jsx(ad,{domain:[0,100]}),c.jsx(Pl,{}),c.jsx(k5,{}),p.map((j,_)=>c.jsx(bu,{dataKey:j.date,fill:["#2563EB","#F59E0B","#10B981","#8B5CF6"][_%4]},j.id))]})})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Readiness Progression"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:p.map((j,_)=>c.jsxs("div",{className:"text-center p-4 rounded-xl border-2 border-gray-200",children:[c.jsx("div",{className:"text-xs text-gray-500 mb-1 font-medium",children:j.date}),c.jsxs("div",{className:"text-3xl font-bold",style:{color:j.scores.readinessScore>=66?"#059669":j.scores.readinessScore>=38?"#D97706":"#DC2626"},children:[j.scores.readinessScore,"%"]}),c.jsx("div",{className:"text-xs text-gray-400 mt-1",children:j.scores.readinessLevel}),_>0&&(()=>{const E=j.scores.readinessScore-p[_-1].scores.readinessScore;return c.jsxs("div",{className:`text-xs mt-1 font-medium ${E>=0?"text-green-600":"text-red-600"}`,children:[E>=0?"":""," ",Math.abs(E),"% from previous"]})})()]},j.id))})]})]})})]})}function Sie({currentAssessment:e,previousAssessment:t}){if(!t)return null;const r=t.ratings||{},n=e.ratings||{},i=[];ke.themes.forEach(h=>{h.metrics.forEach(p=>{const g=r[p.id]?.level||0,v=n[p.id]?.level||0;(g>0||v>0)&&i.push({theme:h.name,themeColor:h.color,metric:p.name,prev:g,curr:v,delta:v-g})})});const s=i.filter(h=>h.delta>0).length,l=i.filter(h=>h.delta<0).length,d=i.filter(h=>h.delta===0).length,f=[...i].sort((h,p)=>Math.abs(p.delta)-Math.abs(h.delta));return c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Score Change History"}),c.jsxs("div",{className:"flex gap-4 mb-4 text-sm",children:[c.jsxs("span",{className:"px-3 py-1 bg-green-50 text-green-700 rounded-full font-medium",children:[s," improved"]}),c.jsxs("span",{className:"px-3 py-1 bg-red-50 text-red-700 rounded-full font-medium",children:[l," declined"]}),c.jsxs("span",{className:"px-3 py-1 bg-gray-50 text-gray-600 rounded-full font-medium",children:[d," unchanged"]})]}),c.jsx("div",{className:"max-h-64 overflow-y-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{className:"sticky top-0 bg-white",children:c.jsxs("tr",{className:"border-b border-gray-200",children:[c.jsx("th",{className:"text-left py-2 text-gray-500 font-medium",children:"Metric"}),c.jsx("th",{className:"text-center py-2 text-gray-500 font-medium w-20",children:"Previous"}),c.jsx("th",{className:"text-center py-2 text-gray-500 font-medium w-20",children:"Current"}),c.jsx("th",{className:"text-center py-2 text-gray-500 font-medium w-20",children:"Change"})]})}),c.jsx("tbody",{children:f.map((h,p)=>c.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[c.jsxs("td",{className:"py-2",children:[c.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-2",style:{backgroundColor:h.themeColor}}),h.metric]}),c.jsx("td",{className:"text-center py-2 text-gray-500",children:h.prev>0?h.prev.toFixed(1):"-"}),c.jsx("td",{className:"text-center py-2 font-medium",children:h.curr>0?h.curr.toFixed(1):"-"}),c.jsx("td",{className:"text-center py-2",children:h.delta!==0?c.jsxs("span",{className:h.delta>0?"text-green-600 font-medium":"text-red-600 font-medium",children:[h.delta>0?"+":"",h.delta.toFixed(1)]}):c.jsx("span",{className:"text-gray-400",children:"-"})})]},p))})]})})]})}function kie({assessment:e,firmName:t,firmSector:r,onBack:n,firmAssessments:i,benchmarkProfile:s,onBenchmarkChange:l,onCompare:d,onGuidance:f,isDemoFirm:h}){b.useEffect(()=>{rl("Dashboard Viewed")},[]);const{isPremium:p}=Ir(),{openContactModal:g}=ud(),[v,x]=b.useState(()=>localStorage.getItem("gdmf_dismiss_dash_banner")==="1"),[S,k]=b.useState("scores"),[j,_]=b.useState(()=>JSON.parse(localStorage.getItem("gdmf_lead")||"null")),E=Vr(e.ratings,pt[s||"M&A-Ready (PSF)"]),A=ke.themes.map(P=>({theme:P.name,fullName:P.name,score:E.themeScores[P.id]?.pct||0,fullMark:100}));ke.themes.map(P=>({name:P.name,score:E.themeScores[P.id]?.score||0,max:E.themeScores[P.id]?.max||0,pct:E.themeScores[P.id]?.pct||0,color:P.color}));const T=pt[s||"M&A-Ready (PSF)"],C=i?[...i].sort((P,I)=>new Date(I.date)-new Date(P.date)):[],O=C.findIndex(P=>P.id===e.id),M=O>=0&&O<C.length-1?C[O+1]:null;return c.jsxs("div",{className:"overflow-y-auto p-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:[t," - Maturity Dashboard"]}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Assessment from ",new Date(e.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}),r?`  ${r}`:""]}),f&&c.jsxs("button",{onClick:f,className:"text-xs text-gray-400 hover:text-amber-500 flex items-center gap-1 transition-colors mt-1",children:[c.jsx(wu,{size:13})," Guidance"]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-8px",marginBottom:"8px"},children:c.jsx("button",{title:"Copy a social sharing message to clipboard",onClick:P=>{navigator.clipboard.writeText("I just assessed my firm's M&A readiness using the GrowthLens framework  try it: https://growthlens.app/");const I=P.currentTarget;I.textContent=" Copied!",setTimeout(()=>{I.textContent="Share"},2e3)},style:{background:"transparent",color:"#9ca3af",padding:"4px 12px",borderRadius:"6px",fontSize:"0.8rem",border:"1px solid #374151",cursor:"pointer"},children:"Share"})}),c.jsxs("div",{className:"flex items-center gap-3 mb-4 p-3 bg-white rounded-lg shadow-sm border border-gray-100",children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 whitespace-nowrap",children:"Benchmark Profile:"}),c.jsx("select",{value:s||"M&A-Ready (PSF)",onChange:P=>l(P.target.value),className:"flex-1 text-sm border border-gray-200 rounded-lg px-3 py-2 bg-white focus:ring-2 focus:ring-[#f2a71b] focus:border-[#f2a71b]",children:y1.map(P=>c.jsx("option",{value:P,children:P},P))})]}),c.jsx("button",{onClick:d,title:"Compare multiple assessments over time to track progress",className:"px-4 py-2 text-sm font-medium text-white bg-[#f2a71b] border border-[#f2a71b] rounded-lg hover:bg-amber-500 font-semibold",children:"Compare Assessments"})]})]}),c.jsx("div",{className:"sticky top-0 z-10 bg-gray-50/95 backdrop-blur-sm border-b border-gray-200 -mx-6 px-6 py-2 mb-4 flex flex-wrap sm:flex-nowrap gap-1 overflow-x-auto",children:[["scores","Scores","Overall maturity scores by theme"],["gaps","Gap Analysis","Priority gaps and improvement areas"],["roadmap","Roadmap","Improvement action roadmap"],["scenario","Scenarios","What-if scenario modeling"],["charts","Charts","Visual charts and radar plots"],["heatmap","Heatmap","Driver-level heatmap view"],["export","Export & Reports","Export and download reports"]].map(([P,I,q])=>c.jsxs("button",{title:!p&&!h&&B0.includes(P)?`${q}  available with Premium`:q,onClick:()=>k(P),className:`px-3 py-1.5 text-xs font-medium rounded-full whitespace-nowrap transition-colors ${S===P?"bg-[#f2a71b] text-white shadow-sm":"text-gray-600 hover:text-[#f2a71b] hover:bg-amber-50"} ${!p&&!h&&B0.includes(P)?"opacity-60":""}`,children:[I,!p&&!h&&B0.includes(P)&&c.jsx(Rn,{className:"w-3 h-3 ml-1 inline opacity-50"})]},P))}),!v&&c.jsxs("div",{className:"bg-blue-50/60 border border-blue-200/50 rounded-lg p-3 mb-4 relative",children:[c.jsx("button",{onClick:()=>{x(!0),localStorage.setItem("gdmf_dismiss_dash_banner","1")},className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Dismiss",children:c.jsx(qn,{size:14})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx(up,{size:14,className:"text-blue-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"text-xs text-gray-600",children:[c.jsx("strong",{children:"How to use this dashboard:"})," The executive summary shows your overall readiness. Use the ",c.jsx("strong",{children:"Benchmark Profile"})," selector above to compare against different industry standards. Scroll through sections using the navigation bar, or click ",c.jsx("strong",{children:"Insights"})," to compare across assessments. The Gap Analysis and Improvement Roadmap highlight where to focus for maximum impact on firm value."]})]})]}),c.jsxs("div",{id:"dash-scores",style:{display:S==="scores"?"block":"none"},className:"scroll-mt-16 mb-6",children:[(()=>{const P=ke.themes.map($=>({name:$.name,color:$.color,icon:$.icon,pct:E.themeScores[$.id]?.pct||0,gap:(T[$.id]||65)-(E.themeScores[$.id]?.pct||0)})),I=[...P].sort(($,te)=>te.pct-$.pct).slice(0,3),q=new Set(I.map($=>$.name)),Z=[...P].filter($=>$.gap>0&&!q.has($.name)).sort(($,te)=>te.gap-$.gap).slice(0,3),U=P.filter($=>$.gap>20).length,ce=ke.themes.reduce(($,te)=>$+te.metrics.length,0);return c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[c.jsx("div",{className:"p-6 border-b border-gray-100",children:(()=>{const $=E.totalMaxPossible>0?Math.round(E.totalScore/E.totalMaxPossible*100):0,te=E.benchmarkAlignment,L=te>=100?"Benchmark Met":te>=80?"Near Target":te>=50?"Developing":"Early Stage",F=L==="Benchmark Met"?"#16a34a":L==="Near Target"||L==="Developing"?"#d97706":"#ef4444",ae=88,ue=14,ee=64,D=12,H=2*Math.PI*ae,Q=2*Math.PI*ee;return c.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[c.jsxs("div",{className:"relative flex-shrink-0",children:[c.jsxs("svg",{width:"240",height:"240",className:"-rotate-90",children:[c.jsx("circle",{cx:"120",cy:"120",r:ae,fill:"none",stroke:"#e2e8f0",strokeWidth:ue}),c.jsx("circle",{cx:"120",cy:"120",r:ae,fill:"none",stroke:F,strokeWidth:ue,strokeDasharray:H,strokeDashoffset:H-te/100*H,strokeLinecap:"round",style:{transition:"stroke-dashoffset 1s ease"}}),c.jsx("circle",{cx:"120",cy:"120",r:ee,fill:"none",stroke:"#e2e8f0",strokeWidth:D}),c.jsx("circle",{cx:"120",cy:"120",r:ee,fill:"none",stroke:"#1B4F72",strokeWidth:D,strokeDasharray:Q,strokeDashoffset:Q-$/100*Q,strokeLinecap:"round",style:{transition:"stroke-dashoffset 1s ease"}})]}),c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[c.jsxs("div",{className:"text-3xl font-bold",style:{color:F},children:[te,"%"]}),c.jsx("div",{className:"text-xs font-semibold text-gray-500",children:L})]})]}),c.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-3",children:"M&A Readiness Score"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 justify-center sm:justify-start mb-3",children:[c.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-amber-50 rounded-lg border border-amber-200",children:[c.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-[#f2a71b]"}),c.jsxs("span",{className:"text-sm font-bold text-gray-700",children:[$,"%"]}),c.jsx("span",{className:"text-xs text-gray-500",children:"Raw Score"})]}),c.jsx(xu,{size:16,className:"text-gray-400"}),c.jsxs("div",{className:"text-xs text-gray-500 px-2 py-1 bg-gray-50 rounded border border-gray-200",children:[s||"M&A-Ready (PSF)"," weighting"]}),c.jsx(xu,{size:16,className:"text-gray-400"}),c.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg border",style:{backgroundColor:F+"10",borderColor:F+"40"},children:[c.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:F}}),c.jsxs("span",{className:"text-sm font-bold",style:{color:F},children:[te,"%"]}),c.jsx("span",{className:"text-xs text-gray-500",children:"Readiness"})]})]}),c.jsxs("div",{className:"flex gap-4 text-xs text-gray-400",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-[#1B4F72] inline-block"})," Inner ring = Raw Score"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"w-2 h-2 rounded-full inline-block",style:{backgroundColor:F}})," Outer ring = M&A Readiness"]})]})]})]})})()}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 divide-x divide-gray-100",children:[c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Top Strengths"}),I.map(($,te)=>c.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full flex-shrink-0",style:{backgroundColor:$.color}}),c.jsx("span",{className:"text-xs text-gray-700 truncate",children:$.name}),c.jsxs("span",{className:"text-xs font-bold text-green-600 ml-auto",children:[Math.round($.pct),"%"]})]},te))]}),c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Largest Gaps"}),Z.map(($,te)=>c.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full flex-shrink-0",style:{backgroundColor:$.color}}),c.jsx("span",{className:"text-xs text-gray-700 truncate",children:$.name}),c.jsxs("span",{className:"text-xs font-bold text-red-500 ml-auto",children:["-",Math.round($.gap),"%"]})]},te)),Z.length===0&&c.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded-lg",children:[c.jsx(jr,{size:14,className:"text-green-600 flex-shrink-0"}),c.jsx("span",{className:"text-xs text-green-700 font-medium",children:"All themes exceeding M&A benchmarks"})]})]}),c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Actions Needed"}),c.jsx("div",{className:"text-2xl font-bold text-gray-800",children:U}),c.jsx("div",{className:"text-xs text-gray-500",children:"critical priorities"}),c.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[P.filter($=>$.gap>0).length," of ",P.length," themes below benchmark"]})]}),c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Completion"}),c.jsxs("div",{className:"text-2xl font-bold text-gray-800",children:[E.ratedCount,"/",ce]}),c.jsx("div",{className:"text-xs text-gray-500",children:"metrics rated"}),c.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5 mt-2",children:c.jsx("div",{className:"h-1.5 rounded-full bg-[#f2a71b]",style:{width:Math.round(E.ratedCount/ce*100)+"%"}})})]})]})]})})(),(()=>{const P=[];if(ke.themes.forEach(q=>{q.metrics.forEach(Z=>{e.ratings[Z.id]?.notTracked&&P.push({metric:Z,theme:q})})}),P.length===0)return null;const I={};return P.forEach(({metric:q,theme:Z})=>{I[Z.name]||(I[Z.name]=[]),I[Z.name].push(q.name)}),c.jsxs("details",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mt-4",children:[c.jsxs("summary",{className:"p-4 cursor-pointer hover:bg-gray-50 flex items-center gap-2",children:[c.jsx(wu,{size:16,className:"text-gray-400"}),c.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Information Gaps"}),c.jsxs("span",{className:"text-xs bg-gray-100 text-gray-500 px-2 py-0.5 rounded-full ml-1",children:[P.length," metrics"]}),c.jsx("span",{className:"text-xs text-gray-400 ml-auto",children:"Consider gathering data on these metrics"})]}),c.jsxs("div",{className:"px-4 pb-4 border-t border-gray-100",children:[Object.entries(I).map(([q,Z])=>c.jsxs("div",{className:"mt-3",children:[c.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-1",children:q}),Z.map((U,ce)=>c.jsxs("div",{className:"flex items-center gap-2 py-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300 flex-shrink-0"}),c.jsx("span",{className:"text-xs text-gray-600",children:U})]},ce))]},q)),c.jsx("p",{className:"text-xs text-gray-400 mt-3 italic",children:'These metrics were marked as "Not Tracked" and are excluded from your readiness score.'})]})]})})(),!p&&!h&&c.jsx(xC,{bannerKey:"scores",onUpgrade:g})]}),c.jsxs("div",{id:"dash-gaps",style:{display:S==="gaps"?"block":"none"},className:"scroll-mt-16",children:[c.jsx(yie,{themeGaps:E.themeGaps}),!p&&c.jsx(xC,{bannerKey:"gaps",onUpgrade:g})]}),c.jsx("div",{style:{display:S==="gaps"?"block":"none"},children:c.jsx(bie,{firmAssessments:i})}),c.jsx("div",{style:{display:S==="gaps"?"block":"none"},children:c.jsx(Sie,{currentAssessment:e,previousAssessment:M})}),c.jsx("div",{id:"dash-roadmap",style:{display:S==="roadmap"?"block":"none"},className:"scroll-mt-16",children:p||h?c.jsx(xie,{assessment:e,benchmarkProfile:s}):c.jsx(oh,{feature:"roadmap",onUpgrade:g})}),c.jsx("div",{id:"dash-scenario",style:{display:S==="scenario"?"block":"none"},className:"scroll-mt-16",children:p||h?c.jsx(wie,{assessment:e,benchmarkProfile:s}):c.jsx(oh,{feature:"scenario",onUpgrade:g})}),S==="export"&&!p&&!h&&c.jsx(oh,{feature:"export",onUpgrade:g}),S==="export"&&(p||h)&&c.jsxs(c.Fragment,{children:[j?c.jsxs("p",{style:{fontSize:"0.8rem",color:"#9ca3af",textAlign:"right",margin:"0 0 8px"},children:["Generating reports as ",j.name]}):c.jsxs("div",{style:{background:"rgba(242,167,27,0.06)",border:"1px solid rgba(242,167,27,0.25)",borderRadius:"12px",padding:"24px",marginBottom:"16px",textAlign:"center"},children:[c.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:"700",color:"#f5f5f5",margin:"0 0 4px"},children:"Get Your Assessment Report"}),c.jsx("p",{style:{fontSize:"0.85rem",color:"#9ca3af",margin:"0 0 16px"},children:"Enter your details to unlock PDF and executive summary exports"}),c.jsxs("form",{onSubmit:P=>{P.preventDefault();const I=new FormData(P.target),q={name:I.get("leadName"),email:I.get("leadEmail"),company:I.get("leadCompany")};sessionStorage.setItem("gdmf_lead",JSON.stringify(q)),localStorage.removeItem("gdmf_lead"),_(q),rl("Lead Captured",{email:q.email}),ye.from("leads").insert({name:q.name,email:q.email,company:q.company||null,source_context:"dashboard_export"}).then(()=>{})},style:{display:"flex",flexWrap:"wrap",gap:"8px",justifyContent:"center",maxWidth:"500px",margin:"0 auto"},children:[c.jsx("input",{name:"leadName",required:!0,placeholder:"Your name",style:{flex:"1 1 140px",padding:"8px 12px",borderRadius:"6px",border:"1px solid #374151",background:"#1f2937",color:"#f5f5f5",fontSize:"0.85rem"}}),c.jsx("input",{name:"leadEmail",type:"email",required:!0,placeholder:"Email address",style:{flex:"1 1 180px",padding:"8px 12px",borderRadius:"6px",border:"1px solid #374151",background:"#1f2937",color:"#f5f5f5",fontSize:"0.85rem"}}),c.jsx("input",{name:"leadCompany",placeholder:"Company (optional)",style:{flex:"1 1 140px",padding:"8px 12px",borderRadius:"6px",border:"1px solid #374151",background:"#1f2937",color:"#f5f5f5",fontSize:"0.85rem"}}),c.jsx("button",{type:"submit",style:{padding:"8px 24px",background:"#f2a71b",color:"#1a1a2e",borderRadius:"8px",fontWeight:"600",fontSize:"0.9rem",border:"none",cursor:"pointer",whiteSpace:"nowrap"},children:"Unlock Reports"})]}),c.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:"8px 0 0"},children:"Your details help us provide the best assessment experience"})]}),c.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Current Assessment Scores"}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-2 mb-4",children:ke.themes.map(P=>{const q=E.themeScores[P.id]?.pct||0;return c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-2 text-center border-t-2 hover:shadow-md transition-all",style:{borderTopColor:P.color},children:[c.jsx("div",{className:"text-xs font-medium truncate",style:{color:P.color},children:P.name}),c.jsxs("div",{className:"text-lg font-bold mt-0.5",style:{color:q>=66?"#16A34A":q>=38?"#D97706":"#DC2626"},children:[Math.round(q),"%"]})]},P.id)})})]}),c.jsxs("div",{id:"dash-charts",style:{display:S==="charts"?"grid":"none"},className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4 scroll-mt-16",children:[c.jsx(uie,{radarData:A,benchmarkProfile:s}),c.jsx(die,{scores:E,benchmarkProfile:s})]}),c.jsx("div",{className:"mb-4",children:c.jsx("div",{style:{display:S==="charts"?"block":"none"},children:c.jsx(aie,{ratings:e.ratings})})}),c.jsx("div",{id:"dash-heatmap",style:{display:S==="heatmap"?"block":"none"},className:"mb-4 scroll-mt-16",children:c.jsx(nie,{ratings:e.ratings})}),c.jsx("div",{id:"dash-export",style:{display:S==="export"&&(p||h)?"block":"none"},className:"scroll-mt-16",children:c.jsx(cie,{assessment:e,firmName:t,firmSector:r,scores:E,benchmarkProfile:s})})]})}const _ie=({onBack:e})=>{const t=[{title:"What is the GrowthLens?",image:"guide-firms.jpg",content:"The GrowthLens is an M&A due diligence assessment platform designed for professional services firms (PSFs). It evaluates your firm across 10 growth themes and 57 metrics, benchmarked against M&A-ready industry standards. The framework helps you understand where your firm stands relative to what acquirers look for when pricing transactions."},{title:"How the Assessment Works",image:"guide-assessment.jpg",content:"Each of the 57 metrics is rated on a 3-point maturity scale: Level 1 (Foundational) means basic or informal processes are in place. Level 2 (Evolving) means structured processes exist with some consistency. Level 3 (Optimised) means best-in-class, systematic, and measurable practices are embedded. Your scores are aggregated by theme and compared against M&A-Ready benchmarks based on professional assessment of best-in-class performance standards for professional services firms."},{title:"Understanding the Dashboard",image:"guide-dashboard.jpg",content:"The dashboard provides multiple views of your assessment: the M&A Readiness Score shows your overall readiness as a percentage inside a donut chart. The Radar Overview compares your theme scores against M&A-Ready benchmarks. The Readiness Gap Analysis ranks themes by their gap to benchmark. The Improvement Roadmap shows where focused effort will have the most impact. The Scenario Modelling tool lets you drag sliders to project how improvements would affect your overall score."},{title:"Benchmark Profiles",image:"guide-benchmark.jpg",content:"Benchmarks represent top-quartile PSF performance  the level that acquirers price for at M&A transaction events. The default M&A-Ready (PSF) benchmark averages 67% across all themes. You can compare against different benchmark profiles including Top Decile, Industry Average, and sector-specific standards via the Benchmark Profile selector on the dashboard."},{title:"Using the Insights Tab",image:"guide-insights.jpg",content:"The Insights tab (accessible from the dashboard) shows how your firm measures against all available benchmark profiles simultaneously. Green indicates M&A Ready (90%), amber indicates Nearly Ready (70%), and scores below 70% indicate areas needing focused improvement. Use Assessment Comparison to track progress over time once you have multiple assessments."},{title:"Exporting Your Results",image:"guide-export.jpg",content:"Three export options are available from the dashboard: Executive Summary (1 Page) provides a concise overview suitable for board presentations. Export PDF Report generates a comprehensive document with all charts and data. Detailed Assessment Report includes the full metric-level breakdown. You can also download raw data as CSV for further analysis."}];return c.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(Gi,{size:20})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[c.jsx(Xc,{size:24,className:"text-[#f2a71b]"})," Framework Guidance"]}),c.jsx("p",{className:"text-sm text-gray-500",children:"How to use the GrowthLens"})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 shadow-sm border-l-4 border-l-amber-400",children:[c.jsxs("h3",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2 mb-3",children:[c.jsx(Xc,{size:16,className:"text-[#f2a71b]"})," Contents"]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("a",{href:"#guidance-quickstart",onClick:r=>{r.preventDefault(),document.getElementById("guidance-quickstart").scrollIntoView({behavior:"smooth"})},className:"text-xs px-3 py-1.5 rounded-full bg-amber-50 text-amber-700 hover:bg-amber-100 transition-colors cursor-pointer border border-amber-200",children:"Quick Start Guide"}),t.map((r,n)=>c.jsx("a",{href:`#guidance-${n}`,onClick:i=>{i.preventDefault(),document.getElementById(`guidance-${n}`).scrollIntoView({behavior:"smooth"})},className:"text-xs px-3 py-1.5 rounded-full bg-amber-50 text-amber-700 hover:bg-amber-100 transition-colors cursor-pointer border border-amber-200",children:r.title},n)),c.jsx("a",{href:"#guidance-deepdives",onClick:r=>{r.preventDefault(),document.getElementById("guidance-deepdives").scrollIntoView({behavior:"smooth"})},className:"text-xs px-3 py-1.5 rounded-full bg-amber-50 text-amber-700 hover:bg-amber-100 transition-colors cursor-pointer border border-amber-200",children:"Theme Deep Dives"})]})]}),c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",id:"guidance-quickstart",children:[c.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(jr,{size:18,className:"text-[#f2a71b]"})," Quick Start Guide"]}),c.jsx("div",{className:"space-y-3",children:[["1. Create a Firm","Navigate to the Firms tab and click '+ New Firm'. Enter the firm name and select its sector for automatic benchmark matching."],["2. Start Assessment","Click the firm, then '+ New Assessment'. Work through each theme, rating metrics on the 3-point scale (Foundational / Evolving / Optimised)."],["3. Add Evidence","For each rating, expand the Evidence section to attach supporting links or notes. This builds credibility for due diligence reviews."],["4. Set Confidence","Rate your confidence (Low / Medium / High) for each metric. Low confidence flags areas needing further investigation."],["5. Review Dashboard","Once rated, open the Dashboard to see your M&A Readiness Score, gap analysis, and improvement roadmap."],["6. Model Scenarios","Use Scenario Modelling to see how improving specific themes would change your overall readiness score."]].map(([r,n],i)=>c.jsxs("div",{className:"flex gap-3 items-start",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-[#f2a71b] text-white text-xs font-bold flex items-center justify-center flex-shrink-0 mt-0.5",children:i+1}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-semibold text-gray-800",children:r.replace(/^\d+\.\s/,"")}),c.jsxs("span",{className:"text-sm text-gray-500",children:[" ",""," ",n]})]})]},i))})]}),t.map((r,n)=>c.jsxs("div",{id:`guidance-${n}`,className:"scroll-mt-4 bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[c.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-3 flex items-center gap-2",children:[c.jsx(up,{size:18,className:"text-[#f2a71b]"})," ",r.title]}),c.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:r.content})]},n)),c.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 mb-6",id:"guidance-deepdives",children:[c.jsxs("h2",{className:"text-xl font-bold text-[#1f1f1f] mb-2 flex items-center gap-2",children:[c.jsx(sa,{size:22,className:"text-[#f2a71b]"}),"Theme Deep Dives"]}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Explore each growth theme in detail with industry benchmarks, real-world case studies, and maturity progression insights for professional services firms."}),c.jsx("div",{className:"space-y-3",children:ke.themes.map(r=>{const n=qR.themes[r.id];return n?c.jsxs("details",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[c.jsxs("summary",{className:"cursor-pointer p-4 flex items-center gap-3 hover:bg-gray-50 select-none",style:{borderLeft:`4px solid ${r.color}`},children:[c.jsx("span",{className:"font-semibold text-[#1f1f1f]",children:r.name}),c.jsxs("span",{className:"ml-auto text-xs text-gray-400 tabular-nums",children:[r.metrics.length," metrics"]})]}),c.jsxs("div",{className:"px-4 pb-4 border-t border-gray-100",children:[c.jsxs("div",{className:"mt-3",children:[c.jsx("h4",{className:"font-semibold text-sm text-[#1f1f1f] mb-1",children:"Why This Matters for M&A"}),c.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:n.overview})]}),c.jsxs("div",{className:"mt-3",children:[c.jsx("h4",{className:"font-semibold text-sm text-[#1f1f1f] mb-2",children:"Key Benchmarks"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-xs",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-200",children:[c.jsx("th",{className:"text-left py-1 pr-3 font-medium text-gray-500",children:"Metric"}),c.jsx("th",{className:"text-left py-1 font-medium text-gray-500",children:"Target"})]})}),c.jsx("tbody",{children:n.keyBenchmarks.map((i,s)=>c.jsxs("tr",{className:"border-b border-gray-100",children:[c.jsx("td",{className:"py-1.5 pr-3 text-[#1f1f1f]",children:i.metric}),c.jsx("td",{className:"py-1.5 font-medium text-[#f2a71b]",children:i.target})]},s))})]})})]}),c.jsxs("div",{className:"mt-3",children:[c.jsx("h4",{className:"font-semibold text-sm text-[#1f1f1f] mb-1",children:"Case Study"}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-xs",children:[c.jsx("p",{className:"font-medium text-[#1f1f1f] mb-1",children:n.caseStudy.title}),c.jsx("p",{className:"text-gray-600 mb-2",children:n.caseStudy.scenario}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[c.jsxs("div",{className:"bg-white rounded p-2 border border-gray-200",children:[c.jsx("p",{className:"font-medium text-red-600 text-[10px] uppercase tracking-wide mb-0.5",children:"Foundational"}),c.jsx("p",{className:"text-gray-600 text-[11px] leading-relaxed",children:n.caseStudy.foundational})]}),c.jsxs("div",{className:"bg-white rounded p-2 border border-gray-200",children:[c.jsx("p",{className:"font-medium text-amber-600 text-[10px] uppercase tracking-wide mb-0.5",children:"Evolving"}),c.jsx("p",{className:"text-gray-600 text-[11px] leading-relaxed",children:n.caseStudy.evolution})]}),c.jsxs("div",{className:"bg-white rounded p-2 border border-gray-200",children:[c.jsx("p",{className:"font-medium text-green-600 text-[10px] uppercase tracking-wide mb-0.5",children:"Optimised"}),c.jsx("p",{className:"text-gray-600 text-[11px] leading-relaxed",children:n.caseStudy.optimised})]})]}),c.jsxs("p",{className:"text-gray-600 mt-2",children:[c.jsx("span",{className:"font-medium text-[#1f1f1f]",children:"Outcome:"})," ",n.caseStudy.outcome]})]})]})]})]},r.id):null})})]}),c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[c.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(m1,{size:18,className:"text-[#f2a71b]"})," Assessment Best Practices"]}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:[["Be Honest","Rate where the firm actually is, not where it aspires to be. Accurate baselines drive meaningful roadmaps."],["Use Evidence","Attach links to documents, reports, or data that support each rating. Evidence-backed assessments carry more weight."],["Involve Stakeholders","Have department leads rate their own areas. Cross-referencing perspectives improves accuracy."],["Reassess Quarterly","Track progress over time by creating new assessments. The Insights tab compares across assessments."]].map(([r,n],i)=>c.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-100",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-800 mb-1",children:r}),c.jsx("div",{className:"text-xs text-gray-500 leading-relaxed",children:n})]},i))})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-6",children:[c.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-3 flex items-center gap-2",children:[c.jsx(Xc,{size:18,className:"text-gray-600"})," Research Foundation & Industry Context"]}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This framework's benchmarks, scoring models, and best practices have been developed through extensive analysis of professional services industry research, including perspectives from:"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-0.5",children:["EY  Global M&A Integration Handbook","McKinsey & Company  Creating Value Through M&A","Bain & Company  Global Private Equity Report","Deloitte  M&A Trends Report (Annual)","PwC  Global M&A Industry Trends","KPMG  M&A Integration & Carve-Out Insights","BCG  Value Creation in Private Equity","Harvard Business Review  M&A Research Series","MIT Sloan Management Review  Org. Design","Mercer  People Risks in M&A Transactions","Willis Towers Watson  M&A Retention Study","Aon  Human Capital M&A Research","Gartner  IT Due Diligence Framework","Forrester  Technology M&A Integration","SHRM  Culture & HR Due Diligence","The Conference Board  CEO Challenge Survey","Oliver Wyman  Strategic Due Diligence","Accenture  Growth-Driven M&A","S&P Global  Market Intelligence Data","Pitchbook  Private Equity & M&A Analytics","Dealogic  Global M&A Market Data","CFA Institute  M&A Valuation Best Practices"].map((r,n)=>c.jsxs("div",{className:"flex items-center gap-2 py-0.5",children:[c.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400 shrink-0"}),c.jsx("span",{className:"text-xs text-gray-600",children:r})]},n))}),c.jsx("p",{className:"text-xs text-gray-400 mt-4 italic",children:"Benchmarks in this framework are based on professional assessment of best-in-class performance standards for growth-oriented professional services firms."})]}),c.jsxs("div",{className:"bg-amber-50 rounded-lg border border-amber-200 p-6",children:[c.jsx("h2",{className:"text-lg font-bold text-amber-800 mb-2",children:"Need Help?"}),c.jsx("p",{className:"text-sm text-amber-700",children:"Start by selecting a firm from the Firms tab, create a new assessment, and rate each metric honestly based on your current capabilities. The dashboard will automatically calculate your M&A Readiness Score and highlight areas for improvement."})]}),c.jsx("div",{className:"text-center pt-6 pb-2",children:c.jsx("button",{onClick:()=>document.getElementById("guidance-0")?.scrollIntoView({behavior:"smooth"}),className:"text-sm text-amber-600 hover:text-amber-800 font-medium transition-colors cursor-pointer",children:" Back to Top"})})]})]})};function Aie(){const{user:e}=Ir(),[t,r]=b.useState({name:"",email:"",message:""}),[n,i]=b.useState(!1),[s,l]=b.useState(!1),[d,f]=b.useState(""),h=async p=>{p.preventDefault(),i(!0),f("");try{const{error:g}=await ye.from("contact_submissions").insert([{name:t.name,email:t.email,message:t.message,source_context:"app_contact",user_id:e?.id||null}]);if(g)throw g;l(!0),r({name:"",email:"",message:""})}catch{f("Something went wrong. Please try again.")}finally{i(!1)}};return c.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-10",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("div",{className:"w-32 h-32 mx-auto mb-4 rounded-full border-4 border-amber-400 shadow-lg overflow-hidden",children:c.jsx("img",{src:"https://xbrywtjahuidaufcdvti.supabase.co/storage/v1/object/public/images/Portrait%20Photo.png",alt:"Richard Goold",className:"w-full h-full object-cover"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Richard Goold"}),c.jsx("p",{className:"text-gray-600 max-w-md mx-auto mb-4",children:"Supporting founders, CEOs and boards build, scale and prepare their firms for successful outcomes through coaching, M&A readiness support and advisory."}),c.jsxs("div",{className:"flex items-center justify-center gap-3",children:[c.jsxs("a",{href:"https://richardgoold.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[c.jsx(ju,{className:"w-4 h-4"})," Website"]}),c.jsxs("a",{href:"https://www.linkedin.com/in/richardgooldofficial/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[c.jsx(gte,{className:"w-4 h-4"})," LinkedIn"]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Get in Touch"}),s?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:c.jsx(jr,{className:"w-6 h-6 text-green-600"})}),c.jsx("p",{className:"text-gray-900 font-medium",children:"Message sent!"}),c.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Richard will be in touch shortly."}),c.jsx("button",{onClick:()=>l(!1),className:"mt-4 text-sm text-amber-600 hover:text-amber-700 font-medium",children:"Send another message"})]}):c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),c.jsx("input",{type:"text",required:!0,value:t.name,onChange:p=>r(g=>({...g,name:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400 outline-none transition-colors",placeholder:"Your name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",required:!0,value:t.email,onChange:p=>r(g=>({...g,email:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400 outline-none transition-colors",placeholder:"your@email.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),c.jsx("textarea",{required:!0,rows:4,value:t.message,onChange:p=>r(g=>({...g,message:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400 outline-none transition-colors resize-none",placeholder:"How can we help?"})]}),d&&c.jsx("p",{className:"text-red-600 text-sm",children:d}),c.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 bg-amber-400 hover:bg-amber-500 text-white font-bold rounded-lg shadow transition-colors disabled:opacity-50",children:n?"Sending...":"Send Message"})]})]})]})}function Nie(){const{user:e,signOut:t,isPremium:r,profile:n,isAdmin:i,updatePassword:s}=Ir(),l=e?.id===lh,d=vl(),{openContactModal:f}=ud(),[h,p]=b.useState(()=>Vae()),g=Gae();b.useEffect(()=>{!g.loading&&g.state.firms.length>0&&p(g.state)},[g.loading]);const[v,x]=b.useState("firms"),[S,k]=b.useState(null),[j,_]=b.useState(null),[E,A]=b.useState(null),[T,C]=b.useState(()=>!localStorage.getItem("gdmf_onboarding_complete")),[O,M]=b.useState(null),[P,I]=b.useState(()=>{try{return JSON.parse(localStorage.getItem("gdmf_deleted")||"[]")}catch{return[]}}),[q,Z]=b.useState(null),[U,ce]=b.useState(()=>{const Y=h.firms?.find(pe=>pe.id===S);return Kae[Y?.sector]||"M&A-Ready (PSF)"}),[$,te]=b.useState(!1),[L,F]=b.useState(null),[ae,ue]=b.useState(!1),[ee,D]=b.useState(!1),[H,Q]=b.useState(!1),[ie,me]=b.useState({current:"",new_pw:"",confirm:""}),[le,he]=b.useState(""),[ot,re]=b.useState(!1),[Ce,Ie]=b.useState(!1),[de,It]=b.useState(!1),[Be,_t]=b.useState(!1),Lt=b.useRef(n?.tier);b.useEffect(()=>{const Y=Lt.current,pe=n?.tier;Y==="free"&&pe==="premium"&&(_t(!0),setTimeout(()=>_t(!1),1e4)),Lt.current=pe},[n?.tier]),b.useEffect(()=>{Yae(h)},[h]),b.useEffect(()=>{if(!e?.id||!h.assessments)return;const Y=setTimeout(()=>{Object.entries(h.assessments).forEach(([pe,je])=>{je&&je.ratings&&ye.from("assessments").update({ratings:je.ratings}).eq("id",pe).then(Pe=>Pe.error&&void 0)})},2e3);return()=>clearTimeout(Y)},[JSON.stringify(h.assessments)]),b.useEffect(()=>{localStorage.setItem("gdmf_deleted",JSON.stringify(P))},[P]),b.useEffect(()=>{I(Y=>Y.filter(pe=>Date.now()-pe.timestamp<720*60*60*1e3))},[]),b.useEffect(()=>{const Y=FR(),pe={"Apex Consulting Partners":Y.assessments.demo_apex_a1.ratings,"TechBridge Solutions":Y.assessments.demo_techbridge_a1.ratings,"Phoenix Advisory Group":Y.assessments.demo_phoenix_a1.ratings},je=ke.themes.flatMap(Pe=>Pe.metrics.map(Ae=>Ae.id));p(Pe=>{let Ae=!1;const He={...Pe.assessments};return Pe.firms.forEach(Jr=>{const ai=pe[Jr.name];ai&&Object.entries(He).forEach(([Ws,jn])=>{if(jn.firmId!==Jr.id)return;const ii=jn.ratings||{};if(Object.keys(ii).filter(Hn=>ii[Hn]?.level).length>=je.length)return;const Vs={...ii};je.forEach(Hn=>{(!Vs[Hn]||!Vs[Hn].level)&&ai[Hn]&&(Vs[Hn]=ai[Hn],Ae=!0)}),He[Ws]={...jn,ratings:Vs}})}),Ae?{...Pe,assessments:He}:Pe})},[]);const wn=Y=>{p(pe=>({...pe,firms:[...pe.firms,Y]})),ye.from("firms").insert({id:Y.id,user_id:e?.id,name:Y.name,sector:Y.sector}).then(pe=>pe.error&&void 0)},ni=Y=>{const pe=h.firms.find(Pe=>Pe.id===Y),je={};Object.keys(h.assessments).forEach(Pe=>{h.assessments[Pe].firmId===Y&&(je[Pe]=h.assessments[Pe])}),M({title:"Delete Firm",message:`Are you sure you want to delete "${pe?.name||"this firm"}" and all its assessments?`,onConfirm:()=>{const Pe={type:"firm",id:Y,name:pe?.name||"Firm",data:{firm:pe,assessments:je},timestamp:Date.now()};I(Ae=>[Pe,...Ae]),p(Ae=>{const He={...Ae.assessments};return Object.keys(He).forEach(Jr=>{He[Jr].firmId===Y&&delete He[Jr]}),{firms:Ae.firms.filter(Jr=>Jr.id!==Y),assessments:He}}),ye.from("firms").delete().eq("id",Y).then(Ae=>Ae.error&&void 0),M(null),k(null),x("firms"),Z({message:`"${pe?.name||"Firm"}" deleted`,onUndo:()=>{p(Ae=>({firms:[...Ae.firms,pe],assessments:{...Ae.assessments,...je}})),I(Ae=>Ae.filter(He=>!(He.type==="firm"&&He.id===Y&&He.timestamp===Pe.timestamp))),Z(null)},onExpire:()=>Z(null)})},onCancel:()=>M(null)})},Ll=Y=>{const pe=h.assessments[Y],je=h.firms.find(Pe=>Pe.id===pe?.firmId);M({title:"Delete Assessment",message:"Are you sure you want to delete this assessment? All ratings and evidence will be removed.",onConfirm:()=>{const Pe={type:"assessment",id:Y,name:`Assessment for ${je?.name||"Unknown"}`,data:{assessment:{...pe,_key:Y}},timestamp:Date.now()};I(Ae=>[Pe,...Ae]),p(Ae=>{const He={...Ae.assessments};return delete He[Y],{...Ae,assessments:He}}),ye.from("assessments").delete().eq("id",Y).then(Ae=>Ae.error&&void 0),M(null),Z({message:"Assessment deleted",onUndo:()=>{p(Ae=>({...Ae,assessments:{...Ae.assessments,[Y]:pe}})),I(Ae=>Ae.filter(He=>!(He.type==="assessment"&&He.id===Y&&He.timestamp===Pe.timestamp))),Z(null)},onExpire:()=>Z(null)})},onCancel:()=>M(null)})},Bl=Y=>{if(Y.type==="firm")p(pe=>({firms:[...pe.firms,Y.data.firm],assessments:{...pe.assessments,...Y.data.assessments}}));else if(Y.type==="assessment"){const pe=Y.data.assessment;p(je=>({...je,assessments:{...je.assessments,[pe._key]:pe}}))}I(pe=>pe.filter(je=>!(je.id===Y.id&&je.timestamp===Y.timestamp)))},zl=Y=>{I(pe=>pe.filter(je=>!(je.id===Y.id&&je.timestamp===Y.timestamp)))},xp=(Y,pe={})=>{const je=UR(),Pe={};Object.entries(pe).forEach(([Ae,He])=>{Pe[Ae]={level:He,updatedAt:new Date().toISOString()}}),p(Ae=>({...Ae,assessments:{...Ae.assessments,[je]:{id:je,firmId:Y,createdAt:new Date().toISOString(),ratings:Pe}}})),_(je),x("assess"),e?.id&&ye.from("assessments").insert({id:je,firm_id:Y,user_id:e?.id,ratings:Pe,benchmark_profile:"Professional Services"}).then(Ae=>Ae.error&&void 0)},wp=b.useCallback((Y,pe)=>{p(je=>{const Pe=je.assessments[j];if(!Pe)return je;const Ae={...Pe.ratings};return pe===null?delete Ae[Y]:typeof pe=="object"&&pe.notTracked?Ae[Y]={notTracked:!0,level:0,updatedAt:new Date().toISOString()}:Ae[Y]={...Ae[Y],notTracked:!1,level:pe,updatedAt:new Date().toISOString()},{...je,assessments:{...je.assessments,[j]:{...Pe,ratings:Ae}}}})},[j]),yr=b.useCallback((Y,pe)=>{p(je=>{const Pe=je.assessments[j];if(!Pe)return je;const Ae={...Pe.ratings};return Ae[Y]={...Ae[Y],comment:pe},{...je,assessments:{...je.assessments,[j]:{...Pe,ratings:Ae}}}})},[j]),ma=h.firms.find(Y=>Y.id===S),Ki=h.assessments[j],Wi=h.assessments[E],Fn=Wi?h.firms.find(Y=>Y.id===Wi.firmId):ma,dd=[{id:"firms",label:"Firms",icon:sp},{id:"assess",label:"Assess",icon:cp,disabled:!j},{id:"dashboard",label:"Dashboard",icon:sd,disabled:!j&&!E},{id:"guidance",label:"Guidance",icon:Xc},{id:"contact",label:"Contact",icon:vR}],fd=(Y,pe)=>{p(je=>{const Pe=JSON.parse(JSON.stringify(je));if(Pe.firms.find(He=>He.id===S)){const He=Pe.assessments[j];He&&He.ratings[Y]&&(He.ratings[Y].confidence=pe)}return Pe})},jp=b.useMemo(()=>{const Y=h.firms.find(pe=>pe.id===S);return Y?Object.values(h.assessments).filter(pe=>pe.firmId===Y.id):[]},[h.firms,S]),Sp=(Y,pe)=>{p(je=>{const Pe=je.firms.map(Ae=>Ae.id!==S?Ae:{...Ae,assessments:Ae.assessments.map(He=>He.id!==j?He:{...He,ratings:{...He.ratings,[Y]:{...He.ratings[Y]||{},evidence:pe}}})});return{...je,firms:Pe}})};b.useEffect(()=>{const Y={firms:"Firms",dashboard:"Dashboard",assess:"Assessment",settings:"Settings"};document.title=v?`GrowthLens   ${Y[v]||v.charAt(0).toUpperCase()+v.slice(1)}`:"GrowthLens"},[v]),b.useEffect(()=>{if(!document.getElementById("brand-fonts")){const Y=document.createElement("link");Y.id="brand-fonts",Y.rel="stylesheet",Y.href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Arimo:ital,wght@0,400;0,500;0,600;1,400&display=swap",document.head.appendChild(Y)}},[]);const Yi=async()=>{if(he(""),!ie.new_pw||!ie.confirm){he("Please fill in all fields.");return}if(ie.new_pw.length<8){he("New password must be at least 8 characters.");return}if(ie.new_pw!==ie.confirm){he("New passwords do not match.");return}Ie(!0);const{error:Y}=await s(ie.new_pw);if(Ie(!1),Y){he(Y.message);return}re(!0),setTimeout(()=>{D(!1),me({current:"",new_pw:"",confirm:""}),he(""),re(!1),It(!1)},2e3)};return c.jsxs("div",{className:"h-screen flex flex-col bg-[#f9f9f9]",style:{fontFamily:"Inter, system-ui, sans-serif"},children:[Be&&c.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 bg-gradient-to-r from-amber-500 to-yellow-400 text-white px-6 py-4 rounded-xl shadow-2xl max-w-lg animate-bounce-once",children:[c.jsx("span",{className:"text-2xl flex-shrink-0",children:""}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-bold text-sm",children:"You've been upgraded to Premium!"}),c.jsx("p",{className:"text-xs opacity-90 mt-0.5",children:"All features are now unlocked  no need to log out."})]}),i&&c.jsxs("button",{onClick:()=>{Q(!0),setShowProfileDropdown(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Two-Factor Auth"]}),c.jsx("button",{onClick:()=>_t(!1),className:"flex-shrink-0 ml-2 text-white/80 hover:text-white text-lg font-bold leading-none",children:""})]}),ee&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",onClick:()=>{D(!1),me({current:"",new_pw:"",confirm:""}),he(""),re(!1)},children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md mx-4 p-6",onClick:Y=>Y.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between mb-5",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[c.jsx(Rn,{size:18,className:"text-amber-500"})," Change Password"]}),c.jsx("button",{onClick:()=>{D(!1),me({current:"",new_pw:"",confirm:""}),he(""),re(!1)},className:"text-gray-400 hover:text-gray-600",children:c.jsx(qn,{size:20})})]}),ot?c.jsxs("div",{className:"flex flex-col items-center py-8",children:[c.jsx(jr,{size:48,className:"text-green-500 mb-3"}),c.jsx("p",{className:"text-green-700 font-medium",children:"Password updated successfully"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:de?"text":"password",value:ie.new_pw,onChange:Y=>me(pe=>({...pe,new_pw:Y.target.value})),placeholder:"At least 8 characters",className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none"}),c.jsx("button",{type:"button",onClick:()=>It(Y=>!Y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:de?c.jsx(p1,{size:16}):c.jsx(Gs,{size:16})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),c.jsx("input",{type:"password",value:ie.confirm,onChange:Y=>me(pe=>({...pe,confirm:Y.target.value})),placeholder:"Re-enter new password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none"})]})]}),le&&c.jsxs("p",{className:"mt-3 text-sm text-red-600 flex items-center gap-1",children:[c.jsx(lp,{size:14})," ",le]}),c.jsxs("div",{className:"flex gap-3 mt-6",children:[c.jsx("button",{onClick:()=>{D(!1),me({current:"",new_pw:"",confirm:""}),he("")},className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),c.jsx("button",{onClick:Yi,disabled:Ce,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-amber-500 hover:bg-amber-600 disabled:opacity-50 rounded-lg transition-colors",children:Ce?"Updating":"Update Password"})]})]}),c.jsx(Hae,{isOpen:H,onClose:()=>Q(!1)})]})}),T&&c.jsx(hie,{onComplete:()=>C(!1)}),O&&c.jsx(Qae,{...O}),q&&c.jsx(Jae,{message:q.message,seconds:8,onUndo:q.onUndo,onExpire:q.onExpire}),Be&&c.jsx("div",{className:"fixed top-6 left-1/2 -translate-x-1/2 z-[200] animate-fade-in",children:c.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-yellow-500 text-white rounded-xl shadow-2xl px-6 py-4 flex items-center gap-4 max-w-lg",children:[c.jsx("div",{className:"text-3xl",children:""}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-bold text-lg",children:"You've been upgraded to Premium!"}),c.jsx("div",{className:"text-sm text-amber-100 mt-0.5",children:"All features are now unlocked."})]}),c.jsx("button",{onClick:()=>_t(!1),className:"text-white/80 hover:text-white text-xl font-bold ml-2",children:""})]})}),L&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>F(null)}),c.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 bg-white border border-gray-200 rounded-2xl shadow-2xl p-8 max-w-sm w-full mx-4 text-center",children:[c.jsx("div",{className:"w-14 h-14 rounded-full bg-amber-100 flex items-center justify-center mx-auto mb-4",children:c.jsx(Rn,{size:24,className:"text-amber-500"})}),c.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:[L," is a Pro feature"]}),c.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Upgrade to GrowthLens Pro to unlock full dashboards, guidance, and detailed reporting."}),c.jsx("button",{onClick:()=>{F(null),x("connect")},className:"w-full py-2.5 rounded-lg text-sm font-semibold text-gray-900 transition-colors",style:{background:"#f2a71b"},children:"Contact Us to Upgrade"}),c.jsx("button",{onClick:()=>F(null),className:"w-full py-2 mt-2 rounded-lg text-sm text-gray-400 hover:text-gray-900 transition-colors",children:"Maybe later"})]})]}),i&&c.jsxs("div",{className:"bg-amber-50 border-b border-amber-200 px-4 py-2 flex items-center justify-between flex-shrink-0",children:[c.jsx("span",{className:"text-sm text-amber-800",children:"You are viewing the app as a regular user"}),c.jsx("button",{onClick:()=>d("/admin"),className:"text-sm font-medium text-amber-700 hover:text-amber-900 bg-amber-100 hover:bg-amber-200 px-3 py-1 rounded transition-colors",children:"Back to Admin"})]}),c.jsxs("header",{className:"px-4 py-2.5 flex items-center justify-between flex-shrink-0 bg-white border-b border-gray-200",style:{position:"relative",zIndex:99997},children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"cursor-pointer",onClick:()=>{d("/")},children:c.jsx("img",{src:"/GrowthLens%20Logo_no%20strapline.png",alt:"GrowthLens",className:"h-8 w-auto"})}),c.jsxs("div",{className:"relative",style:{zIndex:50},children:[c.jsxs("button",{onClick:Y=>{Y.stopPropagation(),ue(!ae)},className:"flex items-center gap-2 px-2 py-1 rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${r?"bg-amber-100 text-amber-800":"bg-gray-200 text-gray-600"}`,children:r?"Premium":"Free"}),c.jsx(Ui,{className:"w-3 h-3 text-gray-500"})]}),ae&&c.jsxs(c.Fragment,{children:[c.jsx("div",{style:{position:"fixed",inset:0,zIndex:99998,backgroundColor:"rgba(0,0,0,0.08)"},onClick:Y=>{Y.stopPropagation(),ue(!1)}}),c.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 rounded-lg py-1",style:{backgroundColor:"#ffffff",zIndex:99999,boxShadow:"0 20px 25px -5px rgba(0,0,0,0.15), 0 8px 10px -6px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"},onClick:Y=>Y.stopPropagation(),children:[c.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[c.jsx("p",{className:"text-sm font-medium text-gray-800",children:n?.full_name||"User"}),c.jsx("p",{className:"text-xs text-gray-500",children:e?.email})]}),c.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[c.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Current Plan"}),c.jsxs("div",{className:"flex items-center justify-between mt-1",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:r?"Premium":"Free Plan"}),!r&&c.jsx("button",{onClick:()=>{ue(!1),f("Premium Upgrade Enquiry")},className:"text-xs text-amber-600 hover:text-amber-700 font-medium",children:"Upgrade"})]})]}),c.jsxs("button",{onClick:Y=>{Y.stopPropagation(),ue(!1),D(!0)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[c.jsx(Rn,{size:14})," Change Password"]}),c.jsxs("button",{onClick:Y=>{Y.stopPropagation(),ue(!1),t()},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[c.jsx(pR,{className:"w-4 h-4"}),"Sign Out"]})]})]})]})]}),c.jsx("nav",{className:"hidden lg:flex items-center gap-1",children:dd.map(Y=>c.jsxs("button",{disabled:Y.disabled&&!Y.locked,title:Y.disabled?"Please select an assessment first":"",onClick:()=>{if(Y.locked){F(Y.label);return}Y.id==="dashboard"&&j&&A(j),Y.id==="firms"&&(k(null),_(null)),x(Y.id)},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${v===Y.id?"bg-amber-50 text-amber-600 font-bold border-b-2 border-amber-400":Y.locked?"text-gray-500 cursor-not-allowed opacity-60":Y.disabled?"text-gray-600 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:[Y.locked?c.jsx(Rn,{size:12,className:"text-gray-500"}):c.jsx(Y.icon,{size:14}),c.jsx("span",{className:"hidden sm:inline",children:Y.label}),Y.locked&&c.jsx("span",{className:"text-[10px] text-amber-500/70 font-normal ml-0.5",children:"PRO"})]},Y.id))}),c.jsx("button",{className:"lg:hidden p-2 rounded-lg text-gray-700 hover:bg-gray-100",onClick:()=>te(Y=>!Y),children:$?c.jsx(qn,{size:22}):c.jsx(Tte,{size:22})})]}),$&&c.jsx("div",{className:"lg:hidden bg-white border-t border-gray-200 px-4 py-2 flex flex-col gap-1",children:dd.map(Y=>c.jsxs("button",{disabled:Y.disabled&&!Y.locked,title:Y.disabled?"Please select an assessment first":"",onClick:()=>{if(Y.locked){F(Y.label);return}x(Y.id),te(!1)},className:`flex items-center gap-2 w-full px-3 py-3 rounded-lg text-sm font-medium text-left transition-colors ${Y.locked?"text-gray-500 opacity-60":"text-gray-700 hover:bg-gray-100"}`,children:[Y.locked?c.jsx(Rn,{size:16,className:"text-gray-500"}):c.jsx(Y.icon,{size:18}),Y.label,Y.locked&&c.jsx("span",{className:"text-[10px] text-amber-500/70 font-normal ml-auto",children:"PRO"})]},Y.id))}),c.jsx(fie,{view:v,firmName:ma?.name,onNavigate:Y=>{if(Y==="landing"){x("firms"),k(null),_(null);return}else Y==="firms"?(x("firms"),k(null),_(null)):Y==="firmDetail"?(x("firmDetail"),_(null)):x(Y==="assess"?j?"assess":"firms":Y==="dashboard"?S?Y:"firms":Y)}}),c.jsx("style",{children:"@media print { nav, footer, .no-print, button { display: none !important; } main { overflow: visible !important; } body { font-size: 12pt; } } @keyframes fadeSlideIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } } .view-transition { animation: fadeSlideIn 0.3s ease-out; }"}),c.jsxs("main",{className:"flex-1 overflow-auto flex flex-col view-transition",children:[v==="landing"&&c.jsx(mie,{onGetStarted:()=>x("firms")}),v==="firms"&&!S&&c.jsx(pie,{firms:h.firms,onCreateFirm:wn,onSelectFirm:Y=>{k(Y),x("firmDetail")},onDeleteFirm:ni,assessments:h.assessments,recentlyDeleted:P,restoreItem:Bl,permanentlyDeleteItem:zl,onViewDashboard:(Y,pe)=>{k(Y),_(pe),A(pe),x("dashboard")},isDemo:ma?.isDemo,userTier:n?.tier,isDemoAccount:l}),v==="firmDetail"&&ma&&c.jsx(gie,{isDemo:ma?.isDemo,firm:ma,assessments:h.assessments,onCreateAssessment:xp,onSelectAssessment:Y=>{_(Y),x("assess")},onBack:()=>{k(null),x("firms")},onDeleteAssessment:Ll,onViewDashboard:Y=>{_(Y),A(Y),x("dashboard")},userTier:n?.tier,onDeleteFirm:ni,isDemoAccount:l}),v==="assess"&&Ki&&c.jsx(vie,{assessment:Ki,onRate:wp,onComment:yr,onBack:()=>{x("firmDetail")},onConfidence:fd,onEvidence:Sp,onGuidance:()=>x("guidance"),isDemo:ma?.isDemo,userTier:n?.tier}),v==="dashboard"&&(Wi||Ki)&&c.jsx(kie,{assessment:Wi||Ki,firmName:Fn?.name||"Firm",firmSector:Fn?.sector,onBack:()=>x("assess"),firmAssessments:jp,benchmarkProfile:U,onBenchmarkChange:ce,onCompare:()=>x("comparison"),onGuidance:()=>x("guidance"),isDemoFirm:Fn?.id?.startsWith("demo_")||!1}),v==="comparison"&&c.jsx(jie,{firmId:Fn?.id,firmName:Fn?.name||"Firm",assessments:h.assessments,benchmarkProfile:U,onBack:()=>x("dashboard")}),v==="guidance"&&c.jsx(_ie,{onBack:()=>x("firms")}),v==="contact"&&c.jsx(Aie,{}),c.jsxs("footer",{className:"mt-auto py-6 border-t border-gray-200 text-center",children:[c.jsxs("p",{className:"text-xs text-gray-400",children:[" ",new Date().getFullYear()," GrowthLens. All rights reserved."]}),e&&c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Confidential  For authorised use only."})]})]},v+(S||"")+(j||""))]})}let fm=null;function Eie(){const[e,t]=b.useState(!1),r=n=>{const i=document.getElementById(n);if(i){const l=i.getBoundingClientRect().top+window.scrollY-72;window.scrollTo({top:l,behavior:"smooth"})}t(!1)};return c.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-100",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsx("div",{className:"cursor-pointer",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:c.jsx("img",{src:"/GrowthLens%20Logo.png",alt:"GrowthLens",className:"h-10 w-auto rounded-lg"})}),c.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[c.jsx("button",{onClick:()=>r("how-it-works"),className:"text-sm text-gray-600 hover:text-gray-900 transition",children:"How It Works"}),c.jsx("button",{onClick:()=>r("features"),className:"text-sm text-gray-600 hover:text-gray-900 transition",children:"Features"}),c.jsx("button",{onClick:()=>r("contact"),className:"text-sm text-gray-600 hover:text-gray-900 transition",children:"Contact"})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[c.jsx(tr,{to:"/login",className:"text-sm text-gray-600 hover:text-gray-900 transition",children:"Log In"}),c.jsx(tr,{to:"/signup?tier=free",className:"inline-flex items-center px-5 py-2.5 bg-amber-400 hover:bg-amber-500 text-white font-semibold text-sm rounded-lg transition shadow-sm",children:"Sign Up Free"})]}),c.jsx("button",{onClick:()=>t(!e),className:"md:hidden p-2 text-gray-600",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e?c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),e&&c.jsx("div",{className:"md:hidden py-4 border-t border-gray-100",children:c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsx("button",{onClick:()=>r("how-it-works"),className:"text-left text-sm text-gray-600 py-2",children:"How It Works"}),c.jsx("button",{onClick:()=>r("features"),className:"text-left text-sm text-gray-600 py-2",children:"Features"}),c.jsx("button",{onClick:()=>r("contact"),className:"text-left text-sm text-gray-600 py-2",children:"Contact"}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsx(tr,{to:"/login",className:"text-sm text-gray-600 py-2",children:"Log In"}),c.jsx(tr,{to:"/signup",className:"inline-flex items-center px-4 py-2 bg-amber-400 text-white font-semibold text-sm rounded-lg",children:"Sign Up Free"})]})]})})]})})}function Oie(){return c.jsx("section",{className:"min-h-screen flex items-center justify-center bg-white pt-20 sm:pt-24 pb-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsxs("div",{className:"mb-6 sm:mb-10",children:[c.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold text-gray-900 leading-snug mb-3",children:["Whether you're driving growth,",c.jsx("br",{}),"building enterprise value,",c.jsx("br",{}),"or preparing for what's next -"]}),c.jsx("p",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold text-amber-500 leading-snug",children:"move forward with confidence."}),c.jsx("div",{className:"h-1 w-16 bg-amber-400 rounded-full mx-auto mt-6"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4 mb-8 sm:mb-14",children:[c.jsxs(tr,{to:"/signup",className:"inline-flex items-center px-10 py-4 bg-amber-400 hover:bg-amber-500 text-white font-bold text-lg rounded-xl transition-all duration-200 shadow-lg shadow-amber-300/30 hover:shadow-xl hover:scale-[1.02] transform gap-2",children:["Sign Up Free",c.jsx(xu,{className:"w-5 h-5"})]}),c.jsx("button",{onClick:()=>{const e=document.getElementById("how-it-works");if(e){const t=e.getBoundingClientRect().top+window.scrollY-72;window.scrollTo({top:t,behavior:"smooth"})}},className:"inline-flex items-center px-8 py-4 bg-white hover:bg-gray-50 text-gray-700 font-semibold text-lg rounded-xl border-2 border-gray-200 hover:border-gray-300 transition-all duration-200 gap-2",children:"See How It Works"})]}),c.jsxs("div",{className:"flex items-start justify-center gap-6 sm:gap-12 pt-8 border-t border-gray-100",children:[c.jsxs("div",{className:"text-center flex-1 min-w-0",children:[c.jsx("p",{className:"text-4xl sm:text-5xl font-black text-amber-500",children:c.jsx(q0,{target:"10"})}),c.jsx("p",{className:"text-sm sm:text-base text-gray-400 mt-1 font-medium",children:"Growth Themes"})]}),c.jsx("div",{className:"w-px h-16 bg-gray-200 mt-2"}),c.jsxs("div",{className:"text-center flex-1 min-w-0",children:[c.jsx("p",{className:"text-4xl sm:text-5xl font-black text-amber-500",children:c.jsx(q0,{target:"57"})}),c.jsx("p",{className:"text-sm sm:text-base text-gray-400 mt-1 font-medium",children:"Metrics"})]}),c.jsx("div",{className:"w-px h-16 bg-gray-200 mt-2"}),c.jsxs("div",{className:"text-center flex-1 min-w-0",children:[c.jsx("p",{className:"text-4xl sm:text-5xl font-black text-amber-500",children:c.jsx(q0,{target:"20",suffix:"+"})}),c.jsx("p",{className:"text-sm sm:text-base text-gray-400 mt-1 font-medium",children:"Industry Benchmark Sources"})]})]}),c.jsx("p",{className:"text-center text-xs text-gray-300 mt-4",children:"Benchmarks grounded in industry research spanning 1,000+ professional services firms."})]})})}function Cie(){return c.jsx("section",{className:"py-16 sm:py-24 bg-white border-t border-gray-100",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-14",children:[c.jsxs("h2",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 mb-4 max-w-2xl mx-auto leading-tight",children:["Deep insights across every",c.jsx("br",{className:"hidden sm:block"})," growth theme for your firm"]}),c.jsx("p",{className:"text-lg text-gray-500 max-w-2xl mx-auto leading-relaxed",children:"From structured assessments to actionable roadmaps  understand exactly where your firm excels and where to focus for maximum impact."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 items-start",children:[c.jsxs("div",{className:"group flex flex-col",children:[c.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-xl border border-gray-200 transform transition group-hover:scale-[1.02] group-hover:shadow-2xl",children:[c.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-2 bg-gray-100",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-red-400"}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400"}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400"})]}),c.jsxs("div",{className:"p-4 aspect-[4/3] flex flex-col justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("svg",{viewBox:"0 0 80 80",className:"w-16 h-16 flex-shrink-0",children:[c.jsx("circle",{cx:"40",cy:"40",r:"30",fill:"none",stroke:"#e5e7eb",strokeWidth:"5"}),c.jsx("circle",{cx:"40",cy:"40",r:"30",fill:"none",stroke:"#22c55e",strokeWidth:"5",strokeDasharray:"151",strokeDashoffset:"30",strokeLinecap:"round",transform:"rotate(-90 40 40)"}),c.jsx("text",{x:"40",y:"38",textAnchor:"middle",fill:"#1f2937",fontSize:"14",fontWeight:"bold",children:"80%"}),c.jsx("text",{x:"40",y:"48",textAnchor:"middle",fill:"#9ca3af",fontSize:"6",children:"Ready"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-900 text-xs font-semibold",children:"Nearly M&A Ready"}),c.jsx("p",{className:"text-gray-500 text-[10px]",children:"Top 25% of firms assessed"})]})]}),c.jsx("div",{className:"space-y-1.5 mt-3",children:[{name:"Financial Performance",pct:85,color:"#22c55e"},{name:"People & Culture",pct:72,color:"#22c55e"},{name:"Services & Pricing",pct:78,color:"#f59e0b"},{name:"Sales & Pipeline",pct:55,color:"#ef4444"},{name:"Leadership",pct:75,color:"#22c55e"}].map(e=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500 text-[8px]",children:e.name}),c.jsxs("span",{className:"text-gray-400 text-[8px]",children:[e.pct,"%"]})]}),c.jsx("div",{className:"h-1.5 bg-gray-200 rounded-full",children:c.jsx("div",{className:"h-full rounded-full",style:{width:`${e.pct}%`,backgroundColor:e.color}})})]},e.name))}),c.jsx("p",{className:"text-gray-400 text-[9px] mt-2",children:"+ 5 more themes assessed"})]})]}),c.jsx("p",{className:"mt-4 text-center text-gray-500 text-sm leading-relaxed flex-1",children:"See exactly where your firm stands with scores across all 10 growth themes, benchmarked to industry standards"})]}),c.jsxs("div",{className:"group flex flex-col",children:[c.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-xl border border-gray-200 transform transition group-hover:scale-[1.02] group-hover:shadow-2xl",children:[c.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-2 bg-gray-100",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-red-400"}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400"}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400"})]}),c.jsxs("div",{className:"p-4 aspect-[4/3] flex flex-col",children:[c.jsx("p",{className:"text-gray-900 text-xs font-semibold mb-3",children:"Improvement Roadmap"}),c.jsx("div",{className:"space-y-2 flex-1",children:[{theme:"Sales & Pipeline",gap:45,priority:"Critical"},{theme:"Vision & Strategy",gap:30,priority:"High"},{theme:"Cost Optimisation",gap:25,priority:"High"},{theme:"Market Profile",gap:20,priority:"Medium"}].map((e,t)=>c.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-gray-700 text-[9px] font-medium",children:e.theme}),c.jsx("span",{className:`text-[7px] px-1.5 py-0.5 rounded-full font-medium ${e.priority==="Critical"?"bg-red-100 text-red-600":e.priority==="High"?"bg-amber-100 text-amber-600":"bg-blue-100 text-blue-600"}`,children:e.priority})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex-1 h-1.5 bg-gray-200 rounded-full",children:c.jsx("div",{className:"h-full bg-amber-500 rounded-full",style:{width:`${100-e.gap}%`}})}),c.jsxs("span",{className:"text-amber-600 text-[8px] font-semibold",children:["+",e.gap,"%"]})]})]},e.theme))}),c.jsx("div",{className:"bg-amber-50 rounded p-1.5 mt-2 border border-amber-200",children:c.jsx("p",{className:"text-amber-700 text-[8px] text-center font-medium",children:"Closing these gaps could increase your readiness score by 18 points"})})]})]}),c.jsx("p",{className:"mt-4 text-center text-gray-500 text-sm leading-relaxed flex-1",children:"A prioritised improvement roadmap showing which gaps to close first for the biggest impact"})]}),c.jsxs("div",{className:"group flex flex-col",children:[c.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-xl border border-gray-200 transform transition group-hover:scale-[1.02] group-hover:shadow-2xl",children:[c.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-2 bg-gray-100",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-red-400"}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400"}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400"})]}),c.jsxs("div",{className:"p-4 aspect-[4/3] flex flex-col",children:[c.jsx("p",{className:"text-gray-900 text-xs font-semibold mb-2",children:"Assessment Framework"}),c.jsxs("div",{className:"flex gap-2 flex-1",children:[c.jsx("div",{className:"w-1/3 space-y-1",children:["Financial","People","Services","Vision","Sales","Clients","Leadership","Cost","Delivery","Market"].map((e,t)=>c.jsx("div",{className:`text-[7px] px-1.5 py-1 rounded ${t===0?"bg-amber-100 text-amber-700 border border-amber-300":"text-gray-500 hover:bg-gray-100"}`,children:e},e))}),c.jsx("div",{className:"w-2/3 space-y-1.5",children:[{name:"Revenue Growth Rate",level:3},{name:"Revenue Concentration",level:2},{name:"Profit Margins",level:3},{name:"Cash Flow Stability",level:2},{name:"Revenue per Employee",level:1},{name:"Contract Quality",level:3}].map(e=>c.jsx("div",{className:"bg-gray-50 rounded p-1.5 border border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-700 text-[7px]",children:e.name}),c.jsx("div",{className:"flex gap-0.5",children:[1,2,3].map(t=>c.jsx("div",{className:`w-2.5 h-2.5 rounded-sm text-[6px] flex items-center justify-center font-bold ${t<=e.level?t===3?"bg-green-100 text-green-700":t===2?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700":"bg-gray-200 text-gray-400"}`,children:t},t))})]})},e.name))})]}),c.jsx("p",{className:"text-gray-400 text-[8px] mt-1.5 text-center",children:"6 of 57 metrics shown"})]})]}),c.jsx("p",{className:"mt-4 text-center text-gray-500 text-sm leading-relaxed flex-1",children:"10 themes and 57 growth metrics with clear maturity level definitions and practical guidance"})]})]})]})})}function Tie(){const e=[{num:1,title:"Sign Up",desc:"Create your free account in 30 seconds",icon:ld,tier:"free"},{num:2,title:"Baseline",desc:"Rate your firm across 10 themes and 57 metrics",icon:Su,tier:"free"},{num:3,title:"Blueprint",desc:"Compare against M&A-ready benchmarks and identify gaps",icon:id,tier:"premium"},{num:4,title:"Navigate",desc:"Expert-guided roadmap with strategic mentoring and quarterly recalibration",icon:sa,tier:"premium"}];return c.jsx("section",{id:"how-it-works",className:"py-16 sm:py-24 bg-white border-t border-gray-100",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-14",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 mb-3",children:"How it works"}),c.jsx("p",{className:"text-lg text-gray-500 max-w-xl mx-auto",children:"From sign-up to strategic action in four simple steps"})]}),c.jsx("div",{className:"grid grid-cols-2 gap-6 sm:flex sm:flex-row sm:items-start sm:justify-between sm:gap-0",children:e.map((t,r)=>c.jsxs("div",{className:"flex items-center gap-0 sm:flex-1",children:[c.jsxs("div",{className:"flex flex-col items-center text-center flex-1",children:[c.jsx("span",{className:`sm:hidden inline-block text-[10px] font-semibold px-2.5 py-0.5 rounded-full mb-2 ${t.tier==="free"?"text-amber-700 bg-amber-50 border border-amber-200":"text-gray-500 bg-gray-50 border border-gray-200"}`,children:t.tier==="free"?"Included Free":"Premium"}),c.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 rounded-2xl flex items-center justify-center mb-3 shadow-sm border-2 ${t.tier==="premium"?"bg-gray-50 border-gray-200":"bg-amber-50 border-amber-200"}`,children:c.jsx(t.icon,{className:`w-7 h-7 sm:w-8 sm:h-8 ${t.tier==="premium"?"text-gray-500":"text-amber-600"}`})}),c.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 text-white text-sm font-bold rounded-full mb-3 shadow-sm ${t.tier==="premium"?"bg-gray-400":"bg-amber-400"}`,children:t.num}),c.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-1",children:t.title}),c.jsx("p",{className:"text-gray-500 text-sm leading-relaxed sm:max-w-[180px]",children:t.desc})]}),r<e.length-1&&c.jsx("div",{className:"hidden sm:flex items-center px-3",children:c.jsx(ti,{className:"w-6 h-6 text-amber-400"})})]},t.num))}),c.jsxs("div",{className:"hidden sm:flex mt-8 max-w-[90%] mx-auto",children:[c.jsx("div",{className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-l-full bg-amber-50 border border-amber-200 text-xs font-semibold text-amber-700 tracking-wide",children:c.jsx("span",{children:"Included Free"})}),c.jsxs("div",{className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-r-full bg-gray-50 border border-gray-200 text-xs font-semibold text-gray-500 tracking-wide",children:[c.jsx(Rn,{className:"w-3 h-3"}),c.jsx("span",{children:"Premium"})]})]})]})})}function q0({target:e,suffix:t=""}){const r=parseInt(e),[n,i]=b.useState(0),s=b.useRef(!1),l=b.useRef(null);return b.useEffect(()=>{const d=l.current;if(!d)return;const f=new IntersectionObserver(([p])=>{if(p.isIntersecting&&!s.current){s.current=!0;const g=1500,v=40,x=r/v;let S=0;const k=setInterval(()=>{S+=x,S>=r?(i(r),clearInterval(k)):i(Math.floor(S))},g/v)}},{threshold:.1});f.observe(d);const h=setTimeout(()=>{s.current||(s.current=!0,i(r))},3e3);return()=>{f.disconnect(),clearTimeout(h)}},[r]),c.jsxs("span",{ref:l,children:[n,t]})}function Pie(){return c.jsx("section",{id:"features",className:"py-16 sm:py-24 bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-14",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 mb-4",children:"Start free. Upgrade when you're ready."}),c.jsx("p",{className:"text-lg text-gray-500 max-w-2xl mx-auto leading-relaxed",children:"The free tier gives you everything you need to understand your firm's strengths and growth opportunities. Premium unlocks the tools to accelerate improvement."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto items-start",children:[c.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-200 shadow-sm",children:[c.jsx("div",{className:"inline-flex items-center px-3 py-1 bg-gray-100 rounded-full text-gray-700 text-sm font-medium mb-4",children:"Free"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Get started"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Everything you need to assess your firm's growth maturity"}),c.jsx("ul",{className:"space-y-3 mb-8",children:["Full assessment across all 10 themes and 57 metrics","Dashboard with scores and gap analysis","Benchmark comparison against 5 profiles","Maturity heatmap across all growth themes"].map((e,t)=>c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx(jr,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),c.jsx("span",{className:"text-gray-700 text-sm",children:e})]},t))}),c.jsx(tr,{to:"/signup",className:"block w-full text-center px-6 py-3 bg-gray-900 hover:bg-gray-800 text-white font-semibold rounded-lg transition",children:"Sign Up Free"})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-8 border-2 border-amber-400 shadow-lg relative",children:[c.jsx("div",{className:"absolute -top-3 right-6 px-3 py-1 bg-amber-400 text-white text-xs font-bold rounded-full",children:"RECOMMENDED"}),c.jsx("div",{className:"inline-flex items-center px-3 py-1 bg-amber-50 rounded-full text-amber-700 text-sm font-medium mb-4",children:"Premium"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Maximise value"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"For firms serious about accelerating growth and value creation"}),c.jsxs("ul",{className:"space-y-3 mb-8",children:[["Everything in Free","Improvement Roadmap with prioritised actions","Scenario Modelling  what-if analysis","PDF & CSV exports","Executive Summary reports","Detailed Assessment reports"].map((e,t)=>c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx(jr,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),c.jsx("span",{className:"text-gray-700 text-sm",children:e})]},t)),c.jsx("li",{className:"pt-3 border-t border-amber-100",children:c.jsx("span",{className:"text-xs font-semibold text-amber-600 uppercase tracking-wide",children:"Advisory Services"})}),["Growth Blueprint  personalised improvement plan","Expert coaching & strategic mentoring","Quarterly progress reviews & recalibration","Guidance through key milestones & decisions"].map((e,t)=>c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx(jr,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),c.jsx("span",{className:"text-gray-700 text-sm",children:e})]},`adv-${t}`))]}),c.jsx("button",{onClick:()=>{document.getElementById("contact")?.scrollIntoView({behavior:"smooth"}),fm&&fm("I'm interested in learning more about the Premium tier.")},className:"block w-full text-center px-6 py-3 bg-amber-400 hover:bg-amber-500 text-white font-bold rounded-lg transition shadow-sm",children:"Talk to Us About Premium"})]})]})]})})}function Rie(){const{user:e}=Ir(),[t,r]=b.useState({name:"",email:"",message:""}),[n,i]=b.useState(null);b.useEffect(()=>(fm=l=>r(d=>({...d,message:l})),()=>{fm=null}),[]);const s=async l=>{l.preventDefault(),i("sending");const d={name:t.name,email:t.email,message:t.message};e?.id&&(d.user_id=e.id),d.source_context="landing_page";const{error:f}=await ye.from("contact_submissions").insert(d);f?i("error"):(i("sent"),r({name:"",email:"",message:""}))};return c.jsx("section",{id:"contact",className:"py-16 sm:py-24 bg-white",children:c.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-start",children:[c.jsx("div",{className:"text-center lg:text-left",children:c.jsxs("div",{className:"flex flex-col items-center lg:items-start",children:[c.jsx("div",{className:"w-32 h-32 mx-auto lg:mx-0 mb-4 rounded-full border-4 border-amber-400 shadow-lg overflow-hidden",children:c.jsx("img",{src:"https://xbrywtjahuidaufcdvti.supabase.co/storage/v1/object/public/images/Portrait%20Photo.png",alt:"Richard Goold",className:"w-full h-full object-cover"})}),c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Richard Goold"}),c.jsx("p",{className:"text-amber-600 font-medium mb-1",children:"The Growth Advisor|250m+ in exits"}),c.jsx("p",{className:"text-sm text-gray-400 mb-5",children:"Helping founders, CEOs and boards navigate the hard parts of Growth, Culture and Capital Events."}),c.jsx("p",{className:"text-gray-600 mb-6 max-w-md",children:"Helping professional services firms build value, strengthen culture, and prepare for successful exits through coaching, advisory, and M&A readiness support."}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[c.jsxs("a",{href:"https://richardgoold.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:border-amber-400 hover:text-amber-600 transition",children:[c.jsx(ju,{size:16}),"Website"]}),c.jsxs("a",{href:"https://www.linkedin.com/in/richardgooldofficial/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:border-amber-400 hover:text-amber-600 transition",children:[c.jsx(mR,{size:16}),"LinkedIn"]}),c.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-200 rounded-lg bg-gray-50",children:[c.jsx("img",{src:"/logos/Favikon.png",alt:"Favikon",className:"h-8 w-auto"}),c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"text-xs font-semibold text-gray-900",children:"Top 20 UK Leadership Influencer"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Favikon, 2026"})]})]})]})]})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 text-center lg:text-left",children:"Get in Touch"}),c.jsx("p",{className:"text-gray-600 mb-6 text-center lg:text-left",children:"Have questions about the framework, need help interpreting your results, or want to discuss advisory support?"}),n==="sent"?c.jsxs("div",{className:"text-center py-12 bg-green-50 rounded-2xl border border-green-200",children:[c.jsx(jr,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Message sent"}),c.jsx("p",{className:"text-gray-600",children:"We'll get back to you within 24 hours."})]}):c.jsxs("form",{onSubmit:s,className:"space-y-5 bg-gray-50 rounded-2xl p-6 sm:p-8 border border-gray-100",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),c.jsx("input",{type:"text",required:!0,value:t.name,onChange:l=>r({...t,name:l.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400 outline-none transition bg-white",placeholder:"Your name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",required:!0,value:t.email,onChange:l=>r({...t,email:l.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400 outline-none transition bg-white",placeholder:"your@email.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),c.jsx("textarea",{required:!0,rows:5,value:t.message,onChange:l=>r({...t,message:l.target.value}),className:"w-full pwwe4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400 outline-none transition resize-none weg-white",placeholder:"How can we help?"})]}),c.jsx("button",{type:"submit",disabled:n==="sending",className:"w-full py-3 px-6 bg-amber-500 hover:bg-amber-600 text-white font-semibold rounded-lg transition disabled:opacity-50",children:n==="sending"?"Sending...":"Send Message"})]})]})]})})})}function Mie(){const e=[{name:"Moorhouse",src:"/logos/Moorhouse.jpg"},{name:"Project One",src:"/logos/Project One.jpeg"},{name:"Public First",src:"/logos/Public First.png"},{name:"Roq",src:"/logos/Roq.jpeg"},{name:"RQC Group",src:"/logos/RQC Group.png"},{name:"WeShape",src:"/logos/WeShape.jpeg",scale:1.3},{name:"Wondrous",src:"/logos/Wondrous.png"},{name:"YLD",src:"/logos/yld_logo.jpeg"},{name:"The ICS",src:"/logos/The ICS.jpeg"}];return c.jsxs("section",{className:"bg-gray-900 pt-10 pb-12",children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("p",{className:"text-center text-sm font-semibold tracking-widest text-gray-500 uppercase mb-6",children:"Trusted by forward-thinking consultancies including"}),c.jsx("div",{className:"relative overflow-hidden",style:{maskImage:"linear-gradient(to right, transparent, black 8%, black 92%, transparent)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 92%, transparent)"},children:c.jsx("div",{className:"flex logo-scroll",children:[...e,...e].map((t,r)=>c.jsx("div",{className:"flex-shrink-0 mx-2 sm:mx-3",children:c.jsx("div",{className:"bg-white rounded-lg flex items-center justify-center",style:{width:"170px",height:"95px",padding:"14px"},children:c.jsx("img",{src:t.src,alt:t.name,className:"max-w-full max-h-full w-auto h-auto object-contain",style:t.scale?{transform:`scale(${t.scale})`}:{}})})},r))})})]}),c.jsx("style",{children:`
        @keyframes logoScroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
        .logo-scroll {
          animation: logoScroll 40s linear infinite;
          width: max-content;
        }
        .logo-scroll:hover {
          animation-play-state: paused;
        }
      `})]})}function kC({isOpen:e,onClose:t,title:r,children:n}){return e?c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",onClick:t,children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),c.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:i=>i.stopPropagation(),children:[c.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-100 px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r}),c.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition text-gray-400 hover:text-gray-600",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"px-6 py-6 text-sm text-gray-600 leading-relaxed space-y-4",children:n})]})]}):null}function Die(){const[e,t]=b.useState(null);return c.jsxs(c.Fragment,{children:[c.jsx("footer",{className:"bg-gray-900 py-12",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("img",{src:"/GrowthLens%20Logo_transparent.png",alt:"GrowthLens",className:"h-7 w-auto"})}),c.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-400",children:[c.jsx("button",{onClick:()=>t("privacy"),className:"hover:text-white transition",children:"Privacy Policy"}),c.jsx("button",{onClick:()=>t("terms"),className:"hover:text-white transition",children:"Terms of Use"}),c.jsx("a",{href:"https://www.linkedin.com/in/richardgooldofficial/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition",children:c.jsx(mR,{className:"w-4 h-4"})})]}),c.jsxs("p",{className:"text-sm text-gray-500",children:[" ",new Date().getFullYear()," GrowthLens. All rights reserved."]})]})})}),c.jsxs(kC,{isOpen:e==="privacy",onClose:()=>t(null),title:"Privacy Policy",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Last updated:"})," February 2026"]}),c.jsx("p",{children:"GrowthLens (we, us, our) is committed to protecting your privacy. This policy explains how we collect, use, and safeguard your personal information when you use the GrowthLens platform."}),c.jsx("p",{children:c.jsx("strong",{children:"Information We Collect"})}),c.jsx("p",{children:"We collect information you provide directly, including your name, email address, and firm details when you create an account. We also collect assessment data you enter into the platform, and usage data such as pages visited and features used."}),c.jsx("p",{children:c.jsx("strong",{children:"How We Use Your Information"})}),c.jsx("p",{children:"Your information is used to provide and improve the GrowthLens service, generate assessment reports and benchmarks, communicate with you about your account, and analyse platform usage to enhance the user experience."}),c.jsx("p",{children:c.jsx("strong",{children:"Data Security"})}),c.jsx("p",{children:"We implement industry-standard security measures to protect your data. Assessment data is encrypted in transit and at rest. We do not sell or share your personal information with third parties for marketing purposes."}),c.jsx("p",{children:c.jsx("strong",{children:"Data Retention"})}),c.jsx("p",{children:"Your account data is retained for as long as your account is active. You may request deletion of your account and associated data at any time by contacting us."}),c.jsx("p",{children:c.jsx("strong",{children:"Contact"})}),c.jsx("p",{children:"For questions about this privacy policy, please contact us at privacy@growthlens.app."})]}),c.jsxs(kC,{isOpen:e==="terms",onClose:()=>t(null),title:"Terms of Use",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Last updated:"})," February 2026"]}),c.jsx("p",{children:"These terms govern your use of the GrowthLens platform. By accessing or using GrowthLens, you agree to be bound by these terms."}),c.jsx("p",{children:c.jsx("strong",{children:"Service Description"})}),c.jsx("p",{children:"GrowthLens provides a maturity assessment framework for professional services firms. The platform enables firms to assess their growth readiness across multiple growth themes and benchmark against industry standards."}),c.jsx("p",{children:c.jsx("strong",{children:"Account Responsibilities"})}),c.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account. You agree to provide accurate and complete information when creating your account."}),c.jsx("p",{children:c.jsx("strong",{children:"Acceptable Use"})}),c.jsx("p",{children:"You agree to use GrowthLens only for lawful purposes and in accordance with these terms. You may not use the platform to transmit harmful content or attempt to gain unauthorised access to the service."}),c.jsx("p",{children:c.jsx("strong",{children:"Intellectual Property"})}),c.jsx("p",{children:"The GrowthLens framework, including the assessment methodology, benchmark data, and associated content, is proprietary. Your assessment data remains your property."}),c.jsx("p",{children:c.jsx("strong",{children:"Disclaimer"})}),c.jsx("p",{children:"GrowthLens provides assessment tools and benchmarks for informational purposes. The platform does not constitute professional financial, legal, or M&A advisory services. Results should be considered alongside professional advice."}),c.jsx("p",{children:c.jsx("strong",{children:"Contact"})}),c.jsx("p",{children:"For questions about these terms, please contact us at legal@growthlens.app."})]})]})}function _C(){return c.jsxs("div",{className:"min-h-screen bg-white",style:{fontFamily:"'Inter', sans-serif"},children:[c.jsx(Eie,{}),c.jsx(Oie,{}),c.jsx("div",{className:"py-12 sm:py-16 bg-white",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsxs("h2",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 mb-4 max-w-2xl mx-auto leading-tight",children:["Your M&A readiness,",c.jsx("br",{className:"hidden sm:block"})," at a glance"]}),c.jsx("p",{className:"text-lg text-gray-500 max-w-2xl mx-auto leading-relaxed",children:"Benchmark your firm across 10 growth themes, 57 metrics and over 20 industry benchmark sources."})]}),c.jsx("div",{className:"rounded-xl shadow-2xl overflow-hidden border border-gray-200",children:c.jsx("img",{src:"/screenshots/Dashboard%20Image_Apex%20Consulting%20Partners.png",alt:"GrowthLens Dashboard showing maturity overview, benchmark comparison, strengths and improvement areas",className:"w-full h-auto",loading:"lazy"})})]})}),c.jsx(Cie,{}),c.jsx(Tie,{}),c.jsx(Mie,{}),c.jsx(Pie,{}),c.jsx(Rie,{}),c.jsx(Die,{})]})}function Iie(){const{signIn:e,resetPassword:t,updatePassword:r,isPasswordRecovery:n}=Ir(),i=vl(),[s,l]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(null),[g,v]=b.useState(!1),[x,S]=b.useState(!1),[k,j]=b.useState(!1),[_,E]=b.useState({email:"",password:""}),[A,T]=b.useState(""),[C,O]=b.useState(""),[M,P]=b.useState(!1),[I,q]=b.useState(null),[Z,U]=b.useState(""),[ce,$]=b.useState(0),[te,L]=b.useState(null),F=async D=>{if(D.preventDefault(),te&&Date.now()<te){const Q=Math.ceil((te-Date.now())/1e3);p(`Too many attempts. Please wait ${Q} seconds.`);return}f(!0),p(null);try{const{data:Q}=await ye.rpc("check_rate_limit",{p_identifier:_.email,p_action:"login",p_max_attempts:5,p_window_seconds:900,p_lockout_seconds:900});if(Q===!1){f(!1),p("Too many login attempts. Please try again in 15 minutes.");return}}catch{}const{error:H}=await e({email:_.email,password:_.password});if(f(!1),H){const Q=ce+1;if($(Q),Q>=5){const ie=Math.min(3e4*Math.pow(2,Math.floor(Q/5)-1),3e5);L(Date.now()+ie),p(`Too many failed attempts. Please wait ${ie/1e3} seconds before trying again.`)}else p("Invalid email or password. Please try again.")}else{$(0),L(null);try{await ye.rpc("reset_rate_limit",{p_identifier:_.email,p_action:"login"})}catch{}try{const{data:Q}=await ye.auth.mfa.getAuthenticatorAssuranceLevel();if(Q?.currentLevel==="aal1"&&Q?.nextLevel==="aal2"){const{data:ie}=await ye.auth.mfa.listFactors(),me=(ie?.totp||[]).filter(le=>le.status==="verified");if(me.length>0){q(me[0].id),P(!0);return}}}catch{}i("/app")}},ae=async D=>{if(D.preventDefault(),Z.length!==6){p("Please enter a 6-digit code.");return}f(!0),p(null);try{const{data:H,error:Q}=await ye.auth.mfa.challenge({factorId:I});if(Q)throw Q;const{error:ie}=await ye.auth.mfa.verify({factorId:I,challengeId:H.id,code:Z});if(ie)throw ie;i("/app")}catch{p("Invalid code. Please try again."),U("")}finally{f(!1)}},ue=async D=>{if(D.preventDefault(),!_.email){p("Please enter your email address first.");return}f(!0),p(null);try{const{data:Q}=await ye.rpc("check_rate_limit",{p_identifier:_.email,p_action:"password_reset",p_max_attempts:3,p_window_seconds:3600,p_lockout_seconds:3600});if(Q===!1){f(!1),v(!0);return}}catch{}const{error:H}=await t(_.email);f(!1),v(!0)},ee=async D=>{if(D.preventDefault(),A.length<8){p("Password must be at least 8 characters.");return}if(!/[A-Z]/.test(A)||!/[a-z]/.test(A)||!/[0-9]/.test(A)){p("Password must include uppercase, lowercase, and a number.");return}if(A!==C){p("Passwords do not match.");return}f(!0),p(null);const{error:H}=await r(A);f(!1),H?p(H.message):(j(!0),T(""),O(""))};return M?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-12",style:{fontFamily:"'Inter', sans-serif"},children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsx(tr,{to:"/",className:"inline-block",children:c.jsx("img",{src:"/GrowthLens%20Logo_no%20strapline.png",alt:"GrowthLens",className:"h-16 w-auto"})})}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx(Ks,{className:"w-10 h-10 text-amber-500 mx-auto mb-3"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Two-Factor Authentication"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Enter the 6-digit code from your authenticator app"})]}),h&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 text-sm rounded-lg px-4 py-3 mb-4",children:h}),c.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("input",{type:"text",inputMode:"numeric",maxLength:6,value:Z,onChange:D=>U(D.target.value.replace(/\D/g,"").slice(0,6)),className:"w-48 text-center text-2xl tracking-[0.5em] px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400 outline-none transition font-mono",placeholder:"000000",autoFocus:!0})}),c.jsx("button",{type:"submit",disabled:d||Z.length!==6,className:"w-full px-6 py-3 bg-amber-400 hover:bg-amber-500 disabled:bg-amber-300 text-white font-bold rounded-lg transition shadow-sm",children:d?"Verifying...":"Verify"})]}),c.jsx("div",{className:"text-center mt-4",children:c.jsx("button",{type:"button",onClick:()=>{P(!1),U(""),p(null)},className:"text-sm text-gray-400 hover:text-gray-600 transition",children:"Cancel and go back"})})]})]})}):n&&!k?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-12",style:{fontFamily:"'Inter', sans-serif"},children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsx(tr,{to:"/",className:"inline-block",children:c.jsx("img",{src:"/GrowthLens%20Logo_no%20strapline.png",alt:"GrowthLens",className:"h-16 w-auto"})})}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Set new password"}),c.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Enter your new password below"}),h&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 text-sm rounded-lg px-4 py-3 mb-4",children:h}),c.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New password"}),c.jsx("input",{type:"password",required:!0,minLength:8,value:A,onChange:D=>T(D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400 outline-none transition text-sm",placeholder:"Min 8 chars, upper + lower + number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm new password"}),c.jsx("input",{type:"password",required:!0,minLength:8,value:C,onChange:D=>O(D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400 outline-none transition text-sm",placeholder:"Repeat your new password"})]}),c.jsx("button",{type:"submit",disabled:d,className:"w-full px-6 py-3 bg-amber-400 hover:bg-amber-500 disabled:bg-amber-300 text-white font-bold rounded-lg transition shadow-sm",children:d?"Updating...":"Update Password"})]})]})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-12",style:{fontFamily:"'Inter', sans-serif"},children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsx(tr,{to:"/",className:"inline-block",children:c.jsx("img",{src:"/GrowthLens%20Logo_no%20strapline.png",alt:"GrowthLens",className:"h-16 w-auto"})})}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Welcome back"}),c.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Log in to your GrowthLens account"}),h&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 text-sm rounded-lg px-4 py-3 mb-4",children:h}),g&&c.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 text-sm rounded-lg px-4 py-3 mb-4",children:"Password reset email sent. Check your inbox."}),k&&c.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 text-sm rounded-lg px-4 py-3 mb-4",children:"Password updated successfully. Please log in with your new password."}),c.jsxs("form",{onSubmit:F,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),c.jsx("input",{type:"email",required:!0,value:_.email,onChange:D=>E({..._,email:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400 outline-none transition text-sm",placeholder:"jane@yourfirm.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:s?"text":"password",required:!0,value:_.password,onChange:D=>E({..._,password:D.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400 outline-none transition text-sm pr-10",placeholder:"Your password"}),c.jsx("button",{type:"button",onClick:()=>l(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?c.jsx(p1,{className:"w-4 h-4"}):c.jsx(Gs,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:"text-right",children:c.jsx("button",{type:"button",onClick:ue,className:"text-xs text-amber-600 hover:text-amber-700 font-medium",children:"Forgot your password?"})}),c.jsx("button",{type:"submit",disabled:d,className:"w-full px-6 py-3 bg-amber-400 hover:bg-amber-500 disabled:bg-amber-300 text-white font-bold rounded-lg transition shadow-sm",children:d?"Logging in...":"Log In"})]})]}),c.jsxs("p",{className:"text-center text-sm text-gray-500 mt-6",children:["Don't have an account?"," ",c.jsx(tr,{to:"/signup",className:"text-amber-600 hover:text-amber-700 font-medium",children:"Sign up free"})]}),c.jsx("div",{className:"text-center mt-4",children:c.jsxs(tr,{to:"/",className:"inline-flex items-center gap-1.5 text-sm text-gray-400 hover:text-gray-600 transition",children:[c.jsx(Gi,{className:"w-3.5 h-3.5"}),"Back to home"]})})]})})}const Lie=["Under 1m","1m  5m","5m  10m","10m  25m","25m  50m","50m+","Prefer not to say"];function Bie(){const{signUp:e}=Ir();vl();const[t,r]=b.useState(!1),[n,i]=b.useState(!1),[s,l]=b.useState(null),[d,f]=b.useState(!1),[h,p]=b.useState({fullName:"",email:"",password:"",companyName:"",jobTitle:"",revenueBand:""}),g=h.password.length>=8&&/[A-Z]/.test(h.password)&&/[a-z]/.test(h.password)&&/[0-9]/.test(h.password),v=(k,j=200)=>k.trim().slice(0,j),x=async k=>{if(k.preventDefault(),!g){l("Password must be at least 8 characters with uppercase, lowercase, and a number.");return}const j=v(h.fullName,100).trim(),_=v(h.companyName,150),E=v(h.jobTitle,100),A=h.email.trim().toLowerCase().slice(0,254);if(!j){l("Please enter your full name.");return}if(j.length<2){l("Please enter your full name (at least 2 characters).");return}if(!_||!E){l("Please fill in all required fields.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A)){l("Please enter a valid email address.");return}i(!0),l(null);const{error:T}=await e({email:A,password:h.password,fullName:j,companyName:_,jobTitle:E,revenueBand:h.revenueBand});i(!1),T?l("Sign up failed. Please check your details and try again."):f(!0)},S=(k,j)=>{p(_=>({..._,[k]:j}))};return c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-12",style:{fontFamily:"'Inter', sans-serif"},children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsx(tr,{to:"/",className:"inline-block",children:c.jsx("img",{src:"/GrowthLens%20Logo_no%20strapline.png",alt:"GrowthLens",className:"h-16 w-auto"})})}),d?c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(od,{className:"w-8 h-8 text-green-600"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check your email"}),c.jsxs("p",{className:"text-gray-500 text-sm mb-2",children:["We've sent a verification link to ",c.jsx("strong",{children:h.email}),". Please click the link to confirm your account."]}),c.jsx("p",{className:"text-gray-400 text-xs mb-6",children:"Didn't receive it? Check your spam folder or try signing up again."}),c.jsx(tr,{to:"/login",className:"inline-flex items-center px-6 py-3 bg-amber-400 hover:bg-amber-500 text-white font-bold rounded-lg transition shadow-sm",children:"Go to Log In"}),c.jsxs("p",{className:"text-gray-400 text-xs mt-6",children:["Already have an account? ",c.jsx(tr,{to:"/login",className:"text-amber-600 hover:text-amber-700 font-medium",children:"Try logging in instead"})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Create your free account"}),c.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Start assessing and growing your firm's value today"}),s&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 text-sm rounded-lg px-4 py-3 mb-4",children:s}),c.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full name"}),c.jsx("input",{type:"text",required:!0,minLength:2,maxLength:100,value:h.fullName,onChange:k=>S("fullName",k.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400 outline-none transition text-sm",placeholder:"Jane Smith"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),c.jsx("input",{type:"email",required:!0,value:h.email,onChange:k=>S("email",k.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400 outline-none transition text-sm",placeholder:"jane@yourfirm.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:t?"text":"password",required:!0,value:h.password,onChange:k=>S("password",k.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400 outline-none transition text-sm pr-10",placeholder:"Minimum 8 characters"}),c.jsx("button",{type:"button",onClick:()=>r(!t),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t?c.jsx(p1,{className:"w-4 h-4"}):c.jsx(Gs,{className:"w-4 h-4"})})]}),h.password&&!g&&c.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Must be 8+ chars with uppercase, lowercase, and a number"}),h.password&&g&&c.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Password strength: good"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company / firm name"}),c.jsx("input",{type:"text",required:!0,maxLength:150,value:h.companyName,onChange:k=>S("companyName",k.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400 outline-none transition text-sm",placeholder:"Acme Consulting"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job title"}),c.jsx("input",{type:"text",required:!0,maxLength:100,value:h.jobTitle,onChange:k=>S("jobTitle",k.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400 outline-none transition text-sm",placeholder:"Managing Partner"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Firm revenue band"}),c.jsxs("select",{required:!0,value:h.revenueBand,onChange:k=>S("revenueBand",k.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400 outline-none transition text-sm bg-white",children:[c.jsx("option",{value:"",children:"Select revenue band"}),Lie.map(k=>c.jsx("option",{value:k,children:k},k))]})]}),c.jsx("button",{type:"submit",disabled:n,className:"w-full px-6 py-3 bg-amber-400 hover:bg-amber-500 disabled:bg-amber-300 text-white font-bold rounded-lg transition shadow-sm mt-2",children:n?"Creating account...":"Sign Up"})]})]}),c.jsxs("p",{className:"text-center text-sm text-gray-500 mt-6",children:["Already have an account?"," ",c.jsx(tr,{to:"/login",className:"text-amber-600 hover:text-amber-700 font-medium",children:"Log in"})]})]}),c.jsx("div",{className:"text-center mt-4",children:c.jsxs(tr,{to:"/",className:"inline-flex items-center gap-1.5 text-sm text-gray-400 hover:text-gray-600 transition",children:[c.jsx(Gi,{className:"w-3.5 h-3.5"}),"Back to home"]})})]})})}function zie({children:e}){const{user:t,loading:r}=Ir(),[n,i]=b.useState(!1);return b.useEffect(()=>{if(r){const s=setTimeout(()=>i(!0),1e4);return()=>clearTimeout(s)}},[r]),r&&!n?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-amber-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 font-medium",children:"Loading..."})]})}):r&&n?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[c.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Taking longer than expected"}),c.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"The connection may be slow. Try refreshing or logging in again."}),c.jsxs("div",{className:"flex gap-3 justify-center",children:[c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-amber-500 text-white rounded-lg text-sm font-medium hover:bg-amber-600",children:"Refresh"}),c.jsx("button",{onClick:()=>window.location.href="/maturity-framework/login",className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-300",children:"Go to Login"})]})]})}):t?e:c.jsx(U0,{to:"/login",replace:!0})}function qie({children:e}){const{user:t,profile:r,loading:n,isAdmin:i}=Ir();return n?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-slate-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 font-medium",children:"Loading admin..."})]})}):t?i?e:c.jsx(U0,{to:"/app",replace:!0}):c.jsx(U0,{to:"/login",replace:!0})}function $ie(){const{user:e,isAdmin:t}=Ir(),[r,n]=b.useState([]),[i,s]=b.useState([]),[l,d]=b.useState([]),[f,h]=b.useState([]),[p,g]=b.useState([]),[v,x]=b.useState({}),[S,k]=b.useState(!0),[j,_]=b.useState(null),E=b.useCallback(async()=>{if(!(!e||!t)){k(!0),_(null);try{const[ee,D,H,Q,ie,me]=await Promise.all([ye.from("profiles").select("*").order("created_at",{ascending:!1}),ye.from("firms").select("*").order("created_at",{ascending:!1}),ye.from("assessments").select("*").order("created_at",{ascending:!1}),ye.from("contact_submissions").select("*").order("created_at",{ascending:!1}),ye.from("audit_log").select("*").order("created_at",{ascending:!1}).limit(200),ye.from("app_config").select("*")]);if(ee.error)throw ee.error;if(D.error)throw D.error;if(H.error)throw H.error;if(Q.error)throw Q.error;n(ee.data||[]),s((D.data||[]).filter(he=>!he.is_demo)),d((H.data||[]).filter(he=>!he.is_demo)),h(Q.data||[]),g(ie.data||[]);const le={};(me.data||[]).forEach(he=>{le[he.key]=he.value}),x(le)}catch(ee){_(ee.message)}finally{k(!1)}}},[e,t]);b.useEffect(()=>{E()},[E]);const A=b.useCallback(async(ee,D)=>{const{error:H}=await ye.from("profiles").update(D).eq("id",ee);if(H)throw H;return n(Q=>Q.map(ie=>ie.id===ee?{...ie,...D}:ie)),!0},[]),T=b.useCallback(async ee=>{const{error:D}=await ye.from("profiles").update({approved:!1}).eq("id",ee);if(D)throw D;return n(H=>H.map(Q=>Q.id===ee?{...Q,approved:!1}:Q)),!0},[]),C=b.useCallback(async ee=>{const{data:D,error:H}=await ye.rpc("delete_user_completely",{target_user_id:ee});if(H)throw H;return n(Q=>Q.filter(ie=>ie.id!==ee)),s(Q=>Q.filter(ie=>ie.user_id!==ee)),d(Q=>Q.filter(ie=>{const me=i.find(le=>le.id===ie.firm_id);return!me||me.user_id!==ee})),!0},[i]),O=b.useCallback(async(ee,D)=>{const{error:H}=await ye.from("assessments").update({ratings:D}).eq("id",ee);if(H)throw H;return d(Q=>Q.map(ie=>ie.id===ee?{...ie,ratings:D}:ie)),!0},[]),M=b.useCallback(async ee=>{const{error:D}=await ye.from("contact_submissions").update({read:!0}).eq("id",ee);if(D)throw D;return h(H=>H.map(Q=>Q.id===ee?{...Q,read:!0}:Q)),!0},[]),P=b.useCallback(async ee=>{const{error:D}=await ye.from("contact_submissions").update({read:!1}).eq("id",ee);if(D)throw D;return h(H=>H.map(Q=>Q.id===ee?{...Q,read:!1}:Q)),!0},[]),I=b.useCallback(async ee=>{const{error:D}=await ye.from("contact_submissions").delete().eq("id",ee);if(D)throw D;return h(H=>H.filter(Q=>Q.id!==ee)),!0},[]),q=b.useCallback(async(ee,D)=>{const{error:H,count:Q}=await ye.from("app_config").update({value:D,updated_at:new Date().toISOString()}).eq("key",ee);if(H){const{error:ie}=await ye.from("app_config").upsert({key:ee,value:D,updated_at:new Date().toISOString()});if(ie)throw ie}return x(ie=>({...ie,[ee]:D})),!0},[]),Z=b.useCallback(async({action:ee,targetUserId:D,targetResource:H,targetResourceId:Q,details:ie})=>{if(!e)return;const me={admin_id:e.id,action:ee,target_user_id:D||null,target_resource:H||null,target_resource_id:Q||null,details:ie||null},{data:le,error:he}=await ye.from("audit_log").insert(me).select().single();he||le&&g(ot=>[le,...ot])},[e]),U=b.useCallback(ee=>i.filter(D=>D.user_id===ee),[i]),ce=b.useCallback(ee=>l.filter(D=>D.user_id===ee),[l]),$=b.useCallback(ee=>l.filter(D=>D.firm_id===ee),[l]),te=b.useCallback(ee=>i.find(D=>D.id===ee.firm_id),[i]),L=b.useCallback(ee=>r.find(D=>D.id===ee.user_id),[r]),F=b.useCallback(ee=>r.find(D=>D.id===ee.user_id),[r]),ae=b.useCallback(ee=>ee.user_id?r.find(D=>D.id===ee.user_id):null,[r]),ue={totalUsers:r.length,freeUsers:r.filter(ee=>ee.tier==="free").length,premiumUsers:r.filter(ee=>ee.tier==="premium").length,pendingApprovals:r.filter(ee=>!ee.approved).length,totalFirms:i.length,totalAssessments:l.length,unreadContacts:f.filter(ee=>!ee.read).length,totalContacts:f.length};return b.useEffect(()=>{e&&t&&ye.from("profiles").update({last_active_at:new Date().toISOString()}).eq("id",e.id).then(()=>{})},[e,t]),{users:r,firms:i,assessments:l,contacts:f,auditLog:p,appConfig:v,stats:ue,loading:S,error:j,updateUserProfile:A,rejectUser:T,deleteUser:C,updateAssessmentRatings:O,markContactRead:M,markContactUnread:P,deleteContact:I,updateAppConfig:q,logAudit:Z,reload:E,getUserFirms:U,getUserAssessments:ce,getFirmAssessments:$,getAssessmentFirm:te,getAssessmentOwner:L,getFirmOwner:F,getContactUser:ae}}const Uie=`# GrowthLens Changelog

All notable changes to the GrowthLens platform are documented here.

---

## [Build #560]  27 February 2026
### Changes
- Fix donut ring contrast: inner ring navy (#1B4F72) vs outer ring amber (Build #560)

---


## [Build #559]  27 February 2026
### Changes
- Fix build error: remove duplicate INTERNAL_EMAILS declaration in AdminDashboard
- Fix: inner ring colour changed from purple to amber to match legend key
- Fix: benchmark cards and donut show Near Target not On Track when below benchmark; add permanent delete
- Signup: enforce name is required, add trim and minLength validation
- Admin: filter internal accounts from users list (displayUsers)

---


## [Build #554]  27 February 2026
### Changes
- Fix: prevent free users from deleting firm with locked assessment (Build #552)

---


## [Build #553]  27 February 2026
### Changes
- Fix: count Not Tracked as addressed for assessment locking (Build #551)

---


## [Build #552]  27 February 2026
### Changes
- Fix: prevent free users from deleting locked assessments (Build #550)

---


## [Build #551]  27 February 2026
### Changes
- Update CLAUDE.md: demo lockdown + delete firm session notes

---


## [Build #550]  27 February 2026
### Changes
- Demo lockdown + Delete Firm button (Build #549)

---


## [Build #549]  27 February 2026
### Changes
- Export DEMO_USER_ID for use in App.jsx isDemoAccount check

---


## [Build #548]  27 February 2026
### Changes
- Fix: Add Start Assessment button to FirmDetailView empty state (Build #548)

---


## [Build #547]  27 February 2026
### Changes
- Fix Detailed Report crash (mTarget undeclared) and Scenarios metric inconsistency

---


## [Build #546]  27 February 2026
### Changes
- Update CLAUDE.md: session notes for 27 Feb 2026 (Insights fix, PDF fixes, contact form)

---


## [Build #545]  27 February 2026
### Changes
- Fix PDF export: add jspdf-autotable plugin CDN for doc.autoTable()

---


## [Build #544]  27 February 2026
### Changes
- Fix PDF export: add standalone jsPDF CDN, remove broken SRI hash

---


## [Build #543]  27 February 2026
### Changes
- Fix Insights benchmark cards to use benchmarkAlignment per profile

---


## [Build #542]  27 February 2026
### Changes
- Fix: Donut outer ring now shows benchmark-adjusted alignment score

---


## [Build #541]  26 February 2026
### Changes
- Fix: Update all colour thresholds to 38% and fix unclosed div
- Fix: Raise Early Stage threshold to 38% so Phoenix shows correctly

---


## [Build #539]  26 February 2026
### Changes
- Fix: Raise Early Stage threshold to 38% so Phoenix shows correctly

---


## [Build #538]  26 February 2026
### Changes
- Fix: Align readiness level labels with legend (On Track/Developing/Early Stage)

---


## [Build #537]  25 February 2026
### Changes
-    Update CLAUDE.md: Document build error fixes and syntax corrections

---


## [Build #536]  25 February 2026
### Changes
- Remove duplicate variable declarations
- Add files via upload
- Update App.jsx
- Fix: Remove duplicate variable declarations blocking build
- Update LandingPage.jsx
- Fix contact form placeholder message
- Document session changes: firm tier gating, 6 UX improvements, CLAUDE.md update
- UX improvements: contact form message, remove redundant button, darker text, Not Tracked completion counting, Share tooltip, Compare Assessments button
- Remove sector field and enforce free tier firm limit (max 1 firm until Premium)

---


## [Build #527]  25 February 2026
### Changes
- Update CLAUDE.md with Team Assessment feature scoping

---


## [Build #526]  25 February 2026
### Changes
- Update CLAUDE.md with Joe's feedback, demo data overhaul, and session documentation

---


## [Build #525]  25 February 2026
### Changes
- Fix Joe's feedback: darker text, remove templates, not-tracked option, deduplicate strengths/gaps

---


## [Build #524]  25 February 2026
### Changes
- Add theme icons, colours and export layout improvements

---


## [Build #523]  25 February 2026
### Changes
- Fix CSP img-src to allow Supabase storage images (portrait photo)

---


## [Build #522]  25 February 2026
### Changes
- Remove Tailwind CDN, tighten CSP to remove unsafe-eval

---


## [Build #521]  25 February 2026
### Changes
- Add Tailwind CSS v4 import to index.css for build-time compilation

---


## [Build #520]  25 February 2026
### Changes
- Add Tailwind CSS v4 Vite plugin for build-time compilation

---


## [Build #519]  25 February 2026
### Changes
- Add tailwindcss and @tailwindcss/vite build dependencies

---


## [Build #518]  25 February 2026
### Changes
- Add server-side rate limiting to login and password reset

---


## [Build #517]  25 February 2026
### Changes
- Add server-side rate limiting SQL functions

---


## [Build #516]  25 February 2026
### Changes
- Fix npm audit to warn on non-critical vulnerabilities
- Add MFA enrollment UI and Two-Factor Auth button for admin accounts
- Add MFA challenge flow to login page
- Create MfaSetup.jsxAdd MFA setup component for admin 2FA enrollment
- Add npm audit security check to CI pipeline

---


## [Build #511]  25 February 2026
### Changes
- Update CLAUDE.md with landing page and header session changes

---


## [Build #510]  25 February 2026
### Changes
- Update subtitle text and restore PreviewsSection

---


## [Build #509]  25 February 2026
### Changes
- Add heading and subtitle to dashboard preview section

---


## [Build #508]  25 February 2026
### Changes
- Add dashboard preview image to landing page

---


## [Build #507]  25 February 2026
### Changes
- Add files via upload

---


## [Build #506]  25 February 2026
### Changes
- Remove hero logo, use full logo with strapline in header

---


## [Build #505]  25 February 2026
### Changes
- Move Free/Premium dropdown next to logo in header

---


## [Build #504]  25 February 2026
### Changes
- Simplify browser tab title to just GrowthLens

---


## [Build #503]  25 February 2026
### Changes
- Fix base path: use root for custom domain growthlens.app

---


## [Build #502]  25 February 2026
### Changes
- Fix build: restore calcScores line corrupted by SEC-14 edit
- Update CLAUDE.md with security fix session details (25 Feb 2026)
- Create supabase-security-fixes.sql
- Create SECURITY.md
- Add CSV injection protection, JSON validation, localStorage migration (SEC-05, SEC-10, SEC-14, SEC-21)

---


## [Build #497]  25 February 2026
### Changes
- Add input sanitisation, password complexity, generic errors (SEC-07, SEC-12, SEC-13)

---


## [Build #496]  25 February 2026
### Changes
- Add rate limiting, generic errors, password policy (SEC-06, SEC-07, SEC-12)

---


## [Build #495]  25 February 2026
### Changes
- Strip console.log from production builds (SEC-19)

---


## [Build #494]  25 February 2026
### Changes
- Add CSP, SRI, and security headers (SEC-03, SEC-04, SEC-15)

---


## [Build #493]  24 February 2026
### Changes
- Increase logo size on signup page to match login page

---


## [Build #492]  24 February 2026
### Changes
- Increase logo size on login and password reset pages

---


## [Build #491]  24 February 2026
### Changes
- Fix Change Password dropdown styling to match Sign Out button

---


## [Build #490]  24 February 2026
### Changes
- Fix contact modal subject bug and Change Password text colour

---


## [Build #489]  24 February 2026
### Changes
- Use transparent logo in footer for dark background

---


## [Build #488]  24 February 2026
### Changes
- Add files via upload

---


## [Build #487]  24 February 2026
### Changes
- Replace footer logo with brand image

---


## [Build #486]  24 February 2026
### Changes
- Fix JSX comment syntax on signup page

---


## [Build #485]  24 February 2026
### Changes
- Fix header JSX structure - remove orphaned fragment closers
- Fix dashboard header logo wrapper structure
- Fix navbar logo onClick syntax error
- Replace dashboard header logo with brand image
- Replace signup page logo with brand image
- Replace login page logos with brand image
- Replace navbar logo with brand image

---


## [Build #478]  24 February 2026
### Changes
- Add files via upload

---


## [Build #477]  24 February 2026
### Changes
- Mobile responsive: fix logo cutoff, tighter spacing, aligned stats

---


## [Build #476]  24 February 2026
### Changes
- Bigger stats counters, add section divider line before Previews

---


## [Build #475]  24 February 2026
### Changes
- Animate 20+ counter, increase headline font size

---


## [Build #474]  24 February 2026
### Changes
- Update LandingPage.jsxPoint hero logo img to uploaded GrowthLens Logo.png

---


## [Build #473]  24 February 2026
### Changes
- Add files via upload

---


## [Build #472]  24 February 2026
### Changes
- Hero: use img tag for logo, fix apostrophes, move stats into hero

---


## [Build #471]  24 February 2026
### Changes
- Hero redesign: brand lockup, centred layout, remove dashboard illustration

---


## [Build #470]  24 February 2026
### Changes
- Hero: two-column layout with dashboard visual, fix logo, sharpen tagline

---


## [Build #469]  24 February 2026
### Changes
- Hero redesign: new tagline, Option B headline, bigger logo, stats below fold

---


## [Build #468]  24 February 2026
### Changes
- Headline: add line breaks between phrases and reduce font size

---


## [Build #467]  24 February 2026
### Changes
- Fix stray span> and div> JSX artifacts in landing page headline

---


## [Build #466]  24 February 2026
### Changes
- Fix JSX corruption in landing page headline section
- Update landing page headline to Option 3 format

---


## [Build #464]  23 February 2026
### Changes
- Update CLAUDE.md: terminology standardisation, demo banner fix, commit history

---


## [Build #463]  23 February 2026
### Changes
- Fix demo banner: use selectedFirm?.isDemo for FirmDetailView prop

---


## [Build #462]  23 February 2026
### Changes
- Fix demo banner: pass isDemo prop to FirmDetailView

---


## [Build #461]  23 February 2026
### Changes
- Hide Free plan banner on demo firms: add !isDemo guard

---


## [Build #460]  23 February 2026
### Changes
- Standardise terminology: Dimension to Theme in AdminDashboard.jsx

---


## [Build #459]  23 February 2026
### Changes
- Standardise terminology: dimension to theme in gating.js

---


## [Build #458]  23 February 2026
### Changes
- Standardise terminology: dimensions to themes in index.html meta tags

---


## [Build #457]  23 February 2026
### Changes
- Standardise terminology: dimensions to themes in LandingPage.jsx

---


## [Build #456]  23 February 2026
### Changes
- Standardise terminology: dimensions to themes throughout App.jsx

---


## [Build #455]  23 February 2026
### Changes
- Update CLAUDE.md: hidden profiles, theme icons, landing page changes

---


## [Build #454]  23 February 2026
### Changes
- Update landing page: 7 benchmark profiles to 5

---


## [Build #453]  23 February 2026
### Changes
- Add icon data to BenchmarkComparison chart

---


## [Build #452]  23 February 2026
### Changes
- Update CLAUDE.md: clear resolved issues, update commit history

---


## [Build #451]  23 February 2026
### Changes
- Add theme icon to ScenarioPanel slider labels

---


## [Build #450]  23 February 2026
### Changes
- Update CLAUDE.md: hidden benchmark profiles, latest commit

---


## [Build #449]  23 February 2026
### Changes
- Hide Legal & Compliance and Financial Advisory benchmark profiles

---


## [Build #448]  23 February 2026
### Changes
- Update CLAUDE.md: 23 Feb session changes, email forwarding, benchmarks

---


## [Build #447]  23 February 2026
### Changes
- Add metric-level benchmarks, theme trend lines, gap analysis enhancements

---


## [Build #446]  23 February 2026
### Changes
- Fix duplicate upgrade toast declaration
- Add premium upgrade in-app toast notification

---


## [Build #444]  23 February 2026
### Changes
- Add demo banners, fix garbled chars in Explore Demo Firms

---


## [Build #443]  23 February 2026
### Changes
- Responsive export buttons + smooth scroll improvements

---


## [Build #442]  23 February 2026
### Changes
- Add theme icons and accent colours to StrengthsWeaknesses and ImprovementRoadmap

---


## [Build #441]  23 February 2026
### Changes
- Show demo firms to all authenticated users

---


## [Build #440]  23 February 2026
### Changes
- Fix garbled UTF-8 characters in score legend

---


## [Build #439]  23 February 2026
### Changes
- Fix AnimatedCounter: use ref instead of state to prevent re-render loop

---


## [Build #438]  23 February 2026
### Changes
- Update upgrade email: features now active in real-time

---


## [Build #437]  23 February 2026
### Changes
- Add in-app toast notification for premium upgrade via realtime

---


## [Build #436]  23 February 2026
### Changes
- Remove extra closing div from GapAnalysisPanel
- Fix missing closing div tags in ReadinessScoreBanner and GapAnalysisPanel
- Fix scoring algorithm, single-firm model, UI improvements (fixed JSX)

---


## [Build #433]  23 February 2026
### Changes
- Revert App.jsx to last working build (afc4fa2) to fix broken deploy
- Add 2 missing closing div tags in ReadinessScoreBanner
- Fix unclosed p tag and div structure in ReadinessScoreBanner
- Add multi-user firm access implementation plan
- Add upgrade-notification Edge Function for premium tier emails
- Fix scoring algorithm, single-firm model, UI improvements from user feedback

---


## [Build #427]  23 February 2026
### Changes
- Add upgrade notification email trigger on tier change to premium

---


## [Build #426]  23 February 2026
### Changes
- Add real-time tier sync via Supabase Realtime subscription

---


## [Build #425]  23 February 2026
### Changes
- Use isDemo DB flag instead of hardcoded name matching for firm limit

---


## [Build #424]  23 February 2026
### Changes
- Include is_demo flag in firm data mapping

---


## [Build #423]  23 February 2026
### Changes
- Filter out demo firms and assessments from admin dashboard

---


## [Build #422]  23 February 2026
### Changes
- Remove system email filter that was hiding all firms from admin

---


## [Build #421]  22 February 2026
### Changes
- Revert dropdown to absolute positioning, use inline z-index on header for stacking

---


## [Build #420]  22 February 2026
### Changes
- Fix dropdown: use fixed positioning with inline styles to escape stacking context

---


## [Build #419]  22 February 2026
### Changes
- Fix header z-index stacking so dropdown paints above content area

---


## [Build #418]  22 February 2026
### Changes
- Fix profile dropdown translucent background for better readability

---


## [Build #417]  22 February 2026
### Changes
- Fix mismatched closing tag in locked banner upgrade button
- Wire upgrade links to contact form, add 7-day time-based lock

---


## [Build #415]  22 February 2026
### Changes
- Fix em dash rendering in free plan assessment limit banner

---


## [Build #414]  22 February 2026
### Changes
- Fix JSX fragment close in FirmDetailView assessment limit
- Fix firm creation UUID, add free tier assessment limits and locking

---


## [Build #412]  22 February 2026
### Changes
- Add detailed overhead cost categories to Overhead Ratio guidance

---


## [Build #411]  22 February 2026
### Changes
- Fix firm limit gating: exclude demo firms by name for Supabase UUIDs

---


## [Build #410]  22 February 2026
### Changes
- Update CLAUDE.md with 22 Feb session changes

---


## [Build #409]  22 February 2026
### Changes
- Add cache-busting ?v=2 to OG image URLs

---


## [Build #408]  22 February 2026
### Changes
- Add files via upload

---


## [Build #407]  21 February 2026
### Changes
- Match dashboard heading font size to other section headings

---


## [Build #406]  21 February 2026
### Changes
- Animate 20+ counter and add dashboard section heading

---


## [Build #405]  21 February 2026
### Changes
- Redesign hero to white background with amber accents, move stats into hero

---


## [Build #404]  21 February 2026
### Changes
- Add auto-changelog GitHub Actions workflow
- Add Changelog tab to Admin Dashboard
- Add CHANGELOG.md with backfilled milestones (Feb 14-21)
- QA polish: firm limit messaging, nav breakpoint, premium tab tooltips, tighter FirmDetail spacing
- Fix 10 metric audit issues: levels, questions, actions, currency
- Fix 9 metric questions: correct 5 mismatched, add 2 missing, align 2 minor
- Contact: match portrait exactly to in-app contact page (w-32, same image)
- Contact: Favikon badge inline with buttons, enlarge portrait
- Contact: two-column layout, fix portrait crop, bio left form right
- Contact: match in-app layout with portrait, bio, Website/LinkedIn buttons, Favikon badge
- Add files via upload
- Contact: amber ring portrait, strapline, Favikon purple hexagon badge
- Contact section: split layout with portrait, credentials and Favikon badge
- Carousel: bigger gap below stats, scale up WeShape logo
- Carousel: add separator gap, enlarge logo cards to 170x95

---


## [Build #401]  21 February 2026
### QA Polish & Metric Audit
- **Fixed 10 metric audit issues** across Financial Performance, People, Services & Pricing, Sales & Pipeline, Clients & Relationships, and Market Profile themes  corrected question wording, rating labels, and descriptions to match assessment framework
- **Fixed 9 metric question errors** identified in QA review  ensured all 57 metrics have accurate, unambiguous question text
- **Updated firm limit messaging**  free plan badge and banner now clearly state "Free plan  1 firm of your own" with explanation of demo firms
- **Improved nav responsiveness**  changed breakpoint from \`md\` to \`lg\` so hamburger menu activates on medium-width screens, preventing nav wrapping
- **Enhanced premium tab tooltips**  gated dashboard tabs (Roadmap, Scenarios, Export & Reports) now show "available with Premium" on hover
- **Tightened FirmDetailView spacing**  reduced padding, margins, and button sizes for a more compact layout

---

## [Build #395]  20 February 2026
### Carousel Redesign & Visual Polish
- **Redesigned partner carousel**  dark background, larger logos, improved separator gap between carousel and hero section
- **Added Favikon badge** to landing page social proof section
- **Updated contact section layout**  improved spacing and alignment
- **Portrait photo matching**  refined portrait circle crop and positioning to match site branding

---

## [Build #380]  19 February 2026
### Email Infrastructure & Account Management
- **Configured custom SMTP** via Resend for all auth emails (verification, password reset) from \`noreply@growthlens.app\`
- **Built welcome email Edge Function**  sends branded HTML welcome email to new users on verification, plus admin notification to site owner
- **Added Change Password feature**  accessible from user profile dropdown, modal with validation and show/hide toggle
- **Admin account email updated** from \`admin@growthlens.app\` to \`richard@gooldy.com\` to enable password recovery
- **3C Filled Glass logo**  replaced previous logo throughout the app with refined version
- **Benchmark tagline** added to dashboard header
- **Landing page counter**  added live user/assessment count to landing page
- **ISS-013 pricing structure** integrated into premium tier configuration

---

## [Build #350]  18 February 2026
### Supabase Integration & Custom Domain
- **Wired up Supabase data layer**  all firms, assessments, and profiles now persist to Supabase (PostgreSQL) with Row Level Security
- **Custom domain live**  \`growthlens.app\` configured via GoDaddy DNS  GitHub Pages, replacing \`richardgoold.github.io/maturity-framework\`
- **Password reset flow**  implemented via Supabase Auth with recovery link emails
- **Email verification**  new signups require email confirmation before access
- **Profile dropdown**  user avatar, name, email, plan badge, and sign-out in top-right header
- **Contact view** built  in-app contact form with message submission
- **How It Works** section added to landing page
- **Score thresholds**  colour-coded readiness levels (green 90%, amber 70%, red <70%)
- **GrowthLens rebrand**  renamed from "Maturity Framework" throughout the codebase and UI

---

## [Build #320]  17 February 2026
### Landing Page & Public-Facing Features
- **Landing page redesigned** with hero section, feature highlights, and call-to-action
- **Lead capture form**  email collection on landing page for interested prospects
- **Favicon & PWA manifest**  app icon and Progressive Web App support added
- **Free tier firm limit**  free accounts limited to 1 user-created firm plus 3 demo firms
- **Demo firms pre-populated**  Apex Consulting Partners (72%), TechBridge Solutions (61%), Phoenix Advisory Group (40%)
- **PDF export**  generate downloadable PDF assessment reports
- **Carousel partner logos**  rotating logo display on landing page

---

## [Build #290]  16 February 2026
### Admin Dashboard & Phase 3
- **Admin Dashboard (Phase 3)**  full admin panel with Overview, Users, Firms, Contacts, Settings, and Audit Log sections
- **AdminRoute guard**  route protection for admin-only pages
- **useAdminData hook**  centralised data fetching for admin views
- **Contact tab**  in-app messaging system between users and admin
- **Supabase data layer foundations**  \`useSupabaseData.js\` hook for firm and assessment CRUD operations
- **Portrait and carousel** initial implementation on landing page

---

## [Build #250]  15 February 2026
### Freemium Gating & Phase 2
- **Freemium gating system (Phase 2)**  \`gating.js\` with \`GATED_TABS\`, \`TIER_LIMITS\`, and \`PREMIUM_FEATURES\` constants
- **Upgrade prompts**  \`UpgradePrompt.jsx\` modal shown when free users access premium features
- **Nav badges**  visual indicators for premium-only sections
- **Contact modal**  \`ContactModal.jsx\` for user inquiries
- **Language unification**  standardised terminology across all 57 metrics and 10 themes

---

## [Initial Release]  14 February 2026
### Core Platform
- **10 growth themes, 57 metrics**  comprehensive M&A readiness assessment framework for professional services firms
- **Assessment workflow**  theme-by-theme metric rating with 3-level scale (Foundational, Evolving, Optimised)
- **Dashboard views**  radar chart, bar chart, heatmap, gap analysis, improvement roadmap, scenario modelling
- **M&A-Ready benchmarks**  evidence-based benchmark percentages across all themes (overall average 67%)
- **React SPA** with Vite, Tailwind CSS, Recharts, and Lucide icons
- **GitHub Pages deployment** via GitHub Actions CI/CD pipeline
`;function Il(e){return e?new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):""}function fl(e){return e?new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):""}function Fie(e,t=100){return e?e.length>t?e.slice(0,t)+"":e:""}function pp(e){if(!e?.ratings||Object.keys(e.ratings).length===0)return null;const t=pt["M&A-Ready"]||pt[Object.keys(pt)[0]];return Vr(e.ratings,t)}function gp(e,t,r){const n=(t-1)*r;return e.slice(n,n+r)}function HR(e,t,r){return[...e].sort((n,i)=>{let s=n[t],l=i[t];return s==null&&(s=""),l==null&&(l=""),typeof s=="string"&&(s=s.toLowerCase()),typeof l=="string"&&(l=l.toLowerCase()),s<l?r==="asc"?-1:1:s>l?r==="asc"?1:-1:0})}function vp({page:e,pageSize:t,total:r,onChange:n}){const i=Math.max(1,Math.ceil(r/t));return r<=t?null:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-200 bg-gray-50",children:[c.jsxs("span",{className:"text-sm text-gray-600",children:[Math.min((e-1)*t+1,r),"",Math.min(e*t,r)," of ",r]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>n(e-1),disabled:e<=1,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed",children:"Previous"}),c.jsxs("span",{className:"px-3 py-1 text-sm text-gray-600",children:["Page ",e," of ",i]}),c.jsx("button",{onClick:()=>n(e+1),disabled:e>=i,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed",children:"Next"})]})]})}function Qn({field:e,label:t,currentField:r,currentOrder:n,onSort:i,className:s=""}){const l=r===e;return c.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:text-gray-700 select-none ${s}`,onClick:()=>i(e,l&&n==="asc"?"desc":"asc"),children:c.jsxs("span",{className:"flex items-center gap-1",children:[t,l&&(n==="asc"?c.jsx(op,{size:14}):c.jsx(Ui,{size:14}))]})})}function Xr({children:e,color:t="gray"}){const r={gray:"bg-gray-100 text-gray-700",green:"bg-green-100 text-green-700",amber:"bg-amber-100 text-amber-700",red:"bg-red-100 text-red-700",blue:"bg-blue-100 text-blue-700",purple:"bg-purple-100 text-purple-700"};return c.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${r[t]||r.gray}`,children:e})}function yp({title:e,message:t,onConfirm:r,onCancel:n,confirmLabel:i="Confirm",confirmColor:s="blue"}){const l={blue:"bg-blue-600 hover:bg-blue-700",red:"bg-red-600 hover:bg-red-700",green:"bg-green-600 hover:bg-green-700",amber:"bg-amber-600 hover:bg-amber-700"};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4 p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e}),c.jsx("p",{className:"text-sm text-gray-600 mb-6",children:t}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),c.jsx("button",{onClick:r,className:`px-4 py-2 text-sm font-medium text-white rounded-lg transition-colors ${l[s]||l.blue}`,children:i})]})]})})}function bp({value:e,onChange:t,placeholder:r="Search..."}){return c.jsxs("div",{className:"relative",children:[c.jsx($te,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",value:e,onChange:n=>t(n.target.value),placeholder:r,className:"w-full pl-9 pr-8 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e&&c.jsx("button",{onClick:()=>t(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.jsx(qn,{size:14})})]})}function Ho({label:e,value:t,icon:r,color:n="blue",subtitle:i}){const s={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",amber:"bg-amber-50 text-amber-600",purple:"bg-purple-50 text-purple-600",red:"bg-red-50 text-red-600",gray:"bg-gray-50 text-gray-600"};return c.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-5 hover:shadow-sm transition-shadow",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500",children:e}),c.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t}),i&&c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:i})]}),r&&c.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${s[n]}`,children:c.jsx(r,{size:20})})]})})}function GR({icon:e,title:t,message:r}){return c.jsxs("div",{className:"text-center py-12",children:[e&&c.jsx(e,{size:40,className:"mx-auto text-gray-300 mb-3"}),c.jsx("h3",{className:"text-sm font-medium text-gray-500",children:t}),r&&c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:r})]})}function AC({users:e,firms:t,assessments:r,contacts:n,stats:i}){const s=b.useMemo(()=>{const f=[],h=new Date;for(let p=11;p>=0;p--){const g=new Date(h);g.setDate(g.getDate()-p*7),g.setHours(0,0,0,0);const v=new Date(g);v.setDate(v.getDate()+7);const x=e.filter(S=>{const k=new Date(S.created_at);return k>=g&&k<v}).length;f.push({week:g.toLocaleDateString("en-GB",{day:"numeric",month:"short"}),signups:x})}return f},[e]),l=b.useMemo(()=>{const f=r.filter(p=>p.ratings&&Object.keys(p.ratings).length>0);if(f.length===0)return 0;const h=f.reduce((p,g)=>{const v=pp(g);return p+(v?.readinessScore||0)},0);return Math.round(h/f.length)},[r]),d=b.useMemo(()=>{const f=new Date,h=new Date(f.getFullYear(),f.getMonth(),1);return r.filter(p=>new Date(p.created_at)>=h).length},[r]);return c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Dashboard Overview"}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(Ho,{label:"Total Users",value:i.totalUsers,icon:ld,color:"blue",subtitle:`${i.freeUsers} free  ${i.premiumUsers} premium`}),c.jsx(Ho,{label:"Total Firms",value:i.totalFirms,icon:sp,color:"green"}),c.jsx(Ho,{label:"Assessments",value:i.totalAssessments,icon:cp,color:"purple",subtitle:`${d} this month`}),c.jsx(Ho,{label:"Unread Messages",value:i.unreadContacts,icon:od,color:i.unreadContacts>0?"amber":"gray",subtitle:`${i.totalContacts} total`})]}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(Ho,{label:"Pending Approvals",value:i.pendingApprovals,icon:ute,color:i.pendingApprovals>0?"red":"gray"}),c.jsx(Ho,{label:"Avg Readiness Score",value:`${l}%`,icon:sa,color:"blue"})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Sign-ups (last 12 weeks)"}),c.jsx("div",{className:"h-48",children:c.jsx(xl,{width:"100%",height:"100%",children:c.jsxs(h1,{data:s,children:[c.jsx(ap,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),c.jsx(nd,{dataKey:"week",tick:{fontSize:11}}),c.jsx(ad,{allowDecimals:!1,tick:{fontSize:11}}),c.jsx(Pl,{}),c.jsx(bu,{dataKey:"signups",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Recent Users"}),c.jsxs("div",{className:"space-y-2",children:[displayUsers.slice(0,5).map(f=>c.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium text-gray-900",children:f.full_name}),c.jsx("span",{className:"text-xs text-gray-500 ml-2",children:f.email})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Xr,{color:f.tier==="premium"?"blue":"gray",children:f.tier}),c.jsx("span",{className:"text-xs text-gray-400",children:Il(f.created_at)})]})]},f.id)),displayUsers.length===0&&c.jsx("p",{className:"text-sm text-gray-400 text-center py-4",children:"No users yet"})]})]})]})}function Hie({users:e,firms:t,assessments:r,onSelectUser:n,appConfig:i}){const[s,l]=b.useState(""),[d,f]=b.useState("all"),[h,p]=b.useState("all"),[g,v]=b.useState("created_at"),[x,S]=b.useState("desc"),[k,j]=b.useState(1),_=25,E=e.filter(P=>!P.approved),A=i.approval_mode==="manual"&&E.length>0,T=b.useMemo(()=>e.filter(P=>{if(s){const I=s.toLowerCase();if(!P.full_name?.toLowerCase().includes(I)&&!P.email?.toLowerCase().includes(I)&&!P.company_name?.toLowerCase().includes(I))return!1}return!(d!=="all"&&P.tier!==d||h==="yes"&&!P.approved||h==="no"&&P.approved)}),[e,s,d,h]),C=b.useMemo(()=>HR(T,g,x),[T,g,x]),O=gp(C,k,_),M=(P,I)=>{v(P),S(I),j(1)};return b.useEffect(()=>{j(1)},[s,d,h]),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Users"}),c.jsxs("span",{className:"text-sm text-gray-500",children:[T.length," user",T.length!==1?"s":""]})]}),A&&c.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[c.jsxs("h3",{className:"text-sm font-semibold text-amber-800 mb-3 flex items-center gap-2",children:[c.jsx(lp,{size:16}),"Pending Approvals (",E.length,")"]}),c.jsx("div",{className:"space-y-2",children:E.map(P=>c.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg px-4 py-2 border border-amber-100",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:P.full_name}),c.jsx("span",{className:"text-xs text-gray-500 ml-2",children:P.email}),P.company_name&&c.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["(",P.company_name,")"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>n(P,"approve"),className:"px-3 py-1 text-xs font-medium bg-green-600 text-white rounded hover:bg-green-700",children:"Approve"}),c.jsx("button",{onClick:()=>n(P,"reject"),className:"px-3 py-1 text-xs font-medium bg-red-100 text-red-700 rounded hover:bg-red-200",children:"Reject"})]})]},P.id))})]}),c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsx("div",{className:"flex-1 min-w-[200px]",children:c.jsx(bp,{value:s,onChange:l,placeholder:"Search by name, email, or company..."})}),c.jsxs("select",{value:d,onChange:P=>f(P.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Tiers"}),c.jsx("option",{value:"free",children:"Free"}),c.jsx("option",{value:"premium",children:"Premium"})]}),c.jsxs("select",{value:h,onChange:P=>p(P.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"yes",children:"Approved"}),c.jsx("option",{value:"no",children:"Pending / Rejected"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx(Qn,{field:"full_name",label:"Name",currentField:g,currentOrder:x,onSort:M}),c.jsx(Qn,{field:"email",label:"Email",currentField:g,currentOrder:x,onSort:M}),c.jsx(Qn,{field:"company_name",label:"Company",currentField:g,currentOrder:x,onSort:M}),c.jsx(Qn,{field:"tier",label:"Tier",currentField:g,currentOrder:x,onSort:M}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Firms"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Assessments"}),c.jsx(Qn,{field:"created_at",label:"Signed Up",currentField:g,currentOrder:x,onSort:M}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider w-20"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[O.map(P=>{const I=t.filter(Z=>Z.user_id===P.id).length,q=r.filter(Z=>Z.user_id===P.id).length;return c.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>n(P),children:[c.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:P.full_name}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:P.email}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:P.company_name||""}),c.jsx("td",{className:"px-4 py-3",children:c.jsx(Xr,{color:P.tier==="premium"?"blue":"gray",children:P.tier})}),c.jsx("td",{className:"px-4 py-3",children:c.jsx(Xr,{color:P.approved?"green":"amber",children:P.approved?"Approved":"Pending"})}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:I}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:q}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:Il(P.created_at)}),c.jsx("td",{className:"px-4 py-3",children:c.jsx(ti,{size:16,className:"text-gray-400"})})]},P.id)}),O.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-sm text-gray-400",children:"No users found"})})]})]})}),c.jsx(vp,{page:k,pageSize:_,total:C.length,onChange:j})]})]})}function Gie({user:e,firms:t,assessments:r,onBack:n,onSave:i,onLogAudit:s,onViewFirm:l,onDeleteUser:d}){const[f,h]=b.useState(e.tier),[p,g]=b.useState(e.approved),[v,x]=b.useState(e.role),[S,k]=b.useState(null),[j,_]=b.useState(!1),E=t.filter(O=>O.user_id===e.id),A=r.filter(O=>O.user_id===e.id),T=f!==e.tier||p!==e.approved||v!==e.role,C=async()=>{k({title:"Save Changes",message:`Update ${e.full_name}'s profile? Changes: ${f!==e.tier?`Tier  ${f}. `:""}${p!==e.approved?`Approved  ${p}. `:""}${v!==e.role?`Role  ${v}. `:""}`,confirmLabel:"Save",confirmColor:"blue",onConfirm:async()=>{_(!0),k(null);try{const O={};if(f!==e.tier&&(O.tier=f),p!==e.approved&&(O.approved=p),v!==e.role&&(O.role=v),await i(e.id,O),O.tier==="premium"&&e.tier!=="premium")try{const{error:M}=await ye.functions.invoke("upgrade-notification",{body:{userId:e.id,email:e.email,fullName:e.full_name||e.email}})}catch{}for(const[M,P]of Object.entries(O))await s({action:`update_${M}`,targetUserId:e.id,targetResource:"profiles",targetResourceId:e.id,details:{field:M,old_value:e[M],new_value:P}})}catch(O){alert("Error saving: "+O.message)}finally{_(!1)}},onCancel:()=>k(null)})};return c.jsxs("div",{className:"p-6 max-w-4xl space-y-6",children:[S&&c.jsx(yp,{...S}),c.jsxs("button",{onClick:n,className:"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:[c.jsx(Gi,{size:16})," Back to Users"]}),c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e.full_name}),c.jsx("p",{className:"text-sm text-gray-500",children:e.email})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Xr,{color:e.tier==="premium"?"blue":"gray",children:e.tier}),c.jsx(Xr,{color:e.approved?"green":"amber",children:e.approved?"Approved":"Pending"}),c.jsx(Xr,{color:e.role==="admin"?"purple":"gray",children:e.role})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Profile Information"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Company:"})," ",c.jsx("span",{className:"font-medium ml-1",children:e.company_name||""})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Job Title:"})," ",c.jsx("span",{className:"font-medium ml-1",children:e.job_title||""})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Revenue Band:"})," ",c.jsx("span",{className:"font-medium ml-1",children:e.revenue_band||""})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Signed Up:"})," ",c.jsx("span",{className:"font-medium ml-1",children:fl(e.created_at)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Last Active:"})," ",c.jsx("span",{className:"font-medium ml-1",children:fl(e.last_active_at)})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Manage Account"}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Tier"}),c.jsxs("select",{value:f,onChange:O=>h(O.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"free",children:"Free"}),c.jsx("option",{value:"premium",children:"Premium"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Approved"}),c.jsxs("select",{value:p?"yes":"no",onChange:O=>g(O.target.value==="yes"),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"yes",children:"Yes"}),c.jsx("option",{value:"no",children:"No"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Role"}),c.jsxs("select",{value:v,onChange:O=>x(O.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"user",children:"User"}),c.jsx("option",{value:"admin",children:"Admin"})]})]})]}),T&&c.jsxs("div",{className:"mt-4 flex gap-3",children:[c.jsx("button",{onClick:C,disabled:j,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:j?"Saving...":"Save Changes"}),c.jsx("button",{onClick:()=>{h(e.tier),g(e.approved),x(e.role)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Reset"})]})]}),c.jsxs("div",{className:"flex gap-3",children:[!e.approved&&c.jsxs("button",{onClick:()=>{g(!0)},className:"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[c.jsx(uR,{size:16})," Approve User"]}),e.tier==="free"&&c.jsxs("button",{onClick:()=>{h("premium")},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[c.jsx(sa,{size:16})," Upgrade to Premium"]}),e.tier==="premium"&&c.jsx("button",{onClick:()=>{h("free")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 flex items-center gap-2",children:"Downgrade to Free"}),d&&c.jsxs("button",{onClick:()=>d(e),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 flex items-center gap-2 ml-auto",children:[c.jsx(dl,{size:16})," Delete User"]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[c.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Firms (",E.length,")"]}),E.length>0?c.jsx("div",{className:"space-y-2",children:E.map(O=>{const M=A.filter(q=>q.firm_id===O.id),P=M[0],I=P?pp(P):null;return c.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-lg hover:bg-gray-50 cursor-pointer border border-gray-100",onClick:()=>l(O),children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:O.name}),O.sector&&c.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",O.sector,")"]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[I&&c.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[I.readinessScore,"%"]}),c.jsxs("span",{className:"text-xs text-gray-400",children:[M.length," assessment",M.length!==1?"s":""]}),c.jsx(ti,{size:16,className:"text-gray-400"})]})]},O.id)})}):c.jsx("p",{className:"text-sm text-gray-400",children:"No firms created"})]})]})}function Kie({firms:e,users:t,assessments:r,onSelectFirm:n}){const[i,s]=b.useState(""),[l,d]=b.useState("all"),[f,h]=b.useState("created_at"),[p,g]=b.useState("desc"),[v,x]=b.useState(1),S=25,k=b.useMemo(()=>[...new Set(e.map(C=>C.sector).filter(Boolean))].sort(),[e]),j=b.useMemo(()=>e.map(C=>{const O=t.find(q=>q.id===C.user_id),M=r.filter(q=>q.firm_id===C.id),P=M[0],I=P?pp(P):null;return{...C,ownerName:O?.full_name||"Unknown",ownerEmail:O?.email||"",assessmentCount:M.length,latestScore:I?.readinessScore||null,lastAssessmentDate:P?.created_at||null}}),[e,t,r]),_=b.useMemo(()=>j.filter(C=>{if(i){const O=i.toLowerCase();if(!C.name?.toLowerCase().includes(O)&&!C.ownerName?.toLowerCase().includes(O)&&!C.ownerEmail?.toLowerCase().includes(O))return!1}return!(l!=="all"&&C.sector!==l)}),[j,i,l]),E=b.useMemo(()=>HR(_,f,p),[_,f,p]),A=gp(E,v,S),T=(C,O)=>{h(C),g(O),x(1)};return b.useEffect(()=>{x(1)},[i,l]),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Firms"}),c.jsxs("span",{className:"text-sm text-gray-500",children:[_.length," firm",_.length!==1?"s":""]})]}),c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsx("div",{className:"flex-1 min-w-[200px]",children:c.jsx(bp,{value:i,onChange:s,placeholder:"Search by firm name or owner..."})}),c.jsxs("select",{value:l,onChange:C=>d(C.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Sectors"}),k.map(C=>c.jsx("option",{value:C,children:C},C))]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx(Qn,{field:"name",label:"Firm Name",currentField:f,currentOrder:p,onSort:T}),c.jsx(Qn,{field:"sector",label:"Sector",currentField:f,currentOrder:p,onSort:T}),c.jsx(Qn,{field:"ownerName",label:"Owner",currentField:f,currentOrder:p,onSort:T}),c.jsx(Qn,{field:"latestScore",label:"Latest Score",currentField:f,currentOrder:p,onSort:T}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Assessments"}),c.jsx(Qn,{field:"created_at",label:"Created",currentField:f,currentOrder:p,onSort:T}),c.jsx("th",{className:"px-4 py-3 w-10"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[A.map(C=>c.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>n(C),children:[c.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:C.name}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:C.sector||""}),c.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[C.ownerName,c.jsx("br",{}),c.jsx("span",{className:"text-xs text-gray-400",children:C.ownerEmail})]}),c.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:C.latestScore!=null?`${C.latestScore}%`:""}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:C.assessmentCount}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:Il(C.created_at)}),c.jsx("td",{className:"px-4 py-3",children:c.jsx(ti,{size:16,className:"text-gray-400"})})]},C.id)),A.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-sm text-gray-400",children:"No firms found"})})]})]})}),c.jsx(vp,{page:v,pageSize:S,total:E.length,onChange:x})]})]})}function Wie({firm:e,users:t,assessments:r,onBack:n,onViewAssessment:i}){const s=t.find(d=>d.id===e.user_id),l=r.filter(d=>d.firm_id===e.id).sort((d,f)=>new Date(f.created_at)-new Date(d.created_at));return c.jsxs("div",{className:"p-6 max-w-4xl space-y-6",children:[c.jsxs("button",{onClick:n,className:"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:[c.jsx(Gi,{size:16})," Back to Firms"]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[e.sector||"No sector","  Created ",Il(e.created_at)]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Owner"}),c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"font-medium",children:s?.full_name||"Unknown"}),c.jsx("p",{className:"text-gray-500",children:s?.email}),s?.company_name&&c.jsx("p",{className:"text-gray-400",children:s.company_name})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[c.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Assessments (",l.length,")"]}),l.length>0?c.jsx("div",{className:"space-y-2",children:l.map(d=>{const f=pp(d),h=Object.keys(d.ratings||{}).length;return c.jsxs("div",{className:"flex items-center justify-between py-3 px-4 rounded-lg hover:bg-gray-50 cursor-pointer border border-gray-100",onClick:()=>i(d),children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:"Assessment"}),c.jsx("span",{className:"text-xs text-gray-500 ml-2",children:fl(d.created_at)}),c.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:[h,"/57 metrics rated"]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[f&&c.jsxs("span",{className:`text-sm font-bold ${f.readinessScore>=70?"text-green-600":f.readinessScore>=50?"text-amber-600":"text-red-600"}`,children:[f.readinessScore,"%"]}),c.jsx(ti,{size:16,className:"text-gray-400"})]})]},d.id)})}):c.jsx("p",{className:"text-sm text-gray-400",children:"No assessments yet"})]})]})}function Yie({assessment:e,firm:t,owner:r,onBack:n,onSaveRatings:i,onLogAudit:s}){const[l,d]=b.useState(!1),[f,h]=b.useState(e.ratings||{}),[p,g]=b.useState(!1),[v,x]=b.useState(null),[S,k]=b.useState("scores"),j=pt["M&A-Ready"]||pt[Object.keys(pt)[0]],_=b.useMemo(()=>Vr(f,j),[f,j]),E=(O,M)=>{l&&h(P=>({...P,[O]:{...P[O]||{},level:M,updatedAt:new Date().toISOString()}}))},A=()=>{const O=Object.keys(f).filter(M=>{const P=e.ratings?.[M],I=f[M];return!P&&I?.level||P?.level!==I?.level});x({title:"Save Rating Changes",message:`Save ${O.length} changed metric(s) for this assessment? This will update the user's data and create an audit log entry.`,confirmLabel:"Save",confirmColor:"blue",onConfirm:async()=>{g(!0),x(null);try{await i(e.id,f),await s({action:"edit_assessment_ratings",targetUserId:e.user_id,targetResource:"assessments",targetResourceId:e.id,details:{metrics_changed:O.length,metric_ids:O}}),d(!1)}catch(M){alert("Error saving: "+M.message)}finally{g(!1)}},onCancel:()=>x(null)})},T=()=>{h(e.ratings||{}),d(!1)},C=[{id:"scores",label:"Scores"},{id:"heatmap",label:"Heatmap"},{id:"gaps",label:"Gap Analysis"},{id:"edit",label:"Edit Ratings"}];return c.jsxs("div",{className:"p-6 space-y-4",children:[v&&c.jsx(yp,{...v}),c.jsxs("button",{onClick:n,className:"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:[c.jsx(Gi,{size:16})," Back"]}),c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t?.name||"Assessment"}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Owner: ",r?.full_name||"Unknown","  ",fl(e.created_at)]})]}),c.jsx("div",{className:"flex items-center gap-3",children:_&&c.jsxs("div",{className:`text-2xl font-bold ${_.readinessScore>=70?"text-green-600":_.readinessScore>=50?"text-amber-600":"text-red-600"}`,children:[_.readinessScore,"%"]})})]}),l&&c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg px-4 py-3 flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-blue-800 font-medium",children:"Edit Mode - Changes are not saved until you click Save"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:A,disabled:p,className:"px-3 py-1 text-sm font-medium bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:p?"Saving...":"Save Changes"}),c.jsx("button",{onClick:T,className:"px-3 py-1 text-sm font-medium bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]})]}),c.jsx("div",{className:"flex gap-1 border-b border-gray-200",children:C.map(O=>c.jsx("button",{onClick:()=>{k(O.id),O.id==="edit"&&!l&&d(!0)},className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${S===O.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:O.label},O.id))}),S==="scores"&&c.jsx(Vie,{scores:_,benchmarkObj:j}),S==="heatmap"&&c.jsx(Xie,{ratings:f}),S==="gaps"&&c.jsx(Zie,{scores:_,benchmarkObj:j}),S==="edit"&&c.jsx(Qie,{ratings:f,onRate:E,editMode:l,onToggleEdit:()=>d(!l)})]})}function Vie({scores:e,benchmarkObj:t}){if(!e)return c.jsx(GR,{icon:id,title:"No scores",message:"No metrics have been rated yet"});const r=ke.themes.map(n=>{const i=e.themeScores[n.id],s=t?.[n.id]||0;return{name:n.name,score:i?.pct||0,benchmark:s,rated:i?.rated||0,total:i?.total||0}});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 text-center",children:[c.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"M&A Readiness Score"}),c.jsxs("p",{className:`text-4xl font-bold ${e.readinessScore>=70?"text-green-600":e.readinessScore>=50?"text-amber-600":"text-red-600"}`,children:[e.readinessScore,"%"]}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:e.readinessLevel}),c.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[e.ratedCount,"/",e.totalMetrics," metrics rated"]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Maturity Overview"}),c.jsx("div",{className:"h-80",children:c.jsx(xl,{width:"100%",height:"100%",children:c.jsxs(oR,{data:r,children:[c.jsx(Zw,{stroke:"#e5e7eb"}),c.jsx(t1,{dataKey:"name",tick:{fontSize:10}}),c.jsx(e1,{domain:[0,100],tick:{fontSize:9}}),c.jsx(gu,{name:"Your Score",dataKey:"score",stroke:"#1B4F72",fill:"#1B4F72",fillOpacity:.35,strokeWidth:3}),c.jsx(gu,{name:"M&A-Ready",dataKey:"benchmark",stroke:"#D97706",fill:"#D97706",fillOpacity:.05,strokeWidth:2,strokeDasharray:"5 5"}),c.jsx(Pl,{})]})})})]}),c.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Theme"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Score"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Benchmark"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Gap"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Rated"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map(n=>{const i=n.score-n.benchmark;return c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:n.name}),c.jsxs("td",{className:"px-4 py-3 text-sm font-medium",children:[n.score,"%"]}),c.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500",children:[n.benchmark,"%"]}),c.jsxs("td",{className:`px-4 py-3 text-sm font-medium ${i>=0?"text-green-600":"text-red-600"}`,children:[i>=0?"+":"",i,"%"]}),c.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500",children:[n.rated,"/",n.total]})]},n.name)})})]})})]})}function Xie({ratings:e}){const t={0:{bg:"#F0F0F0",text:"#9CA3AF",label:"Not Rated"},1:{bg:"#FFE0B2",text:"#92400E",label:"Foundational"},2:{bg:"#BBDEFB",text:"#1E40AF",label:"Evolving"},3:{bg:"#A5D6A7",text:"#166534",label:"Optimised"}};return c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex gap-4 text-xs",children:Object.entries(t).map(([r,n])=>c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:n.bg}}),c.jsx("span",{className:"text-gray-600",children:n.label})]},r))}),c.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:ke.themes.map(r=>c.jsxs("div",{className:"mb-4 last:mb-0",children:[c.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:r.name}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:r.metrics.map(n=>{const s=e[n.id]?.level||0,l=t[s];return c.jsxs("div",{className:"px-3 py-2 rounded text-xs font-medium",style:{backgroundColor:l.bg,color:l.text},children:[n.name," - ",l.label]},n.id)})})]},r.id))})]})}function Zie({scores:e,benchmarkObj:t}){if(!e)return c.jsx(GR,{icon:id,title:"No data",message:"Rate some metrics first"});const r=ke.themes.map(n=>{const i=e.themeScores[n.id],s=t?.[n.id]||0,l=i?.pct||0,d=s-l;return{name:n.name,score:l,benchmark:s,gap:d,positive:d<=0}}).sort((n,i)=>i.gap-n.gap);return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5 space-y-3",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Gap Analysis vs M&A-Ready Benchmark"}),r.map(n=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-xs font-medium text-gray-600 w-40 flex-shrink-0",children:n.name}),c.jsxs("div",{className:"flex-1 h-6 bg-gray-100 rounded-full relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full",style:{width:`${n.score}%`,backgroundColor:n.positive?"#22c55e":"#ef4444"}}),c.jsx("div",{className:"absolute inset-y-0 border-l-2 border-amber-500",style:{left:`${n.benchmark}%`}})]}),c.jsxs("span",{className:`text-xs font-medium w-12 text-right ${n.positive?"text-green-600":"text-red-600"}`,children:[n.positive?"+":"-",Math.abs(n.gap),"%"]})]},n.name))]})}function Qie({ratings:e,onRate:t,editMode:r,onToggleEdit:n}){return c.jsxs("div",{className:"space-y-4",children:[!r&&c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:`Click "Edit Ratings" to modify this assessment's metric scores`}),c.jsxs("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:[c.jsx(Dte,{size:14,className:"inline mr-1"})," Enable Edit Mode"]})]}),ke.themes.map(i=>c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:i.name}),c.jsx("div",{className:"space-y-3",children:i.metrics.map(s=>{const d=e[s.id]?.level||0;return c.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-50 last:border-0",children:[c.jsxs("div",{className:"flex-1 mr-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-800",children:s.name}),c.jsx("p",{className:"text-xs text-gray-400",children:s.question})]}),c.jsx("div",{className:"flex gap-1",children:[1,2,3].map(f=>c.jsx("button",{onClick:()=>t(s.id,f),disabled:!r,className:`w-8 h-8 rounded text-xs font-bold transition-colors ${d===f?f===1?"bg-amber-200 text-amber-800 ring-2 ring-amber-400":f===2?"bg-blue-200 text-blue-800 ring-2 ring-blue-400":"bg-green-200 text-green-800 ring-2 ring-green-400":"bg-gray-100 text-gray-400 hover:bg-gray-200"} ${r?"cursor-pointer":"cursor-not-allowed opacity-50"}`,children:f},f))})]},s.id)})})]},i.id))]})}function Jie({contacts:e,users:t,onSelectContact:r}){const[n,i]=b.useState("all"),[s,l]=b.useState(""),[d,f]=b.useState(1),h=25,p=b.useMemo(()=>e.filter(v=>{if(n==="unread"&&v.read||n==="read"&&!v.read)return!1;if(s){const x=s.toLowerCase();if(!v.name?.toLowerCase().includes(x)&&!v.email?.toLowerCase().includes(x)&&!v.message?.toLowerCase().includes(x))return!1}return!0}),[e,n,s]),g=gp(p,d,h);return b.useEffect(()=>{f(1)},[n,s]),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Contact Submissions"}),c.jsxs("span",{className:"text-sm text-gray-500",children:[e.filter(v=>!v.read).length," unread"]})]}),c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsx("div",{className:"flex-1 min-w-[200px]",children:c.jsx(bp,{value:s,onChange:l,placeholder:"Search messages..."})}),c.jsxs("select",{value:n,onChange:v=>i(v.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All"}),c.jsx("option",{value:"unread",children:"Unread"}),c.jsx("option",{value:"read",children:"Read"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase w-8"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Date"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Name"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Email"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Message"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Context"}),c.jsx("th",{className:"px-4 py-3 w-10"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[g.map(v=>{const x=v.user_id?t.find(S=>S.id===v.user_id):null;return c.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${v.read?"":"bg-blue-50/50"}`,onClick:()=>r(v),children:[c.jsx("td",{className:"px-4 py-3",children:!v.read&&c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 whitespace-nowrap",children:Il(v.created_at)}),c.jsx("td",{className:`px-4 py-3 text-sm ${v.read?"text-gray-600":"font-semibold text-gray-900"}`,children:v.name}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:v.email}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 max-w-xs truncate",children:Fie(v.message,80)}),c.jsxs("td",{className:"px-4 py-3 text-sm",children:[v.source_context&&c.jsx(Xr,{color:"purple",children:v.source_context}),x&&c.jsx(Xr,{color:"blue",children:"Registered"})]}),c.jsx("td",{className:"px-4 py-3",children:c.jsx(ti,{size:16,className:"text-gray-400"})})]},v.id)}),g.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-sm text-gray-400",children:"No messages found"})})]})]})}),c.jsx(vp,{page:d,pageSize:h,total:p.length,onChange:f})]})]})}function ese({contact:e,users:t,onBack:r,onMarkRead:n,onMarkUnread:i,onDelete:s}){const l=e.user_id?t.find(h=>h.id===e.user_id):null,[d,f]=b.useState(!1);return b.useEffect(()=>{e.read||n(e.id)},[e.id,e.read,n]),c.jsxs("div",{className:"p-6 max-w-3xl space-y-6",children:[c.jsxs("button",{onClick:r,className:"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:[c.jsx(Gi,{size:16})," Back to Contacts"]}),c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[e.email,"  ",fl(e.created_at)]})]}),c.jsxs("div",{className:"flex gap-2",children:[e.source_context&&c.jsx(Xr,{color:"purple",children:e.source_context}),c.jsx(Xr,{color:e.read?"gray":"blue",children:e.read?"Read":"Unread"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Message"}),c.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:e.message})]}),l&&c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Registered User"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Name:"})," ",c.jsx("span",{className:"font-medium ml-1",children:l.full_name})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Company:"})," ",c.jsx("span",{className:"font-medium ml-1",children:l.company_name||""})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Tier:"})," ",c.jsx(Xr,{color:l.tier==="premium"?"blue":"gray",children:l.tier})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Signed Up:"})," ",c.jsx("span",{className:"font-medium ml-1",children:Il(l.created_at)})]})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("a",{href:`mailto:${e.email}?subject=Re: GrowthLens Enquiry`,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[c.jsx(od,{size:16})," Reply via Email"]}),e.read?c.jsx("button",{onClick:()=>i(e.id),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Mark as Unread"}):c.jsx("button",{onClick:()=>n(e.id),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Mark as Read"}),d?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-red-600 font-medium",children:"Delete this submission?"}),c.jsx("button",{onClick:async()=>{await s(e.id),r()},className:"px-3 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700",children:"Confirm"}),c.jsx("button",{onClick:()=>f(!1),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"})]}):c.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 text-sm font-medium text-red-600 bg-red-50 rounded-lg hover:bg-red-100 flex items-center gap-2",children:[c.jsx(dl,{size:16})," Delete"]})]})]})}function tse({appConfig:e,onUpdateConfig:t,onLogAudit:r}){const[n,i]=b.useState(e.approval_mode||"auto"),[s,l]=b.useState(e.default_tier||"free"),[d,f]=b.useState(!1),[h,p]=b.useState(null),g=n!==(e.approval_mode||"auto")||s!==(e.default_tier||"free"),v=()=>{p({title:"Update Settings",message:`Save platform settings? ${n!==e.approval_mode?`Approval mode  ${n}. `:""}${s!==e.default_tier?`Default tier  ${s}. `:""}`,confirmLabel:"Save",confirmColor:"blue",onConfirm:async()=>{f(!0),p(null);try{n!==e.approval_mode&&(await t("approval_mode",n),await r({action:"update_config",targetResource:"app_config",details:{key:"approval_mode",old_value:e.approval_mode,new_value:n}})),s!==e.default_tier&&(await t("default_tier",s),await r({action:"update_config",targetResource:"app_config",details:{key:"default_tier",old_value:e.default_tier,new_value:s}}))}catch(x){alert("Error saving: "+x.message)}finally{f(!1)}},onCancel:()=>p(null)})};return c.jsxs("div",{className:"p-6 max-w-2xl space-y-6",children:[h&&c.jsx(yp,{...h}),c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Platform Settings"}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"This is a demonstration environment. User credentials are stored client-side for demo purposes. For production use, implement server-side authentication."}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5 space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User Approval Mode"}),c.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Controls whether new sign-ups are automatically approved or require manual admin approval."}),c.jsxs("select",{value:n,onChange:x=>i(x.target.value),className:"w-full max-w-xs px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"auto",children:"Auto - Users approved immediately"}),c.jsx("option",{value:"manual",children:"Manual - Admin approval required"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Tier for New Users"}),c.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"The tier assigned to new user accounts on sign-up."}),c.jsxs("select",{value:s,onChange:x=>l(x.target.value),className:"w-full max-w-xs px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"free",children:"Free"}),c.jsx("option",{value:"premium",children:"Premium"})]})]}),g&&c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsx("button",{onClick:v,disabled:d,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:d?"Saving...":"Save Settings"}),c.jsx("button",{onClick:()=>{i(e.approval_mode||"auto"),l(e.default_tier||"free")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Reset"})]})]})]})}function rse({auditLog:e,users:t}){const[r,n]=b.useState(""),[i,s]=b.useState(1),l=25,d=b.useMemo(()=>{if(!r)return e;const p=r.toLowerCase();return e.filter(g=>{const v=t.find(S=>S.id===g.admin_id),x=t.find(S=>S.id===g.target_user_id);return g.action?.toLowerCase().includes(p)||v?.full_name?.toLowerCase().includes(p)||x?.full_name?.toLowerCase().includes(p)||JSON.stringify(g.details)?.toLowerCase().includes(p)})},[e,t,r]),f=gp(d,i,l);b.useEffect(()=>{s(1)},[r]);const h=p=>({update_tier:"Updated Tier",update_approved:"Updated Approval",update_role:"Updated Role",approve_user:"Approved User",reject_user:"Rejected User",edit_assessment_ratings:"Edited Ratings",mark_contact_read:"Read Contact",update_config:"Updated Config"})[p]||p;return c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Audit Log"}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Tracks activity in this browser session only. Export regularly to maintain records."}),c.jsx("div",{className:"max-w-md",children:c.jsx(bp,{value:r,onChange:n,placeholder:"Search audit entries..."})}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Date"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Admin"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Action"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Target User"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Details"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[f.map(p=>{const g=t.find(x=>x.id===p.admin_id),v=t.find(x=>x.id===p.target_user_id);return c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 whitespace-nowrap",children:fl(p.created_at)}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:g?.full_name||"Unknown"}),c.jsx("td",{className:"px-4 py-3",children:c.jsx(Xr,{color:"blue",children:h(p.action)})}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:v?.full_name||""}),c.jsx("td",{className:"px-4 py-3 text-xs text-gray-500 max-w-xs truncate",children:p.details?JSON.stringify(p.details):""})]},p.id)}),f.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-sm text-gray-400",children:"No audit entries found"})})]})]})}),c.jsx(vp,{page:i,pageSize:l,total:d.length,onChange:s})]})]})}function nse(){const e=Uie.split(`
`),t=[];let r=0;for(let n=0;n<e.length;n++){const i=e[n];if(i.startsWith("# "))t.push(c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:i.slice(2)},r++));else if(i.startsWith("## ")){const s=i.slice(3),l=s.match(/^\[(.+?)\]\s*\u2014\s*(.+)$/);l?t.push(c.jsxs("div",{className:"mt-8 mb-2 flex items-center gap-3",children:[c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:l[1]}),c.jsx("span",{className:"text-sm text-gray-500",children:l[2]})]},r++)):t.push(c.jsx("h2",{className:"text-xl font-semibold text-gray-800 mt-8 mb-2",children:s},r++))}else if(i.startsWith("### "))t.push(c.jsx("h3",{className:"text-base font-semibold text-gray-700 mb-3",children:i.slice(4)},r++));else if(i.startsWith("- ")){const l=i.slice(2).split(/(\*\*.+?\*\*)/g);t.push(c.jsxs("div",{className:"flex gap-2 mb-2 ml-1",children:[c.jsx("span",{className:"text-blue-400 mt-1 flex-shrink-0",children:""}),c.jsx("span",{className:"text-sm text-gray-600 leading-relaxed",children:l.map((d,f)=>d.startsWith("**")&&d.endsWith("**")?c.jsx("strong",{className:"text-gray-800 font-medium",children:d.slice(2,-2)},f):d)})]},r++))}else i.startsWith("---")?t.push(c.jsx("hr",{className:"my-6 border-gray-200"},r++)):i.trim()&&!i.startsWith("All notable")&&t.push(c.jsx("p",{className:"text-sm text-gray-500 mb-4",children:i},r++))}return c.jsx("div",{className:"p-6 max-w-3xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[t,c.jsx("div",{className:"mt-8 pt-4 border-t border-gray-100",children:c.jsxs("p",{className:"text-xs text-gray-400 text-center",children:["Source: ",c.jsx("code",{className:"bg-gray-50 px-1 py-0.5 rounded text-xs",children:"CHANGELOG.md"})," in repository root"]})})]})})}const Zf=[{id:"overview",label:"Overview",icon:sd},{id:"users",label:"Users",icon:ld},{id:"firms",label:"Firms",icon:sp},{id:"contacts",label:"Contacts",icon:od},{id:"settings",label:"Settings",icon:Gte},{id:"audit",label:"Audit Log",icon:Ks},{id:"changelog",label:"Changelog",icon:fR}];function ase(){const{profile:e,signOut:t}=Ir(),r=vl(),n=$ie(),{users:i,firms:s,assessments:l,contacts:d,auditLog:f,appConfig:h,stats:p,loading:g,error:v,updateUserProfile:x,rejectUser:S,deleteUser:k,updateAssessmentRatings:j,markContactRead:_,markContactUnread:E,deleteContact:A,updateAppConfig:T,logAudit:C,reload:O}=n,M=["demo@growthlens.app","richard@gooldy.com"],P=i.filter(le=>!M.includes(le.email?.toLowerCase())),[I,q]=b.useState("overview"),[Z,U]=b.useState(null),[ce,$]=b.useState(null),[te,L]=b.useState(null),[F,ae]=b.useState(null),[ue,ee]=b.useState(null),[D,H]=b.useState(!1),Q=b.useCallback((le,he)=>{he==="approve"?ee({title:"Approve User",message:`Approve ${le.full_name} (${le.email})?`,confirmLabel:"Approve",confirmColor:"green",onConfirm:async()=>{ee(null),await x(le.id,{approved:!0}),await C({action:"approve_user",targetUserId:le.id,targetResource:"profiles",targetResourceId:le.id,details:{approved:!0}})},onCancel:()=>ee(null)}):he==="reject"?ee({title:"Reject User",message:`Reject ${le.full_name} (${le.email})? Their account will remain but be marked as unapproved.`,confirmLabel:"Reject",confirmColor:"red",onConfirm:async()=>{ee(null),await S(le.id),await C({action:"reject_user",targetUserId:le.id,targetResource:"profiles",targetResourceId:le.id,details:{approved:!1}})},onCancel:()=>ee(null)}):he==="delete"?ee({title:"Delete User",message:`Permanently delete ${le.full_name} (${le.email})? This will remove all their firms, assessments, and data. This action cannot be undone.`,confirmLabel:"Delete User",confirmColor:"red",onConfirm:async()=>{ee(null);try{await k(le.id),await C({action:"delete_user",targetUserId:le.id,targetResource:"profiles",targetResourceId:le.id,details:{email:le.email,full_name:le.full_name}}),U(null),q("users")}catch{}},onCancel:()=>ee(null)}):(U(le),q("user-detail"))},[x,S,k,C]);if(g)return c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-slate-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 font-medium",children:"Loading admin dashboard..."})]})});if(v)return c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center max-w-md",children:[c.jsx(lp,{size:40,className:"mx-auto text-red-400 mb-3"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Data"}),c.jsx("p",{className:"text-sm text-gray-500 mb-4",children:v}),c.jsx("button",{onClick:O,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:"Retry"})]})});const ie=()=>{switch(I){case"overview":return c.jsx(AC,{users:P,firms:s,assessments:l,contacts:d,stats:p});case"users":return c.jsx(Hie,{users:P,firms:s,assessments:l,onSelectUser:Q,appConfig:h});case"user-detail":return Z?c.jsx(Gie,{user:Z,firms:s,assessments:l,onBack:()=>{U(null),q("users")},onSave:x,onLogAudit:C,onViewFirm:le=>{$(le),q("firm-detail")},onDeleteUser:le=>Q(le,"delete")}):null;case"firms":return c.jsx(Kie,{firms:s,users:i,assessments:l,onSelectFirm:le=>{$(le),q("firm-detail")}});case"firm-detail":return ce?c.jsx(Wie,{firm:ce,users:i,assessments:l,onBack:()=>{$(null),q("firms")},onViewAssessment:le=>{L(le),q("assessment-detail")}}):null;case"assessment-detail":return te?c.jsx(Yie,{assessment:te,firm:s.find(le=>le.id===te.firm_id),owner:i.find(le=>le.id===te.user_id),onBack:()=>{L(null),q(ce?"firm-detail":"firms")},onSaveRatings:j,onLogAudit:C}):null;case"contacts":return c.jsx(Jie,{contacts:d,users:i,onSelectContact:le=>{ae(le),q("contact-detail")}});case"contact-detail":return F?c.jsx(ese,{contact:F,users:i,onBack:()=>{ae(null),q("contacts")},onMarkRead:_,onMarkUnread:E,onDelete:A}):null;case"settings":return c.jsx(tse,{appConfig:h,onUpdateConfig:T,onLogAudit:C});case"audit":return c.jsx(rse,{auditLog:f,users:i});case"changelog":return c.jsx(nse,{});default:return c.jsx(AC,{users:i,firms:s,assessments:l,contacts:d,stats:p})}},me=Zf.find(le=>le.id===I)||Zf.find(le=>le.id===I.split("-")[0])||Zf[0];return c.jsxs("div",{className:"h-screen flex bg-gray-50",style:{fontFamily:"Inter, system-ui, sans-serif"},children:[ue&&c.jsx(yp,{...ue}),c.jsxs("aside",{className:`${D?"translate-x-0":"-translate-x-full"} md:translate-x-0 fixed md:static inset-y-0 left-0 z-40 w-64 bg-slate-900 text-white flex flex-col transition-transform duration-200`,children:[c.jsx("div",{className:"px-5 py-4 border-b border-slate-700",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center bg-amber-500",children:c.jsx(Ks,{size:18,className:"text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-sm font-bold text-white leading-tight",children:"GrowthLens"}),c.jsx("p",{className:"text-xs text-slate-400",children:"Admin Dashboard"})]})]})}),c.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:Zf.map(le=>{const he=le.icon,ot=I===le.id||I.startsWith(le.id),re=le.id==="contacts"&&p.unreadContacts>0?p.unreadContacts:le.id==="users"&&p.pendingApprovals>0?p.pendingApprovals:null;return c.jsxs("button",{onClick:()=>{q(le.id),H(!1),U(null),$(null),L(null),ae(null)},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors ${ot?"bg-slate-700 text-white":"text-slate-300 hover:text-white hover:bg-slate-800"}`,children:[c.jsx(he,{size:18}),c.jsx("span",{className:"flex-1 text-left",children:le.label}),re!=null&&c.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full min-w-[20px] text-center",children:re})]},le.id)})}),c.jsxs("div",{className:"px-3 py-4 border-t border-slate-700 space-y-1",children:[c.jsxs("button",{onClick:()=>r("/app"),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-slate-300 hover:text-white hover:bg-slate-800 transition-colors",children:[c.jsx(Gs,{size:18}),c.jsx("span",{children:"Switch to User View"})]}),c.jsxs("button",{onClick:()=>O(),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-slate-300 hover:text-white hover:bg-slate-800 transition-colors",children:[c.jsx(zte,{size:18}),c.jsx("span",{children:"Refresh Data"})]}),c.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-slate-300 hover:text-white hover:bg-slate-800 transition-colors",children:[c.jsx(pR,{size:18}),c.jsx("span",{children:"Sign Out"})]})]})]}),D&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>H(!1)}),c.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[c.jsxs("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center justify-between px-4 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>H(!D),className:"md:hidden p-1 text-gray-500 hover:text-gray-700",children:D?c.jsx(qn,{size:20}):c.jsx(sd,{size:20})}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:me.label})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm text-gray-500 hidden sm:block",children:e?.full_name}),c.jsx(Xr,{color:"purple",children:"Admin"})]})]}),c.jsx("main",{className:"flex-1 overflow-y-auto",children:ie()})]})]})}class ise extends b.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){}render(){return this.state.hasError?Fc.createElement("div",{style:{padding:"2rem",fontFamily:"monospace",background:"#1a1a2e",color:"#e94560",minHeight:"100vh"}},Fc.createElement("h2",null,"Something went wrong"),Fc.createElement("pre",{style:{whiteSpace:"pre-wrap",marginTop:"1rem",color:"#fff"}},String(this.state.error)),Fc.createElement("button",{onClick:()=>window.location.reload(),style:{marginTop:"1rem",padding:"0.5rem 1rem",background:"#f2a71b",color:"#000",border:"none",borderRadius:"4px",cursor:"pointer"}},"Reload")):this.props.children}}const sse="/";m6.createRoot(document.getElementById("root")).render(c.jsx(b.StrictMode,{children:c.jsx(DI,{basename:sse,children:c.jsx(Bae,{children:c.jsx(Uae,{children:c.jsxs(dI,{children:[c.jsx(ms,{path:"/",element:c.jsx(_C,{})}),c.jsx(ms,{path:"/login",element:c.jsx(Iie,{})}),c.jsx(ms,{path:"/signup",element:c.jsx(Bie,{})}),c.jsx(ms,{path:"/app",element:c.jsx(zie,{children:c.jsx(ise,{children:c.jsx(Nie,{})})})}),c.jsx(ms,{path:"/admin",element:c.jsx(qie,{children:c.jsx(ase,{})})}),c.jsx(ms,{path:"*",element:c.jsx(_C,{})})]})})})})}));
